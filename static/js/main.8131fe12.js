/*! For license information please see main.8131fe12.js.LICENSE.txt */
(()=>{"use strict";var t={463:(t,e,n)=>{var i=n(791),r=n(296);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)s.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,n,i,r,o,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}function v(t,e,n,i){var r=m.hasOwnProperty(e)?m[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,_);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,_);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,_);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),P=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function A(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var L,F=Object.assign;function z(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var B=!1;function j(t,e){if(!t||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||r[s]!==o[a]){var l="\n"+r[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=s&&0<=a);break}}}finally{B=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?z(t):""}function W(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=j(t.type,!1);case 11:return t=j(t.type.render,!1);case 1:return t=j(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case C:return"Fragment";case w:return"Portal";case S:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case P:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case D:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case R:e=t._payload,t=t._init;try{return V(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function U(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function $(t){t._valueTracker||(t._valueTracker=function(t){var e=q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Y(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=q(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function K(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Q(t,e){var n=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function G(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=U(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&v(t,"checked",e,!1)}function Z(t,e){X(t,e);var n=U(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,U(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&K(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+U(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:U(n)}}function ot(t,e){var n=U(e.value),i=U(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function st(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=gt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var yt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function vt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var wt=null,Ct=null,kt=null;function St(t){if(t=vr(t)){if("function"!==typeof wt)throw Error(o(280));var e=t.stateNode;e&&(e=xr(e),wt(t.stateNode,t.type,e))}}function Et(t){Ct?kt?kt.push(t):kt=[t]:Ct=t}function Pt(){if(Ct){var t=Ct,e=kt;if(kt=Ct=null,St(t),e)for(t=0;t<e.length;t++)St(e[t])}}function Tt(t,e){return t(e)}function Mt(){}var It=!1;function Dt(t,e,n){if(It)return t(e,n);It=!0;try{return Tt(t,e,n)}finally{It=!1,(null!==Ct||null!==kt)&&(Mt(),Pt())}}function Rt(t,e){var n=t.stateNode;if(null===n)return null;var i=xr(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var Nt=!1;if(u)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Nt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ut){Nt=!1}function At(t,e,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lt=!1,Ft=null,zt=!1,Bt=null,jt={onError:function(t){Lt=!0,Ft=t}};function Wt(t,e,n,i,r,o,s,a,l){Lt=!1,Ft=null,At.apply(jt,arguments)}function Vt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ut(t){if(Vt(t)!==t)throw Error(o(188))}function qt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Ut(r),t;if(s===i)return Ut(r),e;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?$t(t):null}function $t(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=$t(t);if(null!==e)return e;t=t.sibling}return null}var Yt=r.unstable_scheduleCallback,Kt=r.unstable_cancelCallback,Qt=r.unstable_shouldYield,Gt=r.unstable_requestPaint,Xt=r.unstable_now,Zt=r.unstable_getCurrentPriorityLevel,Jt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,oe=null;var se=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=268435455&n;if(0!==s){var a=s&~r;0!==a?i=he(a):0!==(o&=s)&&(i=he(o))}else 0!==(s=n&~r)?i=he(s):0!==o&&(i=he(o));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(o=e&-e)||16===r&&0!==(4194240&o)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-se(e)),i|=t[n],e&=~r;return i}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-se(e)]=n}function _e(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-se(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ve=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var xe,we,Ce,ke,Se,Ee=!1,Pe=[],Te=null,Me=null,Ie=null,De=new Map,Re=new Map,Ne=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ae(t,e){switch(t){case"focusin":case"focusout":Te=null;break;case"dragenter":case"dragleave":Me=null;break;case"mouseover":case"mouseout":Ie=null;break;case"pointerover":case"pointerout":De.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Re.delete(e.pointerId)}}function Le(t,e,n,i,r,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==e&&(null!==(e=vr(e))&&we(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Fe(t){var e=_r(t.target);if(null!==e){var n=Vt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void Se(t.priority,(function(){Ce(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ze(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=vr(n))&&we(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);bt=i,n.target.dispatchEvent(i),bt=null,e.shift()}return!0}function Be(t,e,n){ze(t)&&n.delete(e)}function je(){Ee=!1,null!==Te&&ze(Te)&&(Te=null),null!==Me&&ze(Me)&&(Me=null),null!==Ie&&ze(Ie)&&(Ie=null),De.forEach(Be),Re.forEach(Be)}function We(t,e){t.blockedOn===e&&(t.blockedOn=null,Ee||(Ee=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,je)))}function Ve(t){function e(e){return We(e,t)}if(0<Pe.length){We(Pe[0],t);for(var n=1;n<Pe.length;n++){var i=Pe[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Te&&We(Te,t),null!==Me&&We(Me,t),null!==Ie&&We(Ie,t),De.forEach(e),Re.forEach(e),n=0;n<Ne.length;n++)(i=Ne[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Ne.length&&null===(n=Ne[0]).blockedOn;)Fe(n),null===n.blockedOn&&Ne.shift()}var He=b.ReactCurrentBatchConfig,Ue=!0;function qe(t,e,n,i){var r=ve,o=He.transition;He.transition=null;try{ve=1,Ye(t,e,n,i)}finally{ve=r,He.transition=o}}function $e(t,e,n,i){var r=ve,o=He.transition;He.transition=null;try{ve=4,Ye(t,e,n,i)}finally{ve=r,He.transition=o}}function Ye(t,e,n,i){if(Ue){var r=Qe(t,e,n,i);if(null===r)Ui(t,e,i,Ke,n),Ae(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Te=Le(Te,t,e,n,i,r),!0;case"dragenter":return Me=Le(Me,t,e,n,i,r),!0;case"mouseover":return Ie=Le(Ie,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return De.set(o,Le(De.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Re.set(o,Le(Re.get(o)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(Ae(t,i),4&e&&-1<Oe.indexOf(t)){for(;null!==r;){var o=vr(r);if(null!==o&&xe(o),null===(o=Qe(t,e,n,i))&&Ui(t,e,i,Ke,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Ui(t,e,i,null,n)}}var Ke=null;function Qe(t,e,n,i){if(Ke=null,null!==(t=_r(t=xt(i))))if(null===(e=Vt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function Ge(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case Jt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var Xe=null,Ze=null,Je=null;function tn(){if(Je)return Je;var t,e,n=Ze,i=n.length,r="value"in Xe?Xe.value:Xe.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);return Je=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,i,r,o){for(var s in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=F({},cn,{view:0,detail:0}),dn=on(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(sn=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=sn=0,ln=t),sn)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=on(fn),gn=on(F({},fn,{dataTransfer:0})),mn=on(F({},hn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=F({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vn=on(_n),bn=on(F({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cn[t])&&!!e[t]}function Sn(){return kn}var En=F({},hn,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?wn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Pn=on(En),Tn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),In=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Dn),Nn=[9,13,27,32],On=u&&"CompositionEvent"in window,An=null;u&&"documentMode"in document&&(An=document.documentMode);var Ln=u&&"TextEvent"in window&&!An,Fn=u&&(!On||An&&8<An&&11>=An),zn=String.fromCharCode(32),Bn=!1;function jn(t,e){switch(t){case"keyup":return-1!==Nn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function qn(t,e,n,i){Et(i),0<(e=$i(e,"onChange")).length&&(n=new un("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var $n=null,Yn=null;function Kn(t){zi(t,0)}function Qn(t){if(Y(br(t)))return t}function Gn(t,e){if("change"===t)return e}var Xn=!1;if(u){var Zn;if(u){var Jn="oninput"in document;if(!Jn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Jn="function"===typeof ti.oninput}Zn=Jn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function ei(){$n&&($n.detachEvent("onpropertychange",ni),Yn=$n=null)}function ni(t){if("value"===t.propertyName&&Qn(Yn)){var e=[];qn(e,Yn,t,xt(t)),Dt(Kn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Yn=n,($n=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Qn(Yn)}function oi(t,e){if("click"===t)return Qn(e)}function si(t,e){if("input"===t||"change"===t)return Qn(e)}var ai="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(ai(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(e,r)||!ai(t[r],e[r]))return!1}return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ui(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=K((t=e.contentWindow).document)}return e}function fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=di(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=ui(n,o);var s=ui(n,i);r&&s&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,yi=null,_i=null,vi=!1;function bi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vi||null==mi||mi!==K(i)||("selectionStart"in(i=mi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},_i&&li(_i,i)||(_i=i,0<(i=$i(yi,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function xi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wi={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},Ci={},ki={};function Si(t){if(Ci[t])return Ci[t];if(!wi[t])return t;var e,n=wi[t];for(e in n)if(n.hasOwnProperty(e)&&e in ki)return Ci[t]=n[e];return t}u&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ei=Si("animationend"),Pi=Si("animationiteration"),Ti=Si("animationstart"),Mi=Si("transitionend"),Ii=new Map,Di="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(t,e){Ii.set(t,e),l(e,[t])}for(var Ni=0;Ni<Di.length;Ni++){var Oi=Di[Ni];Ri(Oi.toLowerCase(),"on"+(Oi[0].toUpperCase()+Oi.slice(1)))}Ri(Ei,"onAnimationEnd"),Ri(Pi,"onAnimationIteration"),Ri(Ti,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Mi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function Fi(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,s,a,l,c){if(Wt.apply(this,arguments),Lt){if(!Lt)throw Error(o(198));var u=Ft;Lt=!1,Ft=null,zt||(zt=!0,Bt=u)}}(i,e,void 0,t),t.currentTarget=null}function zi(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break t;Fi(r,a,c),o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break t;Fi(r,a,c),o=l}}}if(zt)throw t=Bt,zt=!1,Bt=null,t}function Bi(t,e){var n=e[gr];void 0===n&&(n=e[gr]=new Set);var i=t+"__bubble";n.has(i)||(Hi(e,t,2,!1),n.add(i))}function ji(t,e,n){var i=0;e&&(i|=4),Hi(n,t,i,e)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function Vi(t){if(!t[Wi]){t[Wi]=!0,s.forEach((function(e){"selectionchange"!==e&&(Li.has(e)||ji(e,!1,t),ji(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Wi]||(e[Wi]=!0,ji("selectionchange",!1,e))}}function Hi(t,e,n,i){switch(Ge(e)){case 1:var r=qe;break;case 4:r=$e;break;default:r=Ye}n=r.bind(null,e,n,t),r=void 0,!Nt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ui(t,e,n,i,r){var o=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=_r(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue t}a=a.parentNode}}i=i.return}Dt((function(){var i=o,r=xt(n),s=[];t:{var a=Ii.get(t);if(void 0!==a){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Ei:case Pi:case Ti:l=yn;break;case Mi:l=In;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=i;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Rt(p,d))&&u.push(qi(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,r),s.push({event:a,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===bt||!(c=n.relatedTarget||n.fromElement)||!_r(c)&&!c[pr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?_r(c):null)&&(c!==(h=Vt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=Tn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:br(l),f=null==c?a:br(c),(a=new u(g,p+"leave",l,n,r)).target=h,a.relatedTarget=f,g=null,_r(r)===i&&((u=new u(d,p+"enter",c,n,r)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Yi(f))p++;for(f=0,g=d;g;g=Yi(g))f++;for(;0<p-f;)u=Yi(u),p--;for(;0<f-p;)d=Yi(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Yi(u),d=Yi(d)}u=null}else u=null;null!==l&&Ki(s,a,l,u,!1),null!==c&&null!==h&&Ki(s,h,c,u,!0)}if("select"===(l=(a=i?br(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Gn;else if(Un(a))if(Xn)m=si;else{m=ri;var y=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=oi);switch(m&&(m=m(t,i))?qn(s,m,n,r):(y&&y(t,a,i),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&tt(a,"number",a.value)),y=i?br(i):window,t){case"focusin":(Un(y)||"true"===y.contentEditable)&&(mi=y,yi=i,_i=null);break;case"focusout":_i=yi=mi=null;break;case"mousedown":vi=!0;break;case"contextmenu":case"mouseup":case"dragend":vi=!1,bi(s,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":bi(s,n,r)}var _;if(On)t:{switch(t){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else Vn?jn(t,n)&&(v="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(v="onCompositionStart");v&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Vn&&(_=tn()):(Ze="value"in(Xe=r)?Xe.value:Xe.textContent,Vn=!0)),0<(y=$i(i,v)).length&&(v=new bn(v,t,null,n,r),s.push({event:v,listeners:y}),_?v.data=_:null!==(_=Wn(n))&&(v.data=_))),(_=Ln?function(t,e){switch(t){case"compositionend":return Wn(e);case"keypress":return 32!==e.which?null:(Bn=!0,zn);case"textInput":return(t=e.data)===zn&&Bn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!On&&jn(t,e)?(t=tn(),Je=Ze=Xe=null,Vn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=$i(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=_))}zi(s,e)}))}function qi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $i(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Rt(t,n))&&i.unshift(qi(t,o,r)),null!=(o=Rt(t,e))&&i.push(qi(t,o,r))),t=t.return}return i}function Yi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Ki(t,e,n,i,r){for(var o=e._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Rt(n,o))&&s.unshift(qi(n,l,a)):r||null!=(l=Rt(n,o))&&s.push(qi(n,l,a))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}var Qi=/\r\n?/g,Gi=/\u0000|\uFFFD/g;function Xi(t){return("string"===typeof t?t:""+t).replace(Qi,"\n").replace(Gi,"")}function Zi(t,e,n){if(e=Xi(e),Xi(t)!==e&&n)throw Error(o(425))}function Ji(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(t){return or.resolve(null).then(t).catch(ar)}:ir;function ar(t){setTimeout((function(){throw t}))}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void Ve(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Ve(e)}function cr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ur(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,fr="__reactProps$"+hr,pr="__reactContainer$"+hr,gr="__reactEvents$"+hr,mr="__reactListeners$"+hr,yr="__reactHandles$"+hr;function _r(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[dr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ur(t);null!==t;){if(n=t[dr])return n;t=ur(t)}return e}n=(t=n).parentNode}return null}function vr(t){return!(t=t[dr]||t[pr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function br(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function xr(t){return t[fr]||null}var wr=[],Cr=-1;function kr(t){return{current:t}}function Sr(t){0>Cr||(t.current=wr[Cr],wr[Cr]=null,Cr--)}function Er(t,e){Cr++,wr[Cr]=t.current,t.current=e}var Pr={},Tr=kr(Pr),Mr=kr(!1),Ir=Pr;function Dr(t,e){var n=t.type.contextTypes;if(!n)return Pr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Rr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Nr(){Sr(Mr),Sr(Tr)}function Or(t,e,n){if(Tr.current!==Pr)throw Error(o(168));Er(Tr,e),Er(Mr,n)}function Ar(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(o(108,H(t)||"Unknown",r));return F({},n,i)}function Lr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,Ir=Tr.current,Er(Tr,t),Er(Mr,Mr.current),!0}function Fr(t,e,n){var i=t.stateNode;if(!i)throw Error(o(169));n?(t=Ar(t,e,Ir),i.__reactInternalMemoizedMergedChildContext=t,Sr(Mr),Sr(Tr),Er(Tr,t)):Sr(Mr),Er(Mr,n)}var zr=null,Br=!1,jr=!1;function Wr(t){null===zr?zr=[t]:zr.push(t)}function Vr(){if(!jr&&null!==zr){jr=!0;var t=0,e=ve;try{var n=zr;for(ve=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}zr=null,Br=!1}catch(r){throw null!==zr&&(zr=zr.slice(t+1)),Yt(Jt,Vr),r}finally{ve=e,jr=!1}}return null}var Hr=[],Ur=0,qr=null,$r=0,Yr=[],Kr=0,Qr=null,Gr=1,Xr="";function Zr(t,e){Hr[Ur++]=$r,Hr[Ur++]=qr,qr=t,$r=e}function Jr(t,e,n){Yr[Kr++]=Gr,Yr[Kr++]=Xr,Yr[Kr++]=Qr,Qr=t;var i=Gr;t=Xr;var r=32-se(i)-1;i&=~(1<<r),n+=1;var o=32-se(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Gr=1<<32-se(e)+r|n<<r|i,Xr=o+t}else Gr=1<<o|n<<r|i,Xr=t}function to(t){null!==t.return&&(Zr(t,1),Jr(t,1,0))}function eo(t){for(;t===qr;)qr=Hr[--Ur],Hr[Ur]=null,$r=Hr[--Ur],Hr[Ur]=null;for(;t===Qr;)Qr=Yr[--Kr],Yr[Kr]=null,Xr=Yr[--Kr],Yr[Kr]=null,Gr=Yr[--Kr],Yr[Kr]=null}var no=null,io=null,ro=!1,oo=null;function so(t,e){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function ao(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,io=cr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,io=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Qr?{id:Gr,overflow:Xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,io=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function co(t){if(ro){var e=io;if(e){var n=e;if(!ao(t,e)){if(lo(t))throw Error(o(418));e=cr(n.nextSibling);var i=no;e&&ao(t,e)?so(i,n):(t.flags=-4097&t.flags|2,ro=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,ro=!1,no=t}}}function uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!ro)return uo(t),ro=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=io)){if(lo(t))throw fo(),Error(o(418));for(;e;)so(t,e),e=cr(e.nextSibling)}if(uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){io=cr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}io=null}}else io=no?cr(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=io;t;)t=cr(t.nextSibling)}function po(){io=no=null,ro=!1}function go(t){null===oo?oo=[t]:oo.push(t)}var mo=b.ReactCurrentBatchConfig;function yo(t,e){if(t&&t.defaultProps){for(var n in e=F({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var _o=kr(null),vo=null,bo=null,xo=null;function wo(){xo=bo=vo=null}function Co(t){var e=_o.current;Sr(_o),t._currentValue=e}function ko(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function So(t,e){vo=t,xo=bo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ba=!0),t.firstContext=null)}function Eo(t){var e=t._currentValue;if(xo!==t)if(t={context:t,memoizedValue:e,next:null},null===bo){if(null===vo)throw Error(o(308));bo=t,vo.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var Po=null;function To(t){null===Po?Po=[t]:Po.push(t)}function Mo(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,To(e)):(n.next=r.next,r.next=n),e.interleaved=n,Io(t,i)}function Io(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Ro(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Oo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ao(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Ml)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Io(t,n)}return null===(r=i.interleaved)?(e.next=e,To(i)):(e.next=r.next,r.next=e),i.interleaved=e,Io(t,n)}function Lo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,_e(t,n)}}function Fo(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=e:o=o.next=e}else r=o=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zo(t,e,n,i){var r=t.updateQueue;Do=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=t.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=r.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break t;h=F({},h,d);break t;case 2:Do=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(e=r.shared.interleaved)){r=e;do{s|=r.lane,r=r.next}while(r!==e)}else null===o&&(r.shared.lanes=0);Fl|=s,t.lanes=s,t.memoizedState=h}}function Bo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var jo=(new i.Component).refs;function Wo(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:F({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Vo={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ec(),r=nc(t),o=Oo(i,r);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Ao(t,o,r))&&(ic(e,t,r,i),Lo(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ec(),r=nc(t),o=Oo(i,r);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Ao(t,o,r))&&(ic(e,t,r,i),Lo(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ec(),i=nc(t),r=Oo(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Ao(t,r,i))&&(ic(e,t,i,n),Lo(e,t,i))}};function Ho(t,e,n,i,r,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function Uo(t,e,n){var i=!1,r=Pr,o=e.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(r=Rr(e)?Ir:Tr.current,o=(i=null!==(i=e.contextTypes)&&void 0!==i)?Dr(t,r):Pr),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Vo,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function qo(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Vo.enqueueReplaceState(e,e.state,null)}function $o(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=jo,Ro(t);var o=e.contextType;"object"===typeof o&&null!==o?r.context=Eo(o):(o=Rr(e)?Ir:Tr.current,r.context=Dr(t,o)),r.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(Wo(t,e,o,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&Vo.enqueueReplaceState(r,r.state,null),zo(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function Yo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,t));var r=i,s=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===s?e.ref:(e=function(t){var e=r.refs;e===jo&&(e=r.refs={}),null===t?delete e[s]:e[s]=t},e._stringRef=s,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Ko(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qo(t){return(0,t._init)(t._payload)}function Go(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Oc(t,e)).index=0,t.sibling=null,t}function s(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=zc(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var o=n.type;return o===C?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Qo(o)===e.type)?((i=r(e,n.props)).ref=Yo(t,e,n),i.return=t,i):((i=Ac(n.type,n.key,n.props,null,t.mode,i)).ref=Yo(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Bc(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,o){return null===e||7!==e.tag?((e=Lc(n,t.mode,i,o)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=zc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Ac(e.type,e.key,e.props,null,t.mode,n)).ref=Yo(t,null,e),n.return=t,n;case w:return(e=Bc(e,t.mode,n)).return=t,e;case R:return d(t,(0,e._init)(e._payload),n)}if(et(e)||A(e))return(e=Lc(e,t.mode,n,null)).return=t,e;Ko(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?c(t,e,n,i):null;case w:return n.key===r?u(t,e,n,i):null;case R:return f(t,e,(r=n._init)(n._payload),i)}if(et(n)||A(n))return null!==r?null:h(t,e,n,i,null);Ko(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case w:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case R:return p(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||A(i))return h(e,t=t.get(n)||null,i,r,null);Ko(e,i)}return null}function g(r,o,a,l){for(var c=null,u=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(r,h,a[g],l);if(null===y){null===h&&(h=m);break}t&&h&&null===y.alternate&&e(r,h),o=s(y,o,g),null===u?c=y:u.sibling=y,u=y,h=m}if(g===a.length)return n(r,h),ro&&Zr(r,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(r,a[g],l))&&(o=s(h,o,g),null===u?c=h:u.sibling=h,u=h);return ro&&Zr(r,g),c}for(h=i(r,h);g<a.length;g++)null!==(m=p(h,r,g,a[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(r,t)})),ro&&Zr(r,g),c}function m(r,a,l,c){var u=A(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,g=a,m=a=0,y=null,_=l.next();null!==g&&!_.done;m++,_=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var v=f(r,g,_.value,c);if(null===v){null===g&&(g=y);break}t&&g&&null===v.alternate&&e(r,g),a=s(v,a,m),null===h?u=v:h.sibling=v,h=v,g=y}if(_.done)return n(r,g),ro&&Zr(r,m),u;if(null===g){for(;!_.done;m++,_=l.next())null!==(_=d(r,_.value,c))&&(a=s(_,a,m),null===h?u=_:h.sibling=_,h=_);return ro&&Zr(r,m),u}for(g=i(r,g);!_.done;m++,_=l.next())null!==(_=p(g,r,m,_.value,c))&&(t&&null!==_.alternate&&g.delete(null===_.key?m:_.key),a=s(_,a,m),null===h?u=_:h.sibling=_,h=_);return t&&g.forEach((function(t){return e(r,t)})),ro&&Zr(r,m),u}return function t(i,o,s,l){if("object"===typeof s&&null!==s&&s.type===C&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:t:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===C){if(7===u.tag){n(i,u.sibling),(o=r(u,s.props.children)).return=i,i=o;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qo(c)===u.type){n(i,u.sibling),(o=r(u,s.props)).ref=Yo(i,u,s),o.return=i,i=o;break t}n(i,u);break}e(i,u),u=u.sibling}s.type===C?((o=Lc(s.props.children,i.mode,l,s.key)).return=i,i=o):((l=Ac(s.type,s.key,s.props,null,i.mode,l)).ref=Yo(i,o,s),l.return=i,i=l)}return a(i);case w:t:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(i,o.sibling),(o=r(o,s.children||[])).return=i,i=o;break t}n(i,o);break}e(i,o),o=o.sibling}(o=Bc(s,i.mode,l)).return=i,i=o}return a(i);case R:return t(i,o,(u=s._init)(s._payload),l)}if(et(s))return g(i,o,s,l);if(A(s))return m(i,o,s,l);Ko(i,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,s)).return=i,i=o):(n(i,o),(o=zc(s,i.mode,l)).return=i,i=o),a(i)):n(i,o)}}var Xo=Go(!0),Zo=Go(!1),Jo={},ts=kr(Jo),es=kr(Jo),ns=kr(Jo);function is(t){if(t===Jo)throw Error(o(174));return t}function rs(t,e){switch(Er(ns,e),Er(es,t),Er(ts,Jo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Sr(ts),Er(ts,e)}function os(){Sr(ts),Sr(es),Sr(ns)}function ss(t){is(ns.current);var e=is(ts.current),n=lt(e,t.type);e!==n&&(Er(es,t),Er(ts,n))}function as(t){es.current===t&&(Sr(ts),Sr(es))}var ls=kr(0);function cs(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var us=[];function hs(){for(var t=0;t<us.length;t++)us[t]._workInProgressVersionPrimary=null;us.length=0}var ds=b.ReactCurrentDispatcher,fs=b.ReactCurrentBatchConfig,ps=0,gs=null,ms=null,ys=null,_s=!1,vs=!1,bs=0,xs=0;function ws(){throw Error(o(321))}function Cs(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function ks(t,e,n,i,r,s){if(ps=s,gs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ds.current=null===t||null===t.memoizedState?aa:la,t=n(i,r),vs){s=0;do{if(vs=!1,bs=0,25<=s)throw Error(o(301));s+=1,ys=ms=null,e.updateQueue=null,ds.current=ca,t=n(i,r)}while(vs)}if(ds.current=sa,e=null!==ms&&null!==ms.next,ps=0,ys=ms=gs=null,_s=!1,e)throw Error(o(300));return t}function Ss(){var t=0!==bs;return bs=0,t}function Es(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?gs.memoizedState=ys=t:ys=ys.next=t,ys}function Ps(){if(null===ms){var t=gs.alternate;t=null!==t?t.memoizedState:null}else t=ms.next;var e=null===ys?gs.memoizedState:ys.next;if(null!==e)ys=e,ms=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ms=t).memoizedState,baseState:ms.baseState,baseQueue:ms.baseQueue,queue:ms.queue,next:null},null===ys?gs.memoizedState=ys=t:ys=ys.next=t}return ys}function Ts(t,e){return"function"===typeof e?e(t):e}function Ms(t){var e=Ps(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=ms,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,i=i.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ps&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,gs.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==s);null===c?a=i:c.next=l,ai(i,e.memoizedState)||(ba=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{s=r.lane,gs.lanes|=s,Fl|=s,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Is(t){var e=Ps(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=t(s,a.action),a=a.next}while(a!==r);ai(s,e.memoizedState)||(ba=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Ds(){}function Rs(t,e){var n=gs,i=Ps(),r=e(),s=!ai(i.memoizedState,r);if(s&&(i.memoizedState=r,ba=!0),i=i.queue,Us(As.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,Bs(9,Os.bind(null,n,i,r,e),void 0,null),null===Il)throw Error(o(349));0!==(30&ps)||Ns(n,e,r)}return r}function Ns(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=gs.updateQueue)?(e={lastEffect:null,stores:null},gs.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Os(t,e,n,i){e.value=n,e.getSnapshot=i,Ls(e)&&Fs(t)}function As(t,e,n){return n((function(){Ls(e)&&Fs(t)}))}function Ls(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(i){return!0}}function Fs(t){var e=Io(t,1);null!==e&&ic(e,t,1,-1)}function zs(t){var e=Es();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:t},e.queue=t,t=t.dispatch=na.bind(null,gs,t),[e.memoizedState,t]}function Bs(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=gs.updateQueue)?(e={lastEffect:null,stores:null},gs.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function js(){return Ps().memoizedState}function Ws(t,e,n,i){var r=Es();gs.flags|=t,r.memoizedState=Bs(1|e,n,void 0,void 0===i?null:i)}function Vs(t,e,n,i){var r=Ps();i=void 0===i?null:i;var o=void 0;if(null!==ms){var s=ms.memoizedState;if(o=s.destroy,null!==i&&Cs(i,s.deps))return void(r.memoizedState=Bs(e,n,o,i))}gs.flags|=t,r.memoizedState=Bs(1|e,n,o,i)}function Hs(t,e){return Ws(8390656,8,t,e)}function Us(t,e){return Vs(2048,8,t,e)}function qs(t,e){return Vs(4,2,t,e)}function $s(t,e){return Vs(4,4,t,e)}function Ys(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ks(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Vs(4,4,Ys.bind(null,e,t),n)}function Qs(){}function Gs(t,e){var n=Ps();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Cs(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Xs(t,e){var n=Ps();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Cs(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Zs(t,e,n){return 0===(21&ps)?(t.baseState&&(t.baseState=!1,ba=!0),t.memoizedState=n):(ai(n,e)||(n=ge(),gs.lanes|=n,Fl|=n,t.baseState=!0),e)}function Js(t,e){var n=ve;ve=0!==n&&4>n?n:4,t(!0);var i=fs.transition;fs.transition={};try{t(!1),e()}finally{ve=n,fs.transition=i}}function ta(){return Ps().memoizedState}function ea(t,e,n){var i=nc(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ia(t))ra(e,n);else if(null!==(n=Mo(t,e,n,i))){ic(n,t,i,ec()),oa(n,e,i)}}function na(t,e,n){var i=nc(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ia(t))ra(e,r);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,s)){var l=e.interleaved;return null===l?(r.next=r,To(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(c){}null!==(n=Mo(t,e,r,i))&&(ic(n,t,i,r=ec()),oa(n,e,i))}}function ia(t){var e=t.alternate;return t===gs||null!==e&&e===gs}function ra(t,e){vs=_s=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oa(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,_e(t,n)}}var sa={readContext:Eo,useCallback:ws,useContext:ws,useEffect:ws,useImperativeHandle:ws,useInsertionEffect:ws,useLayoutEffect:ws,useMemo:ws,useReducer:ws,useRef:ws,useState:ws,useDebugValue:ws,useDeferredValue:ws,useTransition:ws,useMutableSource:ws,useSyncExternalStore:ws,useId:ws,unstable_isNewReconciler:!1},aa={readContext:Eo,useCallback:function(t,e){return Es().memoizedState=[t,void 0===e?null:e],t},useContext:Eo,useEffect:Hs,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ws(4194308,4,Ys.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ws(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ws(4,2,t,e)},useMemo:function(t,e){var n=Es();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Es();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=ea.bind(null,gs,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Es().memoizedState=t},useState:zs,useDebugValue:Qs,useDeferredValue:function(t){return Es().memoizedState=t},useTransition:function(){var t=zs(!1),e=t[0];return t=Js.bind(null,t[1]),Es().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=gs,r=Es();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Il)throw Error(o(349));0!==(30&ps)||Ns(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Hs(As.bind(null,i,s,t),[t]),i.flags|=2048,Bs(9,Os.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Es(),e=Il.identifierPrefix;if(ro){var n=Xr;e=":"+e+"R"+(n=(Gr&~(1<<32-se(Gr)-1)).toString(32)+n),0<(n=bs++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=xs++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},la={readContext:Eo,useCallback:Gs,useContext:Eo,useEffect:Us,useImperativeHandle:Ks,useInsertionEffect:qs,useLayoutEffect:$s,useMemo:Xs,useReducer:Ms,useRef:js,useState:function(){return Ms(Ts)},useDebugValue:Qs,useDeferredValue:function(t){return Zs(Ps(),ms.memoizedState,t)},useTransition:function(){return[Ms(Ts)[0],Ps().memoizedState]},useMutableSource:Ds,useSyncExternalStore:Rs,useId:ta,unstable_isNewReconciler:!1},ca={readContext:Eo,useCallback:Gs,useContext:Eo,useEffect:Us,useImperativeHandle:Ks,useInsertionEffect:qs,useLayoutEffect:$s,useMemo:Xs,useReducer:Is,useRef:js,useState:function(){return Is(Ts)},useDebugValue:Qs,useDeferredValue:function(t){var e=Ps();return null===ms?e.memoizedState=t:Zs(e,ms.memoizedState,t)},useTransition:function(){return[Is(Ts)[0],Ps().memoizedState]},useMutableSource:Ds,useSyncExternalStore:Rs,useId:ta,unstable_isNewReconciler:!1};function ua(t,e){try{var n="",i=e;do{n+=W(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:r,digest:null}}function ha(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function da(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(t,e,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ql||(ql=!0,$l=i),da(0,e)},n}function ga(t,e,n){(n=Oo(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){da(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,e),"function"!==typeof i&&(null===Yl?Yl=new Set([this]):Yl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ma(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new fa;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Ec.bind(null,t,e,n),e.then(t,t))}function ya(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function _a(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Oo(-1,1)).tag=2,Ao(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var va=b.ReactCurrentOwner,ba=!1;function xa(t,e,n,i){e.child=null===t?Zo(e,null,n,i):Xo(e,t.child,n,i)}function wa(t,e,n,i,r){n=n.render;var o=e.ref;return So(e,r),i=ks(t,e,n,i,o,r),n=Ss(),null===t||ba?(ro&&n&&to(e),e.flags|=1,xa(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,qa(t,e,r))}function Ca(t,e,n,i,r){if(null===t){var o=n.type;return"function"!==typeof o||Nc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ac(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,ka(t,e,o,i,r))}if(o=t.child,0===(t.lanes&r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,i)&&t.ref===e.ref)return qa(t,e,r)}return e.flags|=1,(t=Oc(o,i)).ref=e.ref,t.return=e,e.child=t}function ka(t,e,n,i,r){if(null!==t){var o=t.memoizedProps;if(li(o,i)&&t.ref===e.ref){if(ba=!1,e.pendingProps=i=o,0===(t.lanes&r))return e.lanes=t.lanes,qa(t,e,r);0!==(131072&t.flags)&&(ba=!0)}}return Pa(t,e,n,i,r)}function Sa(t,e,n){var i=e.pendingProps,r=i.children,o=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(Ol,Nl),Nl|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Er(Ol,Nl),Nl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Er(Ol,Nl),Nl|=i}else null!==o?(i=o.baseLanes|n,e.memoizedState=null):i=n,Er(Ol,Nl),Nl|=i;return xa(t,e,r,n),e.child}function Ea(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pa(t,e,n,i,r){var o=Rr(n)?Ir:Tr.current;return o=Dr(e,o),So(e,r),n=ks(t,e,n,i,o,r),i=Ss(),null===t||ba?(ro&&i&&to(e),e.flags|=1,xa(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,qa(t,e,r))}function Ta(t,e,n,i,r){if(Rr(n)){var o=!0;Lr(e)}else o=!1;if(So(e,r),null===e.stateNode)Ua(t,e),Uo(e,n,i),$o(e,n,i,r),i=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Eo(c):c=Dr(e,c=Rr(n)?Ir:Tr.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==c)&&qo(e,s,i,c),Do=!1;var d=e.memoizedState;s.state=d,zo(e,i,s,r),l=e.memoizedState,a!==i||d!==l||Mr.current||Do?("function"===typeof u&&(Wo(e,n,u,i),l=e.memoizedState),(a=Do||Ho(e,n,a,i,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.flags|=4194308)):("function"===typeof s.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"===typeof s.componentDidMount&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,No(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:yo(e.type,a),s.props=c,h=e.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Eo(l):l=Dr(e,l=Rr(n)?Ir:Tr.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&qo(e,s,i,l),Do=!1,d=e.memoizedState,s.state=d,zo(e,i,s,r);var p=e.memoizedState;a!==h||d!==p||Mr.current||Do?("function"===typeof f&&(Wo(e,n,f,i),p=e.memoizedState),(c=Do||Ho(e,n,c,i,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof s.componentDidUpdate&&(e.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=l,i=c):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Ma(t,e,n,i,o,r)}function Ma(t,e,n,i,r,o){Ea(t,e);var s=0!==(128&e.flags);if(!i&&!s)return r&&Fr(e,n,!1),qa(t,e,o);i=e.stateNode,va.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&s?(e.child=Xo(e,t.child,null,o),e.child=Xo(e,null,a,o)):xa(t,e,a,o),e.memoizedState=i.state,r&&Fr(e,n,!0),e.child}function Ia(t){var e=t.stateNode;e.pendingContext?Or(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Or(0,e.context,!1),rs(t,e.containerInfo)}function Da(t,e,n,i,r){return po(),go(r),e.flags|=256,xa(t,e,n,i),e.child}var Ra,Na,Oa,Aa,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(t){return{baseLanes:t,cachePool:null,transitions:null}}function za(t,e,n){var i,r=e.pendingProps,s=ls.current,a=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&s)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(s|=1),Er(ls,1&s),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,r,0,null),t=Lc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Fa(n),e.memoizedState=La,t):Ba(e,l));if(null!==(s=t.memoizedState)&&null!==(i=s.dehydrated))return function(t,e,n,i,r,s,a){if(n)return 256&e.flags?(e.flags&=-257,ja(t,e,a,i=ha(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Fc({mode:"visible",children:i.children},r,0,null),(s=Lc(s,r,a,null)).flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,0!==(1&e.mode)&&Xo(e,t.child,null,a),e.child.memoizedState=Fa(a),e.memoizedState=La,s);if(0===(1&e.mode))return ja(t,e,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,ja(t,e,a,i=ha(s=Error(o(419)),i,void 0))}if(l=0!==(a&t.childLanes),ba||l){if(null!==(i=Il)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Io(t,r),ic(i,t,r,-1))}return mc(),ja(t,e,a,i=ha(Error(o(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Tc.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,io=cr(r.nextSibling),no=e,ro=!0,oo=null,null!==t&&(Yr[Kr++]=Gr,Yr[Kr++]=Xr,Yr[Kr++]=Qr,Gr=t.id,Xr=t.overflow,Qr=e),e=Ba(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,s,n);if(a){a=r.fallback,l=e.mode,i=(s=t.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==s?((r=e.child).childLanes=0,r.pendingProps=c,e.deletions=null):(r=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==i?a=Oc(i,a):(a=Lc(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=La,r}return t=(a=t.child).sibling,r=Oc(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ba(t,e){return(e=Fc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function ja(t,e,n,i){return null!==i&&go(i),Xo(e,t.child,null,n),(t=Ba(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Wa(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),ko(t.return,e,n)}function Va(t,e,n,i,r){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Ha(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(xa(t,e,i.children,n),0!==(2&(i=ls.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Wa(t,n,e);else if(19===t.tag)Wa(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Er(ls,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===cs(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Va(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===cs(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Va(e,!0,n,null,o);break;case"together":Va(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ua(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qa(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Fl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Oc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Oc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function $a(t,e){if(!ro)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ya(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Ka(t,e,n){var i=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(e),null;case 1:case 17:return Rr(e.type)&&Nr(),Ya(e),null;case 3:return i=e.stateNode,os(),Sr(Mr),Sr(Tr),hs(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(ac(oo),oo=null))),Na(t,e),Ya(e),null;case 5:as(e);var r=is(ns.current);if(n=e.type,null!==t&&null!=e.stateNode)Oa(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(o(166));return Ya(e),null}if(t=is(ts.current),ho(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[dr]=e,i[fr]=s,t=0!==(1&e.mode),n){case"dialog":Bi("cancel",i),Bi("close",i);break;case"iframe":case"object":case"embed":Bi("load",i);break;case"video":case"audio":for(r=0;r<Ai.length;r++)Bi(Ai[r],i);break;case"source":Bi("error",i);break;case"img":case"image":case"link":Bi("error",i),Bi("load",i);break;case"details":Bi("toggle",i);break;case"input":G(i,s),Bi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Bi("invalid",i);break;case"textarea":rt(i,s),Bi("invalid",i)}for(var l in _t(n,s),r=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zi(i.textContent,c,t),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zi(i.textContent,c,t),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bi("scroll",i)}switch(n){case"input":$(i),J(i,s,!0);break;case"textarea":$(i),st(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=Ji)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[dr]=e,t[fr]=i,Ra(t,e,!1,!1),e.stateNode=t;t:{switch(l=vt(n,i),n){case"dialog":Bi("cancel",t),Bi("close",t),r=i;break;case"iframe":case"object":case"embed":Bi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Ai.length;r++)Bi(Ai[r],t);r=i;break;case"source":Bi("error",t),r=i;break;case"img":case"image":case"link":Bi("error",t),Bi("load",t),r=i;break;case"details":Bi("toggle",t),r=i;break;case"input":G(t,i),r=Q(t,i),Bi("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=F({},i,{value:void 0}),Bi("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),Bi("invalid",t)}for(s in _t(n,r),c=r)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?mt(t,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Bi("scroll",t):null!=u&&v(t,s,u,l))}switch(n){case"input":$(t),J(t,i,!1);break;case"textarea":$(t),st(t);break;case"option":null!=i.value&&t.setAttribute("value",""+U(i.value));break;case"select":t.multiple=!!i.multiple,null!=(s=i.value)?nt(t,!!i.multiple,s,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ya(e),null;case 6:if(t&&null!=e.stateNode)Aa(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(o(166));if(n=is(ns.current),is(ts.current),ho(e)){if(i=e.stateNode,n=e.memoizedProps,i[dr]=e,(s=i.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Zi(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Zi(i.nodeValue,n,0!==(1&t.mode))}s&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=e,e.stateNode=i}return Ya(e),null;case 13:if(Sr(ls),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ro&&null!==io&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,s=!1;else if(s=ho(e),null!==i&&null!==i.dehydrated){if(null===t){if(!s)throw Error(o(318));if(!(s=null!==(s=e.memoizedState)?s.dehydrated:null))throw Error(o(317));s[dr]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ya(e),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ls.current)?0===Al&&(Al=3):mc())),null!==e.updateQueue&&(e.flags|=4),Ya(e),null);case 4:return os(),Na(t,e),null===t&&Vi(e.stateNode.containerInfo),Ya(e),null;case 10:return Co(e.type._context),Ya(e),null;case 19:if(Sr(ls),null===(s=e.memoizedState))return Ya(e),null;if(i=0!==(128&e.flags),null===(l=s.rendering))if(i)$a(s,!1);else{if(0!==Al||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=cs(t))){for(e.flags|=128,$a(s,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Er(ls,1&ls.current|2),e.child}t=t.sibling}null!==s.tail&&Xt()>Hl&&(e.flags|=128,i=!0,$a(s,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=cs(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),$a(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ro)return Ya(e),null}else 2*Xt()-s.renderingStartTime>Hl&&1073741824!==n&&(e.flags|=128,i=!0,$a(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=s.last)?n.sibling=l:e.child=l,s.last=l)}return null!==s.tail?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xt(),e.sibling=null,n=ls.current,Er(ls,i?1&n|2:1&n),e):(Ya(e),null);case 22:case 23:return dc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Nl)&&(Ya(e),6&e.subtreeFlags&&(e.flags|=8192)):Ya(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Qa(t,e){switch(eo(e),e.tag){case 1:return Rr(e.type)&&Nr(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return os(),Sr(Mr),Sr(Tr),hs(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return as(e),null;case 13:if(Sr(ls),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Sr(ls),null;case 4:return os(),null;case 10:return Co(e.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(){},Oa=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,is(ts.current);var o,s=null;switch(n){case"input":r=Q(t,r),i=Q(t,i),s=[];break;case"select":r=F({},r,{value:void 0}),i=F({},i,{value:void 0}),s=[];break;case"textarea":r=it(t,r),i=it(t,i),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=Ji)}for(u in _t(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Bi("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}},Aa=function(t,e,n,i){n!==i&&(e.flags|=4)};var Ga=!1,Xa=!1,Za="function"===typeof WeakSet?WeakSet:Set,Ja=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Sc(t,e,i)}else n.current=null}function el(t,e,n){try{n()}catch(i){Sc(t,e,i)}}var nl=!1;function il(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,void 0!==o&&el(e,n,o)}r=r.next}while(r!==i)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function ol(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function sl(t){var e=t.alternate;null!==e&&(t.alternate=null,sl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[dr],delete e[fr],delete e[gr],delete e[mr],delete e[yr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Ji));else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}function ul(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}var hl=null,dl=!1;function fl(t,e,n){for(n=n.child;null!==n;)pl(t,e,n),n=n.sibling}function pl(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(re,n)}catch(a){}switch(n.tag){case 5:Xa||tl(n,e);case 6:var i=hl,r=dl;hl=null,fl(t,e,n),dl=r,null!==(hl=i)&&(dl?(t=hl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(t=hl,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),Ve(t)):lr(hl,n.stateNode));break;case 4:i=hl,r=dl,hl=n.stateNode.containerInfo,dl=!0,fl(t,e,n),hl=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,e,s),r=r.next}while(r!==i)}fl(t,e,n);break;case 1:if(!Xa&&(tl(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Sc(n,e,a)}fl(t,e,n);break;case 21:fl(t,e,n);break;case 22:1&n.mode?(Xa=(i=Xa)||null!==n.memoizedState,fl(t,e,n),Xa=i):fl(t,e,n);break;default:fl(t,e,n)}}function gl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Za),e.forEach((function(e){var i=Mc.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function ml(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break t;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===hl)throw Error(o(160));pl(s,a,r),hl=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Sc(r,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)yl(e,t),e=e.sibling}function yl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),_l(t),4&i){try{il(3,t,t.return),rl(3,t)}catch(m){Sc(t,t.return,m)}try{il(5,t,t.return)}catch(m){Sc(t,t.return,m)}}break;case 1:ml(e,t),_l(t),512&i&&null!==n&&tl(n,n.return);break;case 5:if(ml(e,t),_l(t),512&i&&null!==n&&tl(n,n.return),32&t.flags){var r=t.stateNode;try{dt(r,"")}catch(m){Sc(t,t.return,m)}}if(4&i&&null!=(r=t.stateNode)){var s=t.memoizedProps,a=null!==n?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(r,s),vt(l,a);var u=vt(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?mt(r,d):"dangerouslySetInnerHTML"===h?ht(r,d):"children"===h?dt(r,d):v(r,h,d,u)}switch(l){case"input":Z(r,s);break;case"textarea":ot(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?nt(r,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?nt(r,!!s.multiple,s.defaultValue,!0):nt(r,!!s.multiple,s.multiple?[]:"",!1))}r[fr]=s}catch(m){Sc(t,t.return,m)}}break;case 6:if(ml(e,t),_l(t),4&i){if(null===t.stateNode)throw Error(o(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(m){Sc(t,t.return,m)}}break;case 3:if(ml(e,t),_l(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(m){Sc(t,t.return,m)}break;case 4:default:ml(e,t),_l(t);break;case 13:ml(e,t),_l(t),8192&(r=t.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=Xt())),4&i&&gl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Xa=(u=Xa)||h,ml(e,t),Xa=u):ml(e,t),_l(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Ja=t,h=t.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:tl(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){i=f,n=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Sc(i,n,m)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Ja=p):wl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",a))}catch(m){Sc(t,t.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Sc(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(e,t),_l(t),4&i&&gl(t);case 21:}}function _l(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var i=n;break t}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(dt(r,""),i.flags&=-33),ul(t,ll(t),r);break;case 3:case 4:var s=i.stateNode.containerInfo;cl(t,ll(t),s);break;default:throw Error(o(161))}}catch(a){Sc(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function vl(t,e,n){Ja=t,bl(t,e,n)}function bl(t,e,n){for(var i=0!==(1&t.mode);null!==Ja;){var r=Ja,o=r.child;if(22===r.tag&&i){var s=null!==r.memoizedState||Ga;if(!s){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ga;var c=Xa;if(Ga=s,(Xa=l)&&!c)for(Ja=r;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Cl(r):null!==l?(l.return=s,Ja=l):Cl(r);for(;null!==o;)Ja=o,bl(o,e,n),o=o.sibling;Ja=r,Ga=a,Xa=c}xl(t)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Ja=o):xl(t)}}function xl(t){for(;null!==Ja;){var e=Ja;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Xa||rl(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Xa)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:yo(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;null!==s&&Bo(e,s,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Bo(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ve(d)}}}break;default:throw Error(o(163))}Xa||512&e.flags&&ol(e)}catch(f){Sc(e,e.return,f)}}if(e===t){Ja=null;break}if(null!==(n=e.sibling)){n.return=e.return,Ja=n;break}Ja=e.return}}function wl(t){for(;null!==Ja;){var e=Ja;if(e===t){Ja=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Ja=n;break}Ja=e.return}}function Cl(t){for(;null!==Ja;){var e=Ja;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(l){Sc(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(l){Sc(e,r,l)}}var o=e.return;try{ol(e)}catch(l){Sc(e,o,l)}break;case 5:var s=e.return;try{ol(e)}catch(l){Sc(e,s,l)}}}catch(l){Sc(e,e.return,l)}if(e===t){Ja=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Ja=a;break}Ja=e.return}}var kl,Sl=Math.ceil,El=b.ReactCurrentDispatcher,Pl=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Ml=0,Il=null,Dl=null,Rl=0,Nl=0,Ol=kr(0),Al=0,Ll=null,Fl=0,zl=0,Bl=0,jl=null,Wl=null,Vl=0,Hl=1/0,Ul=null,ql=!1,$l=null,Yl=null,Kl=!1,Ql=null,Gl=0,Xl=0,Zl=null,Jl=-1,tc=0;function ec(){return 0!==(6&Ml)?Xt():-1!==Jl?Jl:Jl=Xt()}function nc(t){return 0===(1&t.mode)?1:0!==(2&Ml)&&0!==Rl?Rl&-Rl:null!==mo.transition?(0===tc&&(tc=ge()),tc):0!==(t=ve)?t:t=void 0===(t=window.event)?16:Ge(t.type)}function ic(t,e,n,i){if(50<Xl)throw Xl=0,Zl=null,Error(o(185));ye(t,n,i),0!==(2&Ml)&&t===Il||(t===Il&&(0===(2&Ml)&&(zl|=n),4===Al&&lc(t,Rl)),rc(t,i),1===n&&0===Ml&&0===(1&e.mode)&&(Hl=Xt()+500,Br&&Vr()))}function rc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-se(o),a=1<<s,l=r[s];-1===l?0!==(a&n)&&0===(a&i)||(r[s]=fe(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}(t,e);var i=de(t,t===Il?Rl:0);if(0===i)null!==n&&Kt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Kt(n),1===e)0===t.tag?function(t){Br=!0,Wr(t)}(cc.bind(null,t)):Wr(cc.bind(null,t)),sr((function(){0===(6&Ml)&&Vr()})),n=null;else{switch(be(i)){case 1:n=Jt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Ic(n,oc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oc(t,e){if(Jl=-1,tc=0,0!==(6&Ml))throw Error(o(327));var n=t.callbackNode;if(Cc()&&t.callbackNode!==n)return null;var i=de(t,t===Il?Rl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=yc(t,i);else{e=i;var r=Ml;Ml|=2;var s=gc();for(Il===t&&Rl===e||(Ul=null,Hl=Xt()+500,fc(t,e));;)try{vc();break}catch(l){pc(t,l)}wo(),El.current=s,Ml=r,null!==Dl?e=0:(Il=null,Rl=0,e=Al)}if(0!==e){if(2===e&&(0!==(r=pe(t))&&(i=r,e=sc(t,r))),1===e)throw n=Ll,fc(t,0),lc(t,i),rc(t,Xt()),n;if(6===e)lc(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!ai(o(),r))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=yc(t,i))&&(0!==(s=pe(t))&&(i=s,e=sc(t,s))),1===e))throw n=Ll,fc(t,0),lc(t,i),rc(t,Xt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(o(345));case 2:case 5:wc(t,Wl,Ul);break;case 3:if(lc(t,i),(130023424&i)===i&&10<(e=Vl+500-Xt())){if(0!==de(t,0))break;if(((r=t.suspendedLanes)&i)!==i){ec(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(wc.bind(null,t,Wl,Ul),e);break}wc(t,Wl,Ul);break;case 4:if(lc(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-se(i);s=1<<a,(a=e[a])>r&&(r=a),i&=~s}if(i=r,10<(i=(120>(i=Xt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sl(i/1960))-i)){t.timeoutHandle=ir(wc.bind(null,t,Wl,Ul),i);break}wc(t,Wl,Ul);break;default:throw Error(o(329))}}}return rc(t,Xt()),t.callbackNode===n?oc.bind(null,t):null}function sc(t,e){var n=jl;return t.current.memoizedState.isDehydrated&&(fc(t,e).flags|=256),2!==(t=yc(t,e))&&(e=Wl,Wl=n,null!==e&&ac(e)),t}function ac(t){null===Wl?Wl=t:Wl.push.apply(Wl,t)}function lc(t,e){for(e&=~Bl,e&=~zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-se(e),i=1<<n;t[n]=-1,e&=~i}}function cc(t){if(0!==(6&Ml))throw Error(o(327));Cc();var e=de(t,0);if(0===(1&e))return rc(t,Xt()),null;var n=yc(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=sc(t,i))}if(1===n)throw n=Ll,fc(t,0),lc(t,e),rc(t,Xt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wc(t,Wl,Ul),rc(t,Xt()),null}function uc(t,e){var n=Ml;Ml|=1;try{return t(e)}finally{0===(Ml=n)&&(Hl=Xt()+500,Br&&Vr())}}function hc(t){null!==Ql&&0===Ql.tag&&0===(6&Ml)&&Cc();var e=Ml;Ml|=1;var n=Tl.transition,i=ve;try{if(Tl.transition=null,ve=1,t)return t()}finally{ve=i,Tl.transition=n,0===(6&(Ml=e))&&Vr()}}function dc(){Nl=Ol.current,Sr(Ol)}function fc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Dl)for(n=Dl.return;null!==n;){var i=n;switch(eo(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Nr();break;case 3:os(),Sr(Mr),Sr(Tr),hs();break;case 5:as(i);break;case 4:os();break;case 13:case 19:Sr(ls);break;case 10:Co(i.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=t,Dl=t=Oc(t.current,null),Rl=Nl=e,Al=0,Ll=null,Bl=zl=Fl=0,Wl=jl=null,null!==Po){for(e=0;e<Po.length;e++)if(null!==(i=(n=Po[e]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var s=o.next;o.next=r,i.next=s}n.pending=i}Po=null}return t}function pc(t,e){for(;;){var n=Dl;try{if(wo(),ds.current=sa,_s){for(var i=gs.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}_s=!1}if(ps=0,ys=ms=gs=null,vs=!1,bs=0,Pl.current=null,null===n||null===n.return){Al=1,Ll=e,Dl=null;break}t:{var s=t,a=n.return,l=n,c=e;if(e=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,_a(p,a,l,0,e),1&p.mode&&ma(s,u,e),c=u;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){ma(s,u,e),mc();break t}c=Error(o(426))}else if(ro&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),_a(y,a,l,0,e),go(ua(c,l));break t}}s=c=ua(c,l),4!==Al&&(Al=2),null===jl?jl=[s]:jl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e,Fo(s,pa(0,c,e));break t;case 1:l=c;var _=s.type,v=s.stateNode;if(0===(128&s.flags)&&("function"===typeof _.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Yl||!Yl.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e,Fo(s,ga(s,l,e));break t}}s=s.return}while(null!==s)}xc(n)}catch(b){e=b,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function gc(){var t=El.current;return El.current=sa,null===t?sa:t}function mc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Il||0===(268435455&Fl)&&0===(268435455&zl)||lc(Il,Rl)}function yc(t,e){var n=Ml;Ml|=2;var i=gc();for(Il===t&&Rl===e||(Ul=null,fc(t,e));;)try{_c();break}catch(r){pc(t,r)}if(wo(),Ml=n,El.current=i,null!==Dl)throw Error(o(261));return Il=null,Rl=0,Al}function _c(){for(;null!==Dl;)bc(Dl)}function vc(){for(;null!==Dl&&!Qt();)bc(Dl)}function bc(t){var e=kl(t.alternate,t,Nl);t.memoizedProps=t.pendingProps,null===e?xc(t):Dl=e,Pl.current=null}function xc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ka(n,e,Nl)))return void(Dl=n)}else{if(null!==(n=Qa(n,e)))return n.flags&=32767,void(Dl=n);if(null===t)return Al=6,void(Dl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Dl=e);Dl=e=t}while(null!==e);0===Al&&(Al=5)}function wc(t,e,n){var i=ve,r=Tl.transition;try{Tl.transition=null,ve=1,function(t,e,n,i){do{Cc()}while(null!==Ql);if(0!==(6&Ml))throw Error(o(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-se(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}(t,s),t===Il&&(Dl=Il=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ic(ee,(function(){return Cc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=ve;ve=1;var l=Ml;Ml|=4,Pl.current=null,function(t,e){if(tr=Ue,fi(t=di())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break t}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==s||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===r&&(l=a),f===s&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},Ue=!1,Ja=e;null!==Ja;)if(t=(e=Ja).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Ja=t;else for(;null!==Ja;){e=Ja;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?m:yo(e.type,m),y);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(x){Sc(e,e.return,x)}if(null!==(t=e.sibling)){t.return=e.return,Ja=t;break}Ja=e.return}g=nl,nl=!1}(t,n),yl(n,t),pi(er),Ue=!!tr,er=tr=null,t.current=n,vl(n,t,r),Gt(),Ml=l,ve=a,Tl.transition=s}else t.current=n;if(Kl&&(Kl=!1,Ql=t,Gl=r),s=t.pendingLanes,0===s&&(Yl=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),rc(t,Xt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(ql)throw ql=!1,t=$l,$l=null,t;0!==(1&Gl)&&0!==t.tag&&Cc(),s=t.pendingLanes,0!==(1&s)?t===Zl?Xl++:(Xl=0,Zl=t):Xl=0,Vr()}(t,e,n,i)}finally{Tl.transition=r,ve=i}return null}function Cc(){if(null!==Ql){var t=be(Gl),e=Tl.transition,n=ve;try{if(Tl.transition=null,ve=16>t?16:t,null===Ql)var i=!1;else{if(t=Ql,Ql=null,Gl=0,0!==(6&Ml))throw Error(o(331));var r=Ml;for(Ml|=4,Ja=t.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:il(8,h,s)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(sl(h),h===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else t:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var _=s.sibling;if(null!==_){_.return=s.return,Ja=_;break t}Ja=s.return}}var v=t.current;for(Ja=v;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else t:for(a=v;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Sc(l,l.return,w)}if(l===a){Ja=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,Ja=x;break t}Ja=l.return}}if(Ml=r,Vr(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(re,t)}catch(w){}i=!0}return i}finally{ve=n,Tl.transition=e}}return!1}function kc(t,e,n){t=Ao(t,e=pa(0,e=ua(n,e),1),1),e=ec(),null!==t&&(ye(t,1,e),rc(t,e))}function Sc(t,e,n){if(3===t.tag)kc(t,t,n);else for(;null!==e;){if(3===e.tag){kc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Yl||!Yl.has(i))){e=Ao(e,t=ga(e,t=ua(n,t),1),1),t=ec(),null!==e&&(ye(e,1,t),rc(e,t));break}}e=e.return}}function Ec(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=ec(),t.pingedLanes|=t.suspendedLanes&n,Il===t&&(Rl&n)===n&&(4===Al||3===Al&&(130023424&Rl)===Rl&&500>Xt()-Vl?fc(t,0):Bl|=n),rc(t,e)}function Pc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=ec();null!==(t=Io(t,e))&&(ye(t,e,n),rc(t,n))}function Tc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Pc(t,n)}function Mc(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(e),Pc(t,n)}function Ic(t,e){return Yt(t,e)}function Dc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(t,e,n,i){return new Dc(t,e,n,i)}function Nc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Oc(t,e){var n=t.alternate;return null===n?((n=Rc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ac(t,e,n,i,r,s){var a=2;if(i=t,"function"===typeof t)Nc(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case C:return Lc(n.children,r,s,e);case k:a=8,r|=8;break;case S:return(t=Rc(12,n,e,2|r)).elementType=S,t.lanes=s,t;case M:return(t=Rc(13,n,e,r)).elementType=M,t.lanes=s,t;case I:return(t=Rc(19,n,e,r)).elementType=I,t.lanes=s,t;case N:return Fc(n,r,s,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case E:a=10;break t;case P:a=9;break t;case T:a=11;break t;case D:a=14;break t;case R:a=16,i=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Rc(a,n,e,r)).elementType=t,e.type=i,e.lanes=s,e}function Lc(t,e,n,i){return(t=Rc(7,t,i,e)).lanes=n,t}function Fc(t,e,n,i){return(t=Rc(22,t,i,e)).elementType=N,t.lanes=n,t.stateNode={isHidden:!1},t}function zc(t,e,n){return(t=Rc(6,t,null,e)).lanes=n,t}function Bc(t,e,n){return(e=Rc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jc(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Wc(t,e,n,i,r,o,s,a,l){return t=new jc(t,e,n,a,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Rc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),t}function Vc(t){if(!t)return Pr;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Rr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Rr(n))return Ar(t,n,e)}return e}function Hc(t,e,n,i,r,o,s,a,l){return(t=Wc(n,i,!0,t,0,o,0,a,l)).context=Vc(null),n=t.current,(o=Oo(i=ec(),r=nc(n))).callback=void 0!==e&&null!==e?e:null,Ao(n,o,r),t.current.lanes=r,ye(t,r,i),rc(t,i),t}function Uc(t,e,n,i){var r=e.current,o=ec(),s=nc(r);return n=Vc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Oo(o,s)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Ao(r,e,s))&&(ic(t,r,s,o),Lo(t,r,s)),s}function qc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function $c(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Yc(t,e){$c(t,e),(t=t.alternate)&&$c(t,e)}kl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Mr.current)ba=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return ba=!1,function(t,e,n){switch(e.tag){case 3:Ia(e),po();break;case 5:ss(e);break;case 1:Rr(e.type)&&Lr(e);break;case 4:rs(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Er(_o,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Er(ls,1&ls.current),e.flags|=128,null):0!==(n&e.child.childLanes)?za(t,e,n):(Er(ls,1&ls.current),null!==(t=qa(t,e,n))?t.sibling:null);Er(ls,1&ls.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Ha(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Er(ls,ls.current),i)break;return null;case 22:case 23:return e.lanes=0,Sa(t,e,n)}return qa(t,e,n)}(t,e,n);ba=0!==(131072&t.flags)}else ba=!1,ro&&0!==(1048576&e.flags)&&Jr(e,$r,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ua(t,e),t=e.pendingProps;var r=Dr(e,Tr.current);So(e,n),r=ks(null,e,i,t,r,n);var s=Ss();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rr(i)?(s=!0,Lr(e)):s=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ro(e),r.updater=Vo,e.stateNode=r,r._reactInternals=e,$o(e,i,t,n),e=Ma(null,e,i,!0,s,n)):(e.tag=0,ro&&s&&to(e),xa(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Ua(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return Nc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===T)return 11;if(t===D)return 14}return 2}(i),t=yo(i,t),r){case 0:e=Pa(null,e,i,t,n);break t;case 1:e=Ta(null,e,i,t,n);break t;case 11:e=wa(null,e,i,t,n);break t;case 14:e=Ca(null,e,i,yo(i.type,t),n);break t}throw Error(o(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Pa(t,e,i,r=e.elementType===i?r:yo(i,r),n);case 1:return i=e.type,r=e.pendingProps,Ta(t,e,i,r=e.elementType===i?r:yo(i,r),n);case 3:t:{if(Ia(e),null===t)throw Error(o(387));i=e.pendingProps,r=(s=e.memoizedState).element,No(t,e),zo(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,256&e.flags){e=Da(t,e,i,n,r=ua(Error(o(423)),e));break t}if(i!==r){e=Da(t,e,i,n,r=ua(Error(o(424)),e));break t}for(io=cr(e.stateNode.containerInfo.firstChild),no=e,ro=!0,oo=null,n=Zo(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),i===r){e=qa(t,e,n);break t}xa(t,e,i,n)}e=e.child}return e;case 5:return ss(e),null===t&&co(e),i=e.type,r=e.pendingProps,s=null!==t?t.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==s&&nr(i,s)&&(e.flags|=32),Ea(t,e),xa(t,e,a,n),e.child;case 6:return null===t&&co(e),null;case 13:return za(t,e,n);case 4:return rs(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Xo(e,null,i,n):xa(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,wa(t,e,i,r=e.elementType===i?r:yo(i,r),n);case 7:return xa(t,e,e.pendingProps,n),e.child;case 8:case 12:return xa(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Er(_o,i._currentValue),i._currentValue=a,null!==s)if(ai(s.value,a)){if(s.children===r.children&&!Mr.current){e=qa(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===s.tag){(c=Oo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),ko(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===e.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ko(a,n,e),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}xa(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,So(e,n),i=i(r=Eo(r)),e.flags|=1,xa(t,e,i,n),e.child;case 14:return r=yo(i=e.type,e.pendingProps),Ca(t,e,i,r=yo(i.type,r),n);case 15:return ka(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:yo(i,r),Ua(t,e),e.tag=1,Rr(i)?(t=!0,Lr(e)):t=!1,So(e,n),Uo(e,i,r),$o(e,i,r,n),Ma(null,e,i,!0,t,n);case 19:return Ha(t,e,n);case 22:return Sa(t,e,n)}throw Error(o(156,e.tag))};var Kc="function"===typeof reportError?reportError:function(t){console.error(t)};function Qc(t){this._internalRoot=t}function Gc(t){this._internalRoot=t}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Jc(){}function tu(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof r){var a=r;r=function(){var t=qc(s);a.call(t)}}Uc(e,s,t,r)}else s=function(t,e,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var t=qc(s);o.call(t)}}var s=Hc(e,i,t,0,null,!1,0,"",Jc);return t._reactRootContainer=s,t[pr]=s.current,Vi(8===t.nodeType?t.parentNode:t),hc(),s}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var a=i;i=function(){var t=qc(l);a.call(t)}}var l=Wc(t,0,!1,null,0,!1,0,"",Jc);return t._reactRootContainer=l,t[pr]=l.current,Vi(8===t.nodeType?t.parentNode:t),hc((function(){Uc(e,l,n,i)})),l}(n,e,t,r,i);return qc(s)}Gc.prototype.render=Qc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Uc(t,e,null,null)},Gc.prototype.unmount=Qc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;hc((function(){Uc(null,t,null,null)})),e[pr]=null}},Gc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ke();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ne.length&&0!==e&&e<Ne[n].priority;n++);Ne.splice(n,0,t),0===n&&Fe(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(_e(e,1|n),rc(e,Xt()),0===(6&Ml)&&(Hl=Xt()+500,Vr()))}break;case 13:hc((function(){var e=Io(t,1);if(null!==e){var n=ec();ic(e,t,1,n)}})),Yc(t,1)}},we=function(t){if(13===t.tag){var e=Io(t,134217728);if(null!==e)ic(e,t,134217728,ec());Yc(t,134217728)}},Ce=function(t){if(13===t.tag){var e=nc(t),n=Io(t,e);if(null!==n)ic(n,t,e,ec());Yc(t,e)}},ke=function(){return ve},Se=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}},wt=function(t,e,n){switch(e){case"input":if(Z(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=xr(i);if(!r)throw Error(o(90));Y(i),Z(i,r)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Tt=uc,Mt=hc;var eu={usingClientEntryPoint:!1,Events:[vr,br,xr,Et,Pt,uc]},nu={findFiberByHostInstance:_r,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=qt(t))?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{re=ru.inject(iu),oe=ru}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(e))throw Error(o(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Xc(t))throw Error(o(299));var n=!1,i="",r=Kc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Wc(t,1,!1,null,0,n,0,i,r),t[pr]=e.current,Vi(8===t.nodeType?t.parentNode:t),new Qc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=qt(e))?null:t.stateNode},e.flushSync=function(t){return hc(t)},e.hydrate=function(t,e,n){if(!Zc(e))throw Error(o(200));return tu(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Xc(t))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,s="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Hc(e,null,t,1,null!=n?n:null,r,0,s,a),t[pr]=e.current,Vi(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Gc(e)},e.render=function(t,e,n){if(!Zc(e))throw Error(o(200));return tu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Zc(t))throw Error(o(40));return!!t._reactRootContainer&&(hc((function(){tu(null,null,t,!1,(function(){t._reactRootContainer=null,t[pr]=null}))})),!0)},e.unstable_batchedUpdates=uc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Zc(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return tu(t,e,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"},250:(t,e,n)=>{var i=n(164);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},164:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(463)},374:(t,e,n)=>{var i=n(791),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,o={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)s.call(e,i)&&!l.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===o[i]&&(o[i]=e[i]);return{$$typeof:r,type:t,key:c,ref:u,props:o,_owner:a.current}}e.jsx=c,e.jsxs=c},117:(t,e)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function _(){}function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=y.prototype;var b=v.prototype=new _;b.constructor=v,g(b,y.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,C={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,i){var r,o={},s=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)w.call(e,r)&&!k.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:t,key:s,ref:a,props:o,_owner:C.current}}function E(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var P=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function M(t,e,r,o,s){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return s=s(l=t),t=""===o?"."+T(l,0):o,x(s)?(r="",null!=t&&(r=t.replace(P,"$&/")+"/"),M(s,e,r,"",(function(t){return t}))):null!=s&&(E(s)&&(s=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(P,"$&/")+"/")+t)),e.push(s)),1;if(l=0,o=""===o?".":o+":",x(t))for(var c=0;c<t.length;c++){var u=o+T(a=t[c],c);l+=M(a,e,r,u,s)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=M(a=a.value,e,r,u=o+T(a,c++),s);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function I(t,e,n){if(null==t)return t;var i=[],r=0;return M(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function D(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var R={current:null},N={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:N,ReactCurrentOwner:C};e.Children={map:I,forEach:function(t,e,n){I(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return I(t,(function(){e++})),e},toArray:function(t){return I(t,(function(t){return t}))||[]},only:function(t){if(!E(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=r,e.Profiler=s,e.PureComponent=v,e.StrictMode=o,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g({},t.props),o=t.key,s=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,a=C.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)w.call(e,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:t.type,key:o,ref:s,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=E,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:D}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=N.transition;N.transition={};try{t()}finally{N.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return R.current.useCallback(t,e)},e.useContext=function(t){return R.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return R.current.useDeferredValue(t)},e.useEffect=function(t,e){return R.current.useEffect(t,e)},e.useId=function(){return R.current.useId()},e.useImperativeHandle=function(t,e,n){return R.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return R.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return R.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return R.current.useMemo(t,e)},e.useReducer=function(t,e,n){return R.current.useReducer(t,e,n)},e.useRef=function(t){return R.current.useRef(t)},e.useState=function(t){return R.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return R.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return R.current.useTransition()},e.version="18.2.0"},791:(t,e,n)=>{t.exports=n(117)},184:(t,e,n)=>{t.exports=n(374)},813:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<o(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=t[a],c=a+1,u=t[c];if(0>o(l,n))c<r&&0>o(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[a]=n,i=a);else{if(!(c<r&&0>o(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=i(u);null!==e;){if(null===e.callback)r(u);else{if(!(e.startTime<=t))break;r(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function x(t){if(m=!1,b(t),!g)if(null!==i(c))g=!0,N(w);else{var e=i(u);null!==e&&O(x,e.startTime-t)}}function w(t,n){g=!1,m&&(m=!1,_(E),E=-1),p=!0;var o=f;try{for(b(n),d=i(c);null!==d&&(!(d.expirationTime>n)||t&&!M());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),b(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&O(x,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,k=!1,S=null,E=-1,P=5,T=-1;function M(){return!(e.unstable_now()-T<P)}function I(){if(null!==S){var t=e.unstable_now();T=t;var n=!0;try{n=S(!0,t)}finally{n?C():(k=!1,S=null)}}else k=!1}if("function"===typeof v)C=function(){v(I)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=I,C=function(){R.postMessage(null)}}else C=function(){y(I,0)};function N(t){S=t,k||(k=!0,C())}function O(t,n){E=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,N(w))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,r,o){var s=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(t.sortIndex=o,n(u,t),null===i(c)&&t===i(u)&&(m?(_(E),E=-1):m=!0,O(x,o-s))):(t.sortIndex=a,n(c,t),g||p||(g=!0,N(w))),t},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},296:(t,e,n)=>{t.exports=n(813)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&i;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>i[t]));return s.default=()=>i,n.d(o,s),o}})(),n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t,e=n(791),i=n.t(e,2),r=n(250),o=n(164),s=n.t(o,2);function a(){return a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(t||(t={}));const l="popstate";function c(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function u(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function h(t,e){return{usr:t.state,key:t.key,idx:e}}function d(t,e,n,i){return void 0===n&&(n=null),a({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?p(e):e,{state:n,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function f(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function p(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function g(e,n,i,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,u=o.history,p=t.Pop,g=null,m=y();function y(){return(u.state||{idx:null}).idx}function _(){p=t.Pop;let e=y(),n=null==e?null:e-m;m=e,g&&g({action:p,location:b.location,delta:n})}function v(t){let e="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof t?t:f(t);return n=n.replace(/ $/,"%20"),c(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==m&&(m=0,u.replaceState(a({},u.state,{idx:m}),""));let b={get action(){return p},get location(){return e(o,u)},listen(t){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(l,_),g=t,()=>{o.removeEventListener(l,_),g=null}},createHref:t=>n(o,t),createURL:v,encodeLocation(t){let e=v(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(e,n){p=t.Push;let r=d(b.location,e,n);i&&i(r,e),m=y()+1;let a=h(r,m),l=b.createHref(r);try{u.pushState(a,"",l)}catch(Tn){if(Tn instanceof DOMException&&"DataCloneError"===Tn.name)throw Tn;o.location.assign(l)}s&&g&&g({action:p,location:b.location,delta:1})},replace:function(e,n){p=t.Replace;let r=d(b.location,e,n);i&&i(r,e),m=y();let o=h(r,m),a=b.createHref(r);u.replaceState(o,"",a),s&&g&&g({action:p,location:b.location,delta:0})},go:t=>u.go(t)};return b}var m;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(t,e,n){void 0===n&&(n="/");let i=D(("string"===typeof e?p(e):e).pathname||"/",n);if(null==i)return null;let r=_(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(r);let o=null;for(let s=0;null==o&&s<r.length;++s){let t=I(i);o=T(r[s],t)}return o}function _(t,e,n,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(t,r,o)=>{let s={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(i),'Absolute route path "'+s.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(i.length));let a=L([i,s.relativePath]),l=n.concat(s);t.children&&t.children.length>0&&(c(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),_(t.children,e,l,a)),(null!=t.path||t.index)&&e.push({path:a,score:P(a,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let i of v(t.path))r(t,e,i);else r(t,e)})),e}function v(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===i.length)return r?[o,""]:[o];let s=v(i.join("/")),a=[];return a.push(...s.map((t=>""===t?o:[o,t].join("/")))),r&&a.push(...s),a.map((e=>t.startsWith("/")&&""===e?"/":e))}const b=/^:[\w-]+$/,x=3,w=2,C=1,k=10,S=-2,E=t=>"*"===t;function P(t,e){let n=t.split("/"),i=n.length;return n.some(E)&&(i+=S),e&&(i+=w),n.filter((t=>!E(t))).reduce(((t,e)=>t+(b.test(e)?x:""===e?C:k)),i)}function T(t,e){let{routesMeta:n}=t,i={},r="/",o=[];for(let s=0;s<n.length;++s){let t=n[s],a=s===n.length-1,l="/"===r?e:e.slice(r.length)||"/",c=M({path:t.relativePath,caseSensitive:t.caseSensitive,end:a},l);if(!c)return null;Object.assign(i,c.params);let u=t.route;o.push({params:i,pathname:L([r,c.pathname]),pathnameBase:F(L([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=L([r,c.pathnameBase]))}return o}function M(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);u("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(i.push({paramName:"*"}),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==t&&"/"!==t&&(r+="(?:(?=\\/|$))");let o=new RegExp(r,e?void 0:"i");return[o,i]}(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),a=r.slice(1),l=i.reduce(((t,e,n)=>{let{paramName:i,isOptional:r}=e;if("*"===i){let t=a[n]||"";s=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}const l=a[n];return t[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{});return{params:l,pathname:o,pathnameBase:s,pattern:t}}function I(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(Tn){return u(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Tn+")."),t}}function D(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function R(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function O(t,e){let n=N(t);return e?n.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)):n.map((t=>t.pathnameBase))}function A(t,e,n,i){let r;void 0===i&&(i=!1),"string"===typeof t?r=p(t):(r=a({},t),c(!r.pathname||!r.pathname.includes("?"),R("?","pathname","search",r)),c(!r.pathname||!r.pathname.includes("#"),R("#","pathname","hash",r)),c(!r.search||!r.search.includes("#"),R("#","search","hash",r)));let o,s=""===t||""===r.pathname,l=s?"/":r.pathname;if(null==l)o=n;else{let t=e.length-1;if(!i&&l.startsWith("..")){let e=l.split("/");for(;".."===e[0];)e.shift(),t-=1;r.pathname=e.join("/")}o=t>=0?e[t]:"/"}let u=function(t,e){void 0===e&&(e="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof t?p(t):t,o=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:o,search:z(i),hash:B(r)}}(r,o),h=l&&"/"!==l&&l.endsWith("/"),d=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const L=t=>t.join("/").replace(/\/\/+/g,"/"),F=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",B=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function j(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const W=["post","put","patch","delete"],V=(new Set(W),["get",...W]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},H.apply(this,arguments)}const U=e.createContext(null);const q=e.createContext(null);const $=e.createContext(null);const Y=e.createContext(null);const K=e.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=e.createContext(null);function G(){return null!=e.useContext(Y)}function X(){return G()||c(!1),e.useContext(Y).location}function Z(t){e.useContext($).static||e.useLayoutEffect(t)}function J(){let{isDataRoute:t}=e.useContext(K);return t?function(){let{router:t}=lt(st.UseNavigateStable),n=ut(at.UseNavigateStable),i=e.useRef(!1);Z((()=>{i.current=!0}));let r=e.useCallback((function(e,r){void 0===r&&(r={}),i.current&&("number"===typeof e?t.navigate(e):t.navigate(e,H({fromRouteId:n},r)))}),[t,n]);return r}():function(){G()||c(!1);let t=e.useContext(U),{basename:n,future:i,navigator:r}=e.useContext($),{matches:o}=e.useContext(K),{pathname:s}=X(),a=JSON.stringify(O(o,i.v7_relativeSplatPath)),l=e.useRef(!1);Z((()=>{l.current=!0}));let u=e.useCallback((function(e,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof e)return void r.go(e);let o=A(e,JSON.parse(a),s,"path"===i.relative);null==t&&"/"!==n&&(o.pathname="/"===o.pathname?n:L([n,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[n,r,a,s,t]);return u}()}function tt(n,i,r,o){G()||c(!1);let{navigator:s}=e.useContext($),{matches:a}=e.useContext(K),l=a[a.length-1],u=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=X();if(i){var g;let t="string"===typeof i?p(i):i;"/"===h||(null==(g=t.pathname)?void 0:g.startsWith(h))||c(!1),d=t}else d=f;let m=d.pathname||"/",_=m;if("/"!==h){let t=h.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(t.length).join("/")}let v=y(n,{pathname:_});let b=ot(v&&v.map((t=>Object.assign({},t,{params:Object.assign({},u,t.params),pathname:L([h,s.encodeLocation?s.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?h:L([h,s.encodeLocation?s.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,r,o);return i&&b?e.createElement(Y.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},b):b}function et(){let t=function(){var t;let n=e.useContext(Q),i=ct(at.UseRouteError),r=ut(at.UseRouteError);if(void 0!==n)return n;return null==(t=i.errors)?void 0:t[r]}(),n=j(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),i?e.createElement("pre",{style:o},i):null,null)}const nt=e.createElement(et,null);class it extends e.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?e.createElement(K.Provider,{value:this.props.routeContext},e.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rt(t){let{routeContext:n,match:i,children:r}=t,o=e.useContext(U);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),e.createElement(K.Provider,{value:n},r)}function ot(t,n,i,r){var o;if(void 0===n&&(n=[]),void 0===i&&(i=null),void 0===r&&(r=null),null==t){var s;if(null==(s=i)||!s.errors)return null;t=i.matches}let a=t,l=null==(o=i)?void 0:o.errors;if(null!=l){let t=a.findIndex((t=>t.route.id&&void 0!==(null==l?void 0:l[t.route.id])));t>=0||c(!1),a=a.slice(0,Math.min(a.length,t+1))}let u=!1,h=-1;if(i&&r&&r.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(h=e),t.route.id){let{loaderData:e,errors:n}=i,r=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||r){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((t,r,o)=>{let s,c=!1,d=null,f=null;var p;i&&(s=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||nt,u&&(h<0&&0===o?(p="route-fallback",!1||ht[p]||(ht[p]=!0),c=!0,f=null):h===o&&(c=!0,f=r.route.hydrateFallbackElement||null)));let g=n.concat(a.slice(0,o+1)),m=()=>{let n;return n=s?d:c?f:r.route.Component?e.createElement(r.route.Component,null):r.route.element?r.route.element:t,e.createElement(rt,{match:r,routeContext:{outlet:t,matches:g,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?e.createElement(it,{location:i.location,revalidation:i.revalidation,component:d,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var st=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(st||{}),at=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(at||{});function lt(t){let n=e.useContext(U);return n||c(!1),n}function ct(t){let n=e.useContext(q);return n||c(!1),n}function ut(t){let n=function(t){let n=e.useContext(K);return n||c(!1),n}(),i=n.matches[n.matches.length-1];return i.route.id||c(!1),i.route.id}const ht={};i.startTransition;function dt(t){c(!1)}function ft(n){let{basename:i="/",children:r=null,location:o,navigationType:s=t.Pop,navigator:a,static:l=!1,future:u}=n;G()&&c(!1);let h=i.replace(/^\/*/,"/"),d=e.useMemo((()=>({basename:h,navigator:a,static:l,future:H({v7_relativeSplatPath:!1},u)})),[h,u,a,l]);"string"===typeof o&&(o=p(o));let{pathname:f="/",search:g="",hash:m="",state:y=null,key:_="default"}=o,v=e.useMemo((()=>{let t=D(f,h);return null==t?null:{location:{pathname:t,search:g,hash:m,state:y,key:_},navigationType:s}}),[h,f,g,m,y,_,s]);return null==v?null:e.createElement($.Provider,{value:d},e.createElement(Y.Provider,{children:r,value:v}))}function pt(t){let{children:e,location:n}=t;return tt(gt(e),n)}new Promise((()=>{}));e.Component;function gt(t,n){void 0===n&&(n=[]);let i=[];return e.Children.forEach(t,((t,r)=>{if(!e.isValidElement(t))return;let o=[...n,r];if(t.type===e.Fragment)return void i.push.apply(i,gt(t.props.children,o));t.type!==dt&&c(!1),t.props.index&&t.props.children&&c(!1);let s={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=gt(t.props.children,o)),i.push(s)})),i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Xg){}new Map;const mt=i.startTransition;s.flushSync,i.useId;function yt(t){let{basename:n,children:i,future:r,window:o}=t,s=e.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),g((function(t,e){let{pathname:n="/",search:i="",hash:r=""}=p(t.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),d("",{pathname:n,search:i,hash:r},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){let n=t.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){let e=t.location.href,n=e.indexOf("#");i=-1===n?e:e.slice(0,n)}return i+"#"+("string"===typeof e?e:f(e))}),(function(t,e){u("/"===t.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(e)+")")}),a)));let l=s.current,[c,h]=e.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},y=e.useCallback((t=>{m&&mt?mt((()=>h(t))):h(t)}),[h,m]);return e.useLayoutEffect((()=>l.listen(y)),[l,y]),e.createElement(ft,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var _t,vt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_t||(_t={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(vt||(vt={}));var bt=n(184);const xt=()=>{const[t,n]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{localStorage.getItem("animationPlayed")||(localStorage.setItem("animationPlayed","true"),n(!0))}),[]),(0,bt.jsx)("div",{style:{display:"flex",alignItems:" center",justifyContent:"center",margin:"10vh 0 3vh 0",width:"100%",top:"0",flexDirection:"column"},children:t&&(0,bt.jsx)("div",{className:"logo",children:(0,bt.jsxs)("svg",{width:"40vh",viewBox:"0 0 1300 800",style:{overflow:"show"},xmlns:"http://www.w3.org/2000/svg",children:[(0,bt.jsx)("path",{className:"fly-up",id:"wyrL",d:"M606.41 10.74C602.15 9.37 595.66 7.46 586.95 5L582 303.09C587.58 304.67 593.65 307.27 600.21 310.88C608.7 315.5 615.81 320.8 621.53 326.78C621.66 318.95 621.77 297.53 621.86 262.5C621.95 231.09 622.06 214.46 622.19 212.61L624.3 17.4C620.12 15.42 614.16 13.2 606.42 10.73L606.41 10.74Z",fill:"#FF6347"}),(0,bt.jsx)("path",{className:"fly-down",id:"wyrH",d:"M964.46 380.72C964.71 355.21 964.98 329.09 965.27 302.37C958.1 300.83 950.66 300.04 942.96 300C934.91 299.96 927.81 300.75 921.65 302.37C921.12 320.63 920.97 346.74 921.19 380.7C921.28 398.21 921.43 417.24 921.65 437.78C921.65 444.73 921.54 457.67 921.33 476.59C921.06 501.44 920.75 519.33 920.4 530.24C920.18 536.97 920.18 549.97 920.4 569.24C920.58 585.87 920.45 596.08 920.01 599.86C932.15 600.34 947.2 601.86 965.15 604.41C963.7 594.77 962.98 573.09 962.98 539.35C963.03 513.43 963.36 490.51 963.97 470.59C963.81 461.3 963.98 431.34 964.48 380.72H964.46Z",fill:"#FFA500"}),(0,bt.jsx)("path",{d:"M1031.18 429.23C1027.75 427.16 1023.88 425.47 1019.57 424.15C1015.35 422.83 1011.76 422.17 1008.82 422.17C1002.53 422.17 994.65 423.49 985.19 426.13C977.01 428.38 969.84 430.93 963.68 433.79C963.34 433.24 963.08 434.94 962.89 438.89C962.73 442.23 962.66 446.64 962.66 452.11C962.66 457.17 962.72 461.46 962.84 464.98C962.97 468.71 963.11 470.05 963.29 469.03C972 463.75 980.56 461.11 988.96 461.11C992.57 461.11 995.39 461.99 997.41 463.75C999.3 465.38 1000.36 467.68 1000.57 470.67C1001.1 475.6 1001.54 484.46 1001.89 497.27C1002.11 506.42 1002.22 513.31 1002.22 517.92C1002.17 518.85 1001.89 531.19 1001.36 554.95C1000.88 575.5 1000.46 588.14 1000.11 592.9C1010.36 594.3 1017.36 595.29 1021.1 595.87C1030.16 597.28 1038.37 598.77 1045.72 600.36C1045.37 591.61 1045.15 582.67 1045.06 573.57C1045.02 565.34 1045.11 559.1 1045.32 554.83C1045.5 548.85 1045.7 532.31 1045.92 505.21C1046.1 481.8 1046.18 467.94 1046.18 463.63C1046.18 454.83 1044.46 447.13 1041.03 440.53C1038.31 435.25 1035.03 431.49 1031.2 429.25L1031.18 429.23Z",fill:"#FFA500"}),(0,bt.jsx)("path",{d:"M623.5 382.15C623.5 361.74 615.65 345.39 599.94 333.12C582.78 319.66 560.554 314.135 526.09 312.93L488.786 312.491C488.786 312.491 490.728 338.434 490.65 353.975C490.572 369.516 490.45 393.77 490.45 393.77C490.45 418.1 490.16 457.47 489.59 511.9C489.59 520.57 489.41 533.33 489.06 550.18C488.75 567.07 488.38 581.94 487.94 594.79C492.08 594.79 499.71 594.11 510.84 592.74C524.87 591.02 533.54 590.03 536.84 589.77C535.92 580.88 535.15 569.14 534.53 554.53C534.13 544.98 533.67 531.04 533.14 512.69C533.14 497.51 532.85 488.12 532.28 484.51L546.4 482.07C553.31 495.62 561.82 513.55 571.94 535.85C583.2 560.66 592.22 581.67 599 598.87C603.22 597.46 610.35 594.65 620.38 590.42C629.8 586.46 636.9 583.75 641.7 582.3C634.48 567.3 622.91 544.11 606.99 512.74C596.26 491.53 589.04 476.31 585.34 467.07C596.78 459.94 606.04 448.33 613.12 432.23C620.03 416.57 623.48 399.87 623.48 382.14M563.78 357.07C571.26 362.61 575 372.78 575 387.56C575 404.1 573.11 417.08 569.32 426.5C564.96 437.32 557.88 444.1 548.07 446.83C546.18 447.36 543.43 447.95 539.82 448.61C536.21 449.23 533.99 449.6 533.15 449.73C532.97 446.3 532.82 431.05 532.69 404C532.56 374.26 532.43 356.35 532.29 350.28C547.07 350.28 557.57 352.55 563.77 357.08L563.78 357.07Z",fill:"#FFA500"}),(0,bt.jsx)("path",{d:"M711.27 443.59C718.44 444.51 724.27 446.01 728.76 448.08C731.36 449.49 733.12 452.02 734.04 455.67C734.92 459.01 735.36 464.36 735.36 471.71C718.82 476.99 710.52 479.65 710.48 479.7C697.85 484.01 686.55 488.52 676.56 493.23C667.15 497.59 660.26 504.67 655.9 514.48C652.51 522.18 650.82 531.13 650.82 541.34C650.82 557.44 655.86 571.52 665.93 583.58C670.11 588.64 674.69 592.62 679.66 595.52C684.5 598.34 688.99 599.74 693.12 599.74C700.51 599.74 708.72 597.36 717.74 592.61C725.26 588.61 731.69 583.94 737.01 578.62C737.32 580.82 737.96 585.81 738.92 593.6C740.02 600.86 741.19 606.07 742.42 609.24C748.27 606.34 754.72 604 761.76 602.24C765.9 601.18 772.43 599.67 781.36 597.69C780.35 593.25 779.53 587 778.92 578.95C778.35 571.21 778.06 563.49 778.06 555.79C777.8 493.36 777.66 461.31 777.66 459.64C777.66 451.85 776.01 444.4 772.71 437.27C769.1 429.39 764.26 423.87 758.19 420.71C750.4 416.71 740 413.41 726.98 410.81C717.26 408.87 703.75 406.94 686.46 405C686.77 414.37 686.09 426.8 684.41 442.29C695.32 442.29 704.27 442.73 711.27 443.61M697.28 523.11C700.49 518.93 704.34 515.87 708.83 513.94C710.68 513.02 715.39 511.23 722.95 508.59C730.08 506.13 734.37 504.45 735.82 503.57C736 506.39 735.89 513.62 735.49 525.28C735.14 536.19 734.83 542.9 734.57 545.41C731.8 548.58 728.08 551.75 723.42 554.91C716.91 559.35 711.23 561.58 706.39 561.58C701.55 561.58 698.14 559.34 695.77 554.85C693.44 550.54 692.27 544.36 692.27 536.31C692.27 531.91 693.94 527.51 697.29 523.11H697.28Z",fill:"#FFA500"}),(0,bt.jsx)("path",{d:"M864.57 386.17C865.19 373.94 865.49 365.56 865.49 361.03C858.05 363.85 848.77 366.93 837.64 370.27C829.5 372.65 823.74 374.25 820.35 375.09C820.04 379.97 819.82 385.89 819.69 392.84C819.56 399.44 819.36 404.72 819.1 408.68C819.1 410.53 818.55 412.6 817.45 414.88C814.11 415.5 806.91 416.33 795.87 417.39C795.87 429.84 796.42 440.62 797.52 449.73C800.56 449.16 804.03 448.81 807.95 448.67C811.25 448.58 814 448.65 816.2 448.87C816.07 452.52 816.22 458.53 816.66 466.89C817.19 476.35 817.45 483.19 817.45 487.41V546.67C817.45 560.35 819.94 571.4 824.91 579.8C831.42 590.8 843.43 600.48 860.94 608.84C863.89 604.48 869.26 598.22 877.04 590.03C881.09 585.81 885.53 581.3 890.37 576.5C882.98 573.64 875.98 569.13 869.38 562.97C862.87 556.9 859.5 551.88 859.28 547.92C858.71 536.09 858.51 521.26 858.69 503.44C858.87 487.95 859.2 476.95 859.68 470.44C859.86 469.03 860.08 465.51 860.34 459.88C860.65 453.63 860.85 449.83 860.93 448.46C863.92 448.11 868.23 447.84 873.86 447.67C881.74 447.41 888.62 447.54 894.52 448.07C893.82 441.6 893.55 434.15 893.73 425.7C893.86 419.32 894.13 414.75 894.52 411.97C891.26 412.81 886.27 413.47 879.54 413.95C869.69 414.7 864.16 415.14 862.98 415.27C863.68 402.64 864.21 392.94 864.56 386.17H864.57Z",fill:"#FFA500"}),(0,bt.jsx)("path",{d:"M1108.35 514.79C1124.85 514.04 1136.22 513.51 1142.47 513.21C1162.75 512.15 1180.26 511.01 1195 509.78C1193.46 479.03 1188.11 454.94 1178.96 437.52C1168.93 418.56 1155.07 409.08 1137.38 409.08C1115.12 409.08 1098.22 415.17 1086.7 427.36C1072.4 442.49 1065.25 467.77 1065.25 503.19C1065.25 519.2 1067.01 533.22 1070.53 545.23C1074.49 558.74 1080.6 569.32 1088.88 576.97C1095 582.87 1102.96 587.75 1112.77 591.62C1122.36 595.36 1131.38 597.23 1139.83 597.23C1147.13 597.23 1157.52 594.83 1170.98 590.04C1186.16 584.67 1195.82 579.06 1199.95 573.21C1193.83 563.88 1189.55 555.19 1187.08 547.14C1179.16 551.1 1170.63 554.18 1161.47 556.38C1153.86 558.23 1147.48 559.15 1142.33 559.15C1137.93 559.15 1133.14 557.76 1127.94 554.99C1123.32 552.53 1119.98 549.91 1117.91 547.14C1111.93 539.4 1108.74 528.62 1108.34 514.8M1131.18 443.06C1137.56 443.06 1142.53 446.69 1146.09 453.95C1149.04 459.98 1151.11 468.78 1152.29 480.35C1141.38 481.45 1133.09 482.15 1127.41 482.46C1125.52 482.81 1122.24 482.97 1117.58 482.92C1113.44 482.88 1110.36 482.72 1108.34 482.46C1107.55 470.85 1109.64 461.21 1114.61 453.56C1119.14 446.56 1124.66 443.07 1131.17 443.07L1131.18 443.06Z",fill:"#FFA500"}),(0,bt.jsx)("path",{d:"M1318.47 442.27C1315.21 433.91 1312.86 427.44 1311.41 422.87C1309.56 416.89 1308.04 410.64 1306.86 404.13C1297.36 405.67 1288.6 408.44 1280.59 412.45C1273.64 415.88 1267.9 419.89 1263.37 424.46V401.23C1258.53 401.01 1253.1 400.64 1247.07 400.11C1235.06 398.97 1226.13 397.54 1220.28 395.82C1220.81 406.33 1221.07 428.02 1221.07 460.89V513.55C1221.07 519.8 1220.7 531.48 1219.95 548.59C1219.03 569.36 1218.01 584.34 1216.91 593.53C1225.88 593.75 1233.76 594.21 1240.54 594.92C1247.45 595.67 1254.9 596.86 1262.91 598.48C1261.81 583.7 1261.26 561.9 1261.26 533.08C1261.26 510.82 1261.55 489.52 1262.12 469.2C1266.74 461.37 1273.14 455.28 1281.32 450.92C1291 445.73 1303.38 442.85 1318.47 442.27Z",fill:"#FFA500"}),(0,bt.jsx)("path",{d:"M275.357 75.6048C266.997 74.8148 259.607 73.6948 253.187 72.2348C247.067 70.8248 239.677 68.6448 231.017 65.7048C228.197 87.3948 208.41 214.49 202.73 253.38C196.83 293.72 191.97 325.44 188.15 348.54C185.82 336.09 179.31 304.15 168.62 252.72C159.12 206.83 153.46 178.28 151.66 167.06C145.02 167.85 138.62 168.23 132.46 168.18C127.22 168.14 121.33 167.76 114.77 167.06C113.54 175.46 107.66 204.26 97.15 253.44C85.14 309.53 78.03 343.32 75.83 354.8C72.62 336.45 67.43 301.41 60.26 249.67C52.56 193.97 48.21 162.98 47.19 156.69C38.48 160.87 30.05 164.3 21.91 166.98C15.75 168.96 8.45 170.92 0 172.85C7.57 212.27 23.58 301.1 48.04 439.33C60.58 439.33 75.36 441.11 92.39 444.68C94.5 433.73 100.82 405.44 111.33 359.81C121.62 315.24 128.58 283.3 132.18 263.99C135.96 284.62 142.58 318.41 152.04 365.35C160.8 408.64 168.278 470.914 170.308 482.754C192.252 472.778 198.113 467.754 212.905 456.312C213.215 454.732 217.79 398.94 233.14 314.61C244.97 249.89 269.407 105.685 275.347 75.5948L275.357 75.6048Z",fill:"#FF6347"}),(0,bt.jsx)("path",{d:"M387.64 158.084C374.97 146.554 358.19 140.794 337.29 140.794C316.39 140.794 299.17 148.294 286.54 163.294C272.33 180.104 265.22 204.784 265.22 237.334C265.22 248.334 266.63 259.134 269.44 269.734C271.99 279.234 275.27 287.224 279.27 293.694C294.05 316.924 313.26 328.534 336.88 328.534C346.34 328.534 355.49 326.094 364.33 321.204C373.22 316.274 381.07 309.264 387.89 300.154C403.07 279.874 410.66 253.824 410.66 222.014C410.66 193.334 402.98 172.014 387.63 158.064M307.46 229.884C307.46 211.494 309.77 198.124 314.39 189.764C318.48 182.284 324.6 178.544 332.74 178.544C342.07 178.544 349.81 182.594 355.97 190.684C363.41 200.454 367.12 214.774 367.12 233.644C367.12 252.514 364.48 265.874 359.2 275.944C354.27 285.314 347.81 290.004 339.8 290.004C331.22 290.004 323.76 284.434 317.43 273.304C310.79 261.644 307.47 247.174 307.47 229.884H307.46Z",fill:"#FF6347"}),(0,bt.jsx)("path",{d:"M428.89 106.36C429.2 109.66 429.59 116.57 430.08 127.08C430.61 137.99 430.92 144.08 431 145.36C431.35 149.23 431.66 160.85 431.92 180.2C432.1 196.08 432.18 210.29 432.18 222.83C432.18 230.62 432.4 238.95 432.84 247.84C433.41 258.53 434.16 266.23 435.08 270.94C440.32 282.51 449.16 288.3 461.61 288.3C465.53 288.3 473.82 286.54 486.49 283.02C497.75 279.85 505.63 277.34 510.12 275.5L511.37 294.97C519.77 294.66 526.5 294.66 531.56 294.97C538.82 295.41 546.74 296.58 555.32 298.47V91.05C548.46 93.56 540.56 95.82 531.63 97.85C524.28 99.52 517.24 100.84 510.51 101.81C510.99 105.64 511.3 111.95 511.43 120.75L511.76 141.21C512.29 152.38 512.6 169.63 512.68 192.95C512.72 205.49 512.7 220.97 512.61 239.41C509.53 241.87 505.44 243.96 500.34 245.68C495.41 247.31 490.93 248.12 486.88 248.12C482.44 248.12 479.42 246.98 477.84 244.69C476.17 242.31 475.33 237.65 475.33 230.7C474.76 158.33 474.47 116.75 474.47 105.97C467.91 106.63 460.74 107 452.96 107.09C444.47 107.22 436.44 106.98 428.87 106.36H428.89Z",fill:"#FF6347"}),(0,bt.jsx)("path",{d:"M781.96 96.7174C777.12 97.5974 768.43 98.6274 755.89 99.8174L738.47 101.267C739.26 119.527 739.81 135.977 740.12 150.627C740.65 172.717 740.91 186.527 740.91 192.067C730.92 188.367 725.6 186.417 724.94 186.197C718.08 183.997 712.36 182.897 707.78 182.897C698.81 182.897 689.13 187.317 678.74 196.157C670.6 203.157 664.66 210.057 660.92 216.877C657.75 222.727 654.91 231.177 652.41 242.217C649.24 256.247 647.66 270.877 647.66 286.107C647.66 311.797 652.76 332.877 662.97 349.327C672.65 364.947 684.4 372.757 698.21 372.757C704.72 372.757 712.11 371.527 720.38 369.057C729.13 366.457 736.13 363.267 741.37 359.487L747.529 400.113C756.091 402.356 755.48 401.744 764.653 405.617C775.661 410.306 778.515 417.849 780.757 421.722C780.887 414.502 781.64 331.517 782.34 327.947L781.94 96.7074M739.26 229.757C740.27 236.487 740.65 251.187 740.38 273.837C740.25 286.247 740.01 303.727 739.65 326.297C736.57 329.597 732.94 332.237 728.76 334.217C724.62 336.157 720.66 337.117 716.88 337.117C708.52 337.117 702.14 330.697 697.74 317.847C693.65 306.017 691.6 290.047 691.6 269.937C691.6 251.107 693.38 238.107 696.95 230.937C700.07 224.597 705.46 221.437 713.12 221.437C716.99 221.437 721.61 222.297 726.98 224.007C732.22 225.727 736.31 227.637 739.25 229.747L739.26 229.757Z",fill:"#FF6347"}),(0,bt.jsx)("path",{d:"M1106.88 191.322C1094.21 179.792 1077.43 174.032 1056.53 174.032C1035.63 174.032 1018.39 181.532 1005.72 196.532C991.511 213.382 984.401 238.062 984.401 270.572C984.401 281.572 985.831 292.372 988.691 302.972C991.241 312.472 994.521 320.462 998.521 326.932C1013.3 350.162 1032.51 361.772 1056.13 361.772C1065.59 361.772 1074.74 359.332 1083.58 354.442C1092.47 349.512 1100.32 342.502 1107.14 333.392C1122.32 313.112 1129.91 287.062 1129.91 255.252C1129.91 226.572 1122.23 205.252 1106.88 191.302M1051.97 211.782C1061.3 211.782 1069.04 215.832 1075.2 223.922C1082.64 233.692 1086.35 248.012 1086.35 266.882C1086.35 285.012 1083.71 299.112 1078.43 309.182C1073.5 318.552 1067.04 323.242 1059.03 323.242C1050.45 323.242 1042.99 317.672 1036.66 306.542C1030.02 294.882 1026.7 280.412 1026.7 263.122C1026.7 244.732 1029.01 231.362 1033.63 223.002C1037.72 215.522 1043.84 211.782 1051.98 211.782H1051.97Z",fill:"#FF6347"}),(0,bt.jsx)("path",{d:"M1265.2 385.064V181.144C1258.34 183.654 1250.46 185.914 1241.57 187.944C1234.22 189.614 1227.18 190.934 1220.45 191.904C1220.93 195.734 1221.24 202.044 1221.37 210.844L1221.7 231.304C1222.23 242.474 1222.54 259.724 1222.62 283.044C1222.66 295.584 1222.64 311.064 1222.55 329.504C1219.47 331.964 1215.38 334.054 1210.28 335.774C1205.35 337.404 1200.86 338.214 1196.82 338.214C1192.38 338.214 1189.36 337.074 1187.78 334.784C1186.06 332.364 1185.21 327.704 1185.21 320.794C1184.68 248.424 1184.42 206.844 1184.42 196.064C1177.86 196.724 1170.67 197.094 1162.84 197.184C1154.39 197.314 1146.39 197.074 1138.82 196.454C1139.17 199.844 1139.57 206.744 1140.01 217.174C1140.54 228.484 1140.82 234.574 1140.87 235.454C1141.27 239.324 1141.57 250.944 1141.79 270.294C1142.01 286.004 1142.12 300.214 1142.12 312.924C1142.12 320.714 1142.34 329.044 1142.78 337.934C1143.35 348.624 1144.1 356.324 1145.02 361.034C1150.26 372.604 1159.1 378.394 1171.55 378.394C1175.47 378.394 1183.76 376.634 1196.43 373.114C1207.69 369.944 1215.57 367.434 1220.06 365.594L1220.73 380.014C1232.59 382.789 1234.62 382.878 1243.69 383.798C1251.35 384.588 1257.82 384.807 1265.2 385.064Z",fill:"#FF6347"}),(0,bt.jsx)("path",{d:"M1002.96 41.0973C996.15 38.7073 987.73 35.3973 977.67 31.1573C972.8 58.2873 962.89 94.2373 947.92 138.987C942.2 126.367 934.98 107.777 926.29 83.2073C918.36 60.8473 912.84 44.0673 909.73 32.8373C894.05 39.8673 877.08 45.2273 858.82 48.9273C868.47 68.5373 879.98 92.6673 893.37 121.337C909.19 155.317 920.17 179.887 926.29 195.027C925.66 222.657 925.07 243.257 924.53 256.817C923.58 280.797 921.94 284.928 921.94 284.928C930.68 283.978 938.68 283.667 945.94 283.977C951.35 284.207 958.18 284.927 966.43 286.137C966.7 280.097 966.81 284.007 969.02 246.327C970.82 215.137 971.72 196.047 971.72 189.067C976.77 175.457 985.04 154.067 996.53 124.907C1008.38 94.7573 1018.66 69.1573 1027.36 48.1073C1018.8 46.0773 1010.66 43.7373 1002.95 41.0773L1002.96 41.0973Z",fill:"#FF6347"}),(0,bt.jsx)("path",{d:"M46.9628 509.061L44.8432 552.512C314.725 579.353 272.957 348.958 490.65 353.975C490.728 338.434 488.786 312.491 488.786 312.491C262.546 311.346 282.389 537.585 46.9628 509.061Z",fill:"#FFA500"})]})})})},wt=t=>{let{question:e,onRespond:n,response:i,disabledbutton:r}=t;const o=t=>{n(t)};return(0,bt.jsxs)("div",{className:"question",children:[(0,bt.jsx)("button",{style:{maxWidth:"240px"},onClick:()=>o("optionA"),className:i&&"optionA"===i.choice?"selected":"",disabled:r,children:e.optionA}),(0,bt.jsx)("h2",{style:{padding:"20px",color:"#FFA500"},children:"or"}),(0,bt.jsx)("button",{style:{maxWidth:"240px"},onClick:()=>o("optionB"),className:i&&"optionB"===i.choice?"selected":"",disabled:r,children:e.optionB})]})},Ct=JSON.parse('[{"id":1,"optionA":"accidentally call your friend\'s dad\'s girlfriend by your friend\'s mom\'s name","optionB":"pretend to fake a throw and then do it again and hit your friend in the face and his nose bleeds","optionAshort":"mistake the mom","optionBshort":"hit the friend in the face"},{"id":2,"optionA":"jeff probst is your therapist","optionB":"you have to be jeff probst\u2019s therapist","optionAshort":"jeff probst therapist","optionBshort":"you are therapist"},{"id":3,"optionA":"there is a 30 min line to order your food/drink/etc","optionB":"there is a 30 min line for for the bathroom","optionAshort":"30 min line to order","optionBshort":"30 min line for bathroom"},{"id":4,"optionA":"you have to go back to high school and do a 5th year (AFTER YOUR SENIOR YEAR OF COLLEGE) before you can graduate from college with a degree","optionB":"you graduate from college in 3 years and don\'t get a senior year (even though you paid for 4 years)","optionAshort":"return to high school","optionBshort":"3 years of college for the price of 4"},{"id":5,"optionA":"know and cherish the 20 trees closest to your house. you can\u2019t travel to see other trees. if you go other places, you\u2019ll be tree blind. you live in an awesome place with beautiful trees","optionB":"travel the world visiting trees but you can only connect with each tree once and the next day it\u2019s gone. you\u2019re tree blind to the trees by your house.","optionAshort":"20 top trees","optionBshort":"all the trees"},{"id":6,"optionA":"your name is mr. brooms for arms and your arms are made of brooms","optionB":"you can only go outside when the moon is waxing","optionAshort":"be mr. brooms for arms","optionBshort":"wait for the moon to wax"},{"id":7,"optionA":"have tongue like frog (get to lick anyone, anytime, any distance). everyone thinks youre really cute.","optionB":"have tail like monkey (yay hang from things). everyone thinks youre really cute.","optionAshort":"tongue like frog","optionBshort":"tail like monkey"},{"id":8,"optionA":"spotify tells people when you\'ve viewed their profile a la tiktok","optionB":"you can no longer see what people are listening to on spotify. social media aspect gone","optionAshort":"spotify tattles","optionBshort":"no spotify friend activity"},{"id":9,"optionA":"have to heist, transport, and sell the organ from notre dame itself on the black market","optionB":"have to sell an organ from your own body on the black market","optionAshort":"steal the notre dame organ","optionBshort":"sell your organ"},{"id":10,"optionA":"Every time you go out to a club or a bar your arms get so crazy long they drag on the floor, but you are so good at the wave. You can still get cute little drinks, but u have to kinda prop ur extra arm length up on the bar. Extra points if u get the hot bartender to hold the drink up to your lips ","optionB":"Every time you go out to a club or a bar your legs become 1/4 their current length. If you dance you might get stepped on, so your friends will carry u on their shoulders. if you wanna sit at the bar your friend has to pick u up and place you in the chair","optionAshort":"long arms at the bar","optionBshort":"itty legs at the bar"},{"id":11,"optionA":"leave while things are good and you have sweet memories of what you\u2019re leaving","optionB":"wait to get tired of it and then you have something to resent when you leave","optionAshort":"quit while ahead","optionBshort":"await disaster"},{"id":12,"optionA":"eat tofu made by a carnivore. they hate tofu. ","optionB":"eat a steak made by a vegan. they hate meat","optionAshort":"carnivore\'s tofu","optionBshort":"vegan\'s meat"},{"id":13,"optionA":"total your best friend\'s car","optionB":"your best friend totals your car","optionAshort":"total their car","optionBshort":"total your car"},{"id":14,"optionA":"date someone who\'s obsessed with jazz and will turn everything into a jazz metaphor","optionB":"date someone who all your friends think is ant pretending to be a person","optionAshort":"jazz metaphor partner","optionBshort":"ant? partner"},{"id":15,"optionA":"name your kid frederica","optionB":"name your kid artemis","optionAshort":"frederica","optionBshort":"artemis"},{"id":16,"optionA":"get constipated for 10 days","optionB":"have norovirus for 24 hours","optionAshort":"constipated 10 days","optionBshort":"norovirus 24 hours"},{"id":17,"optionA":"Forget your phone on the plane once you\u2019ve exited","optionB":"Forget your phone at the gate when you\u2019ve already boarded","optionAshort":"phone on plane","optionBshort":"phone at gate"},{"id":18,"optionA":"date someone who\'s reaalllly into close-up magic","optionB":"date anyone else","optionAshort":"close-up magic","optionBshort":"no close-up magic"},{"id":19,"optionA":"take a protected left turn from a big street to a big street. you have to wait an average of 150 secs for the light to turn for you","optionB":"take an unprotected left turn from a little street onto a big street. there is a 50/50 chance that traffic is super heavy vs no cars around. ","optionAshort":"protected left","optionBshort":"unprotected left"},{"id":20,"optionA":"open your mouth for a small bird to perform dentistry on you teeth. he is training to be a professional","optionB":"perform a simple but high stakes surgery on a small bird.","optionAshort":"bird dentist","optionBshort":"surgery on the bird"},{"id":21,"optionA":"someone\'s standing above the seat you\u2019re in on the subway and they yak on your lap and your bag and then get really embarassed and get off the subway","optionB":"someone runs onto your subway car, steals your phone out of your hand, and runs out. the doors close behind them and the train continues","optionAshort":"subway yakker","optionBshort":"subway phone thief"},{"id":22,"optionA":"take a protected left turn from a big street to a big street. you have to wait an average of 150 secs for the light to turn for you","optionB":"take an unprotected left turn from a little street onto a big street. there is a 50/50 chance that traffic is super heavy vs no cars around. ","optionAshort":"protected left","optionBshort":"unprotected left"},{"id":23,"optionA":"while the barista is handing u ur scalding hot coffee, you spill it on yourself (its a scene)","optionB":"while handing the barista ur water bottle to fill, accidentally spilling about half the water bottle that you forgot was already full with old water on the nice man ","optionAshort":"coffee on you","optionBshort":"water on barista"},{"id":24,"optionA":"find a rat your pantry (alive)","optionB":"find maggots in your pantry (alive)","optionAshort":"pantry rat","optionBshort":"pantry maggots"},{"id":25,"optionA":"take a protected left turn from a big street to a big street. you have to wait an average of 150 secs for the light to turn for you","optionB":"take an unprotected left turn from a little street onto a big street. there is a 50/50 chance that traffic is super heavy vs no cars around. ","optionAshort":"protected left","optionBshort":"unprotected left"},{"id":26,"optionA":"birth a baby","optionB":"find a baby in the pantry","optionAshort":"birth the baby","optionBshort":"free pantry baby!"}]'),kt=!1,St=!1,Et="${JSCORE_VERSION}",Pt=function(t,e){if(!t)throw Tt(e)},Tt=function(t){return new Error("Firebase Database ("+Et+") INTERNAL ASSERT FAILED: "+t)},Mt=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},It={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],o=r+1<t.length,s=o?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,c=e>>2,u=(3&e)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mt(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const o=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(1023&o))}else{const o=t[n++],s=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0;++r;const s=r<t.length?n[t.charAt(r)]:64;++r;const a=r<t.length?n[t.charAt(r)]:64;if(++r,null==e||null==o||null==s||null==a)throw new Dt;const l=e<<2|o>>4;if(i.push(l),64!==s){const t=o<<4&240|s>>2;if(i.push(t),64!==a){const t=s<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Dt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rt=function(t){const e=Mt(t);return It.encodeByteArray(e,!0)},Nt=function(t){return Rt(t).replace(/\./g,"")},Ot=function(t){try{return It.decodeString(t,!0)}catch(Xg){console.error("base64Decode failed: ",Xg)}return null};function At(t){return Lt(void 0,t)}function Lt(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Lt(t[n],e[n]));return t}const Ft=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,zt=()=>{try{return Ft()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"secrets.REACT_APP_API_KEY"}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Xg){return}const e=t&&Ot(t[1]);return e&&JSON.parse(e)})()}catch(Xg){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Xg))}},Bt=t=>{const e=(t=>{var e,n;return null===(n=null===(e=zt())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},jt=()=>{var t;return null===(t=zt())||void 0===t?void 0:t.config};class Wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function Vt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ht(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function Ut(){return!0===kt||!0===St}class qt extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}}class $t{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),i=this.errors[t],r=i?function(t,e){return t.replace(Yt,((t,n)=>{const i=e[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,e):"Error",o="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new qt(n,o,e)}}const Yt=/\{\$([^}]+)}/g;function Kt(t){return JSON.parse(t)}function Qt(t){return JSON.stringify(t)}const Gt=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=Kt(Ot(o[0])||""),n=Kt(Ot(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(Xg){}return{header:e,claims:n,data:i,signature:r}};function Xt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zt(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function Jt(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function te(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function ee(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],o=e[r];if(ne(n)&&ne(o)){if(!ee(n,o))return!1}else if(n!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function ne(t){return null!==t&&"object"===typeof t}class ie{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const n=this.W_;if("string"===typeof t)for(let u=0;u<16;u++)n[u]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let u=0;u<16;u++)n[u]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let u=16;u<80;u++){const t=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(t<<1|t>>>31)}let i,r,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(i=l^s&(a^l),r=1518500249):(i=s^a^l,r=1859775393):u<60?(i=s&a|l&(s|a),r=2400959708):(i=s^a^l,r=3395469782);const t=(o<<5|o>>>27)+i+c+r+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,e){if(null==t)return;void 0===e&&(e=t.length);const n=e-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"===typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}digest(){const t=[];let e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let e=24;e>=0;e-=8)t[n]=this.chain_[i]>>e&255,++n;return t}}function re(t,e){return"".concat(t," failed: ").concat(e," argument ")}const oe=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};function se(t){return t&&t._delegate?t._delegate:t}class ae{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const le="[DEFAULT]";class ce{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Wt;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(Xg){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Xg){if(i)return null;throw Xg}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:le})}catch(Xg){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(Xg){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&o.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(i){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===le?void 0:r),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(o){}var r;return i||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;return this.component?this.component.multipleInstances?t:le:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new ce(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const he=[];var de;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(de||(de={}));const fe={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},pe=de.INFO,ge={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},me=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),i=ge[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];console[i]("[".concat(n,"]  ").concat(t.name,":"),...o)};class ye{constructor(t){this.name=t,this._logLevel=pe,this._logHandler=me,this._userLogHandler=null,he.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in de))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?fe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const _e=(t,e)=>e.some((e=>t instanceof e));let ve,be;const xe=new WeakMap,we=new WeakMap,Ce=new WeakMap,ke=new WeakMap,Se=new WeakMap;let Ee={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return we.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Ce.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Me(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Pe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(Ie(this),n),Me(xe.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Me(t.apply(Ie(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const o=t.call(Ie(this),e,...i);return Ce.set(o,e.sort?e.sort():[e]),Me(o)}}function Te(t){return"function"===typeof t?Pe(t):(t instanceof IDBTransaction&&function(t){if(we.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{e(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)}));we.set(t,e)}(t),_e(t,ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,Ee):t)}function Me(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{e(Me(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&xe.set(e,t)})).catch((()=>{})),Se.set(e,t),e}(t);if(ke.has(t))return ke.get(t);const e=Te(t);return e!==t&&(ke.set(t,e),Se.set(e,t)),e}const Ie=t=>Se.get(t);const De=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],Ne=new Map;function Oe(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(Ne.get(e))return Ne.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Re.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!De.includes(n))return;const o=async function(t){const e=this.transaction(t,r?"readwrite":"readonly");let o=e.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return i&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),r&&e.done]))[0]};return Ne.set(e,o),o}!function(t){Ee=t(Ee)}((t=>({...t,get:(e,n,i)=>Oe(e,n)||t.get(e,n,i),has:(e,n)=>!!Oe(e,n)||t.has(e,n)})));class Ae{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((t=>t)).join(" ")}}const Le="@firebase/app",Fe="0.10.5",ze=new ye("@firebase/app"),Be="[DEFAULT]",je={[Le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},We=new Map,Ve=new Map,He=new Map;function Ue(t,e){try{t.container.addComponent(e)}catch(Xg){ze.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),Xg)}}function qe(t){const e=t.name;if(He.has(e))return ze.debug("There were multiple attempts to register component ".concat(e,".")),!1;He.set(e,t);for(const n of We.values())Ue(n,t);for(const n of Ve.values())Ue(n,t);return!0}function $e(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ye=new $t("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ke{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ae("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ye.create("app-deleted",{appName:this._name})}}function Qe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const i=Object.assign({name:Be,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!==typeof r||!r)throw Ye.create("bad-app-name",{appName:String(r)});if(n||(n=jt()),!n)throw Ye.create("no-options");const o=We.get(r);if(o){if(ee(n,o.options)&&ee(i,o.config))return o;throw Ye.create("duplicate-app",{appName:r})}const s=new ue(r);for(const l of He.values())s.addComponent(l);const a=new Ke(n,i,s);return We.set(r,a),a}function Ge(t,e,n){var i;let r=null!==(i=je[t])&&void 0!==i?i:t;n&&(r+="-".concat(n));const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const t=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];return o&&t.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),o&&s&&t.push("and"),s&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void ze.warn(t.join(" "))}qe(new ae("".concat(r,"-version"),(()=>({library:r,version:e})),"VERSION"))}const Xe="firebase-heartbeat-database",Ze=1,Je="firebase-heartbeat-store";let tn=null;function en(){return tn||(tn=function(t,e){let{blocked:n,upgrade:i,blocking:r,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(t,e),a=Me(s);return i&&s.addEventListener("upgradeneeded",(t=>{i(Me(s.result),t.oldVersion,t.newVersion,Me(s.transaction),t)})),n&&s.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{o&&t.addEventListener("close",(()=>o())),r&&t.addEventListener("versionchange",(t=>r(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}(Xe,Ze,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Je)}catch(Xg){console.warn(Xg)}}}).catch((t=>{throw Ye.create("idb-open",{originalErrorMessage:t.message})}))),tn}async function nn(t,e){try{const n=(await en()).transaction(Je,"readwrite"),i=n.objectStore(Je);await i.put(e,rn(t)),await n.done}catch(Xg){if(Xg instanceof qt)ze.warn(Xg.message);else{const e=Ye.create("idb-set",{originalErrorMessage:null===Xg||void 0===Xg?void 0:Xg.message});ze.warn(e.message)}}}function rn(t){return"".concat(t.name,"!").concat(t.options.appId)}class on{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new an(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sn();if((null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((t=>t.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=sn(),{heartbeatsToSend:n,unsentEntries:i}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=t.slice();for(const r of t){const t=n.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),ln(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ln(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=Nt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function sn(){return(new Date).toISOString().substring(0,10)}class an{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(Xg){return!1}}()&&new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(Tn){e(Tn)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await en()).transaction(Je),n=await e.objectStore(Je).get(rn(t));return await e.done,n}catch(Xg){if(Xg instanceof qt)ze.warn(Xg.message);else{const e=Ye.create("idb-get",{originalErrorMessage:null===Xg||void 0===Xg?void 0:Xg.message});ze.warn(e.message)}}}(this.app);return(null===t||void 0===t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return nn(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return nn(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function ln(t){return Nt(JSON.stringify({version:2,heartbeats:t})).length}var cn;cn="",qe(new ae("platform-logger",(t=>new Ae(t)),"PRIVATE")),qe(new ae("heartbeat",(t=>new on(t)),"PRIVATE")),Ge(Le,Fe,cn),Ge(Le,Fe,"esm2017"),Ge("fire-js","");const un="@firebase/database",hn="1.0.5";let dn="";function fn(t){dn=t}class pn{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Qt(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Kt(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class gn{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return Xt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const mn=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pn(e)}}catch(Xg){}return new gn},yn=mn("localStorage"),_n=mn("sessionStorage"),vn=new ye("@firebase/database"),bn=function(){let t=1;return function(){return t++}}(),xn=function(t){const e=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const e=r-55296;i++,Pt(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(e<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e}(t),n=new ie;n.update(e);const i=n.digest();return It.encodeByteArray(i)},wn=function(){let t="";for(let e=0;e<arguments.length;e++){const n=e<0||arguments.length<=e?void 0:arguments[e];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?t+=wn.apply(null,n):t+="object"===typeof n?Qt(n):n,t+=" "}return t};let Cn=null,kn=!0;const Sn=function(t,e){Pt(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(vn.logLevel=de.VERBOSE,Cn=vn.log.bind(vn),e&&_n.set("logging_enabled",!0)):"function"===typeof t?Cn=t:(Cn=null,_n.remove("logging_enabled"))},En=function(){if(!0===kn&&(kn=!1,null===Cn&&!0===_n.get("logging_enabled")&&Sn(!0)),Cn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=wn.apply(null,e);Cn(i)}},Pn=function(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];En(t,...n)}},Tn=function(){const t="FIREBASE INTERNAL ERROR: "+wn(...arguments);vn.error(t)},Mn=function(){const t="FIREBASE FATAL ERROR: ".concat(wn(...arguments));throw vn.error(t),new Error(t)},In=function(){const t="FIREBASE WARNING: "+wn(...arguments);vn.warn(t)},Dn=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Rn="[MIN_NAME]",Nn="[MAX_NAME]",On=function(t,e){if(t===e)return 0;if(t===Rn||e===Nn)return-1;if(e===Rn||t===Nn)return 1;{const n=Vn(t),i=Vn(e);return null!==n?null!==i?n-i===0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1}},An=function(t,e){return t===e?0:t<e?-1:1},Ln=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qt(e))},Fn=function(t){if("object"!==typeof t||null===t)return Qt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)0!==i&&(n+=","),n+=Qt(e[i]),n+=":",n+=Fn(t[e[i]]);return n+="}",n},zn=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Bn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const jn=function(t){Pt(!Dn(t),"Invalid JSON number");const e=1023;let n,i,r,o,s;0===t?(i=0,r=0,n=1/t===-1/0?1:0):(n=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),e),i=o+e,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(i=0,r=Math.round(t/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let t=parseInt(l.substr(s,8),2).toString(16);1===t.length&&(t="0"+t),c+=t}return c.toLowerCase()};const Wn=new RegExp("^-?(0*)\\d{1,10}$"),Vn=function(t){if(Wn.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Hn=function(t){try{t()}catch(Xg){setTimeout((()=>{const e=Xg.stack||"";throw In("Exception was thrown by user callback.",e),Xg}),Math.floor(0))}},Un=function(t,e){const n=setTimeout(t,e);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class qn{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null===e||void 0===e?void 0:e.getImmediate({optional:!0}),this.appCheck||null===e||void 0===e||e.get().then((t=>this.appCheck=t))}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise(((e,n)=>{setTimeout((()=>{this.appCheck?this.getToken(t).then(e,n):e(null)}),0)}))}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((e=>e.addTokenListener(t)))}notifyForInvalidToken(){In('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class $n{constructor(t,e,n){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((t=>this.auth_=t))}getToken(t){return this.auth_?this.auth_.getToken(t).catch((t=>t&&"auth/token-not-initialized"===t.code?(En("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t))):new Promise(((e,n)=>{setTimeout((()=>{this.auth_?this.getToken(t).then(e,n):e(null)}),0)}))}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((e=>e.addAuthTokenListener(t)))}removeTokenChangeListener(t){this.authProvider_.get().then((e=>e.removeAuthTokenListener(t)))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',In(t)}}class Yn{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Yn.OWNER="owner";const Kn="5",Qn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Gn="ac",Xn="websocket",Zn="long_polling";class Jn{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=e,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yn.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&yn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(t).concat(this.host,"/").concat(e)}}function ti(t,e,n){let i;if(Pt("string"===typeof e,"typeof type must == string"),Pt("object"===typeof n,"typeof params must == object"),e===Xn)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==Zn)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const r=[];return Bn(n,((t,e)=>{r.push(t+"="+e)})),i+r.join("&")}class ei{constructor(){this.counters_={}}incrementCounter(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Xt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return At(this.counters_)}}const ni={},ii={};function ri(t){const e=t.toString();return ni[e]||(ni[e]=new ei),ni[e]}class oi{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const t=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let e=0;e<t.length;++e)t[e]&&Hn((()=>{this.onMessage_(t[e])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const si="start";class ai{constructor(t,e,n,i,r,o,s){this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pn(t),this.stats_=ri(e),this.urlFn=t=>(this.appCheckToken&&(t[Gn]=this.appCheckToken),ti(e,Zn,t))}open(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new oi(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Ut()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new li((function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const[r,o,s,a,l]=e;if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,r===si)n.id=o,n.password=s;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const[r,o]=e;n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(r,o)}),(()=>{this.onClosed_()}),this.urlFn);const t={};t[si]="t",t.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=this.scriptTagHolder.uniqueCallbackIdentifier),t.v=Kn,this.transportSessionId&&(t.s=this.transportSessionId),this.lastSessionId&&(t.ls=this.lastSessionId),this.applicationId&&(t.p=this.applicationId),this.appCheckToken&&(t[Gn]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Qn.test(location.hostname)&&(t.r="f");const e=this.urlFn(t);this.log_("Connecting via long-poll to "+e),this.scriptTagHolder.addTag(e,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ai.forceAllow_=!0}static forceDisallow(){ai.forceDisallow_=!0}static isAvailable(){return!Ut()&&(!!ai.forceAllow_||!ai.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=Qt(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=Rt(e),i=zn(n,1840);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if(Ut())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=Qt(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class li{constructor(t,e,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ut())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=bn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=li.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(Xg){En("frame writing exception"),Xg.stack&&En(Xg.stack),En(Xg)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||En("No IE domain setting required")}catch(Xg){const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),n="",i=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const t=this.pendingSegs.shift();n=n+"&seg"+i+"="+t.seg+"&ts"+i+"="+t.ts+"&d"+i+"="+t.d,i++}}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(t,(()=>{clearTimeout(i),n()}))}addTag(t,e){Ut()?this.doNodeLongPoll(t,e):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const t=n.readyState;t&&"loaded"!==t&&"complete"!==t||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{En("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(Xg){}}),Math.floor(1))}}let ci=null;"undefined"!==typeof MozWebSocket?ci=MozWebSocket:"undefined"!==typeof WebSocket&&(ci=WebSocket);class ui{constructor(t,e,n,i,r,o,s){this.connId=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pn(this.connId),this.stats_=ri(e),this.connURL=ui.connectionURL_(e,o,s,i,n),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,n,i,r){const o={};return o.v=Kn,!Ut()&&"undefined"!==typeof location&&location.hostname&&Qn.test(location.hostname)&&(o.r="f"),e&&(o.s=e),n&&(o.ls=n),i&&(o[Gn]=i),r&&(o.p=r),ti(t,Xn,o)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yn.set("previous_websocket_failure",!0);try{let t;if(Ut()){const e=this.nodeAdmin?"AdminNode":"Node";t={headers:{"User-Agent":"Firebase/".concat(Kn,"/").concat(dn,"/").concat(process.platform,"/").concat(e),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(t.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"secrets.REACT_APP_API_KEY"},i=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;i&&(t.proxy={origin:i})}this.mySock=new ci(this.connURL,[],t)}catch(Xg){this.log_("Error instantiating WebSocket.");const e=Xg.message||Xg.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=t=>{this.handleIncomingFrame(t)},this.mySock.onerror=t=>{this.log_("WebSocket error.  Closing connection.");const e=t.message||t.data;e&&this.log_(e),this.onClosed_()}}start(){}static forceDisallow(){ui.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(e);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==ci&&!ui.forceDisallow_}static previouslyFailed(){return yn.isInMemoryStorage||!0===yn.get("previous_websocket_failure")}markConnectionHealthy(){yn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const e=Kt(t);this.onMessage(e)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Pt(null===this.frames,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{const t=this.extractFrameCount_(e);null!==t&&this.appendFrame_(t)}}send(t){this.resetKeepAlive();const e=Qt(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=zn(e,16384);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(Xg){this.log_("Exception thrown from WebSocket.send():",Xg.message||Xg.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ui.responsesRequiredToBeHealthy=2,ui.healthyTimeout=3e4;class hi{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ai,ui]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const e=ui&&ui.isAvailable();let n=e&&!ui.previouslyFailed();if(t.webSocketOnly&&(e||In("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[ui];else{const t=this.transports_=[];for(const e of hi.ALL_TRANSPORTS)e&&e.isAvailable()&&t.push(e);hi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}hi.globalTransportInitialized_=!1;class di{constructor(t,e,n,i,r,o,s,a,l,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pn("c:"+this.id+":"),this.transportManager_=new hi(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(e,n)}),Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Un((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Ln("t",t),n=Ln("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Ln("t",t),n=Ln("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Ln("t",t);if("d"in t){const n=t.d;if("h"===e){const t=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(t.h=this.repoInfo_.host),this.onHandshake_(t)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let t=0;t<this.pendingDataMessages.length;++t)this.onDataMessage_(this.pendingDataMessages[t]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?Tn("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tn("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),Kn!==n&&In("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),Un((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Un((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class fi{put(t,e,n,i){}merge(t,e,n,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,n){}onDisconnectMerge(t,e,n){}onDisconnectCancel(t,e){}reportStats(t){}}class pi{constructor(t){this.allowedEvents_=t,this.listeners_={},Pt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(let t=0;t<r.length;t++)r[t].callback.apply(r[t].context,n)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});const i=this.getInitialEvent(t);i&&e.apply(n,i)}off(t,e,n){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(t){Pt(this.allowedEvents_.find((e=>e===t)),"Unknown event: "+t)}}class gi extends pi{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ht()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new gi}getInitialEvent(t){return Pt("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const mi=32,yi=768;class _i{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let e=0;for(let t=0;t<this.pieces_.length;t++)this.pieces_[t].length>0&&(this.pieces_[e]=this.pieces_[t],e++);this.pieces_.length=e,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function vi(){return new _i("")}function bi(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function xi(t){return t.pieces_.length-t.pieceNum_}function wi(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _i(t.pieces_,e)}function Ci(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ki(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.pieces_.slice(t.pieceNum_+e)}function Si(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _i(e,0)}function Ei(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof _i)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const t=e.split("/");for(let e=0;e<t.length;e++)t[e].length>0&&n.push(t[e])}return new _i(n,0)}function Pi(t){return t.pieceNum_>=t.pieces_.length}function Ti(t,e){const n=bi(t),i=bi(e);if(null===n)return e;if(n===i)return Ti(wi(t),wi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Mi(t,e){if(xi(t)!==xi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ii(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(xi(t)>xi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class Di{constructor(t,e){this.errorPrefix_=e,this.parts_=ki(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=oe(this.parts_[n]);Ri(this)}}function Ri(t){if(t.byteLength_>yi)throw new Error(t.errorPrefix_+"has a key path longer than "+yi+" bytes ("+t.byteLength_+").");if(t.parts_.length>mi)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+mi+") or object contains a cycle "+Ni(t))}function Ni(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class Oi extends pi{constructor(){let t,e;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(e="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(e="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,(()=>{const e=!document[t];e!==this.visible_&&(this.visible_=e,this.trigger("visible",e))}),!1)}static getInstance(){return new Oi}getInitialEvent(t){return Pt("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Ai=1e3;class Li extends fi{constructor(t,e,n,i,r,o,s,a){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Li.nextPersistentConnectionId_++,this.log_=Pn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ai,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Ut())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Oi.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&gi.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,n){const i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_(Qt(r)),Pt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(t){this.initConnection_();const e=new Wt,n={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:t=>{const n=t.d;"ok"===t.s?e.resolve(n):e.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),e.promise}listen(t,e,n,i){this.initConnection_();const r=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),Pt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Pt(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const s={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(o).set(r,s),this.connected_&&this.sendListen_(s)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,(n=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(n)}))}sendListen_(t){const e=t.query,n=e._path.toString(),i=e._queryIdentifier;this.log_("Listen on "+n+" for "+i);const r={p:n};t.tag&&(r.q=e._queryObject,r.t=t.tag),r.h=t.hashFn(),this.sendRequest("q",r,(r=>{const o=r.d,s=r.s;Li.warnOnListenWarnings_(o,e);(this.listens.get(n)&&this.listens.get(n).get(i))===t&&(this.log_("listen response",r),"ok"!==s&&this.removeListen_(n,i),t.onComplete&&t.onComplete(s,o))}))}static warnOnListenWarnings_(t,e){if(t&&"object"===typeof t&&Xt(t,"w")){const n=Zt(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const t='".indexOn": "'+e._queryParams.getIndex().toString()+'"',n=e._path.toString();In("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(t," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(t){const e=Gt(t).claims;return"object"===typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=function(t){const e=Gt(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")}(t)?"auth":"gauth",n={cred:t};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(e,n,(e=>{const n=e.s,i=e.d||"error";this.authToken_===t&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(t=>{const e=t.s,n=t.d||"error";"ok"===e?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,n)}))}unlisten(t,e){const n=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),Pt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t._queryObject,e)}sendUnlisten_(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);const r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})}onDisconnectMerge(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,n,i){const r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,(t=>{i&&setTimeout((()=>{i(t.s,t.d)}),Math.floor(0))}))}put(t,e,n,i){this.putInternal("p",t,e,n,i)}merge(t,e,n,i){this.putInternal("m",t,e,n,i)}putInternal(t,e,n,i,r){this.initConnection_();const o={p:e,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,n,(n=>{this.log_(e+" response",n),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)}))}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,(t=>{if("ok"!==t.s){const e=t.d;this.log_("reportStats","Error sending stats: "+e)}}))}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Qt(t));const e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):Tn("Unrecognized action received from server: "+Qt(t)+"\nAre you using the latest client?")}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Pt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ai,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ai,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ai),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Li.nextConnectionId_++,r=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(t){Pt(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(t)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?En("getToken() completed but was canceled"):(En("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new di(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,n,(t=>{In(t+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),r))}catch(Tn){this.log_("Failed to get token: "+Tn),o||(this.repoInfo_.nodeAdmin&&In(Tn),a())}}}interrupt(t){En("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){En("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Jt(this.interruptReasons_)&&(this.reconnectDelay_=Ai,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let n;n=e?e.map((t=>Fn(t))).join("$"):"default";const i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,e){const n=new _i(t).toString();let i;if(this.listens.has(n)){const t=this.listens.get(n);i=t.get(e),t.delete(e),0===t.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(t,e){En("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){En("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";Ut()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+dn.replace(/\./g,"-")]=1,Ht()?t["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=gi.getInstance().currentlyOnline();return Jt(this.interruptReasons_)&&t}}Li.nextPersistentConnectionId_=0,Li.nextConnectionId_=0;class Fi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Fi(t,e)}}class zi{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const n=new Fi(Rn,t),i=new Fi(Rn,e);return 0!==this.compare(n,i)}minPost(){return Fi.MIN}}let Bi;class ji extends zi{static get __EMPTY_NODE(){return Bi}static set __EMPTY_NODE(t){Bi=t}compare(t,e){return On(t.name,e.name)}isDefinedOn(t){throw Tt("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Fi.MIN}maxPost(){return new Fi(Nn,Bi)}makePost(t,e){return Pt("string"===typeof t,"KeyIndex indexValue must always be a string."),new Fi(t,Bi)}toString(){return".key"}}const Wi=new ji;class Vi{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(o=e?n(t.key,e):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Hi{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:Hi.RED,this.left=null!=i?i:Ui.EMPTY_NODE,this.right=null!=r?r:Ui.EMPTY_NODE}copy(t,e,n,i,r){return new Hi(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ui.EMPTY_NODE;let t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let n,i;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ui.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Hi.RED=!0,Hi.BLACK=!1;class Ui{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ui.EMPTY_NODE;this.comparator_=t,this.root_=e}insert(t,e){return new Ui(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Hi.BLACK,null,null))}remove(t){return new Ui(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Hi.BLACK,null,null))}get(t){let e,n=this.root_;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(t){let e,n=this.root_,i=null;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Vi(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Vi(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Vi(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Vi(this.root_,null,this.comparator_,!0,t)}}function qi(t,e){return On(t.name,e.name)}function $i(t,e){return On(t,e)}let Yi;Ui.EMPTY_NODE=new class{copy(t,e,n,i,r){return this}insert(t,e,n){return new Hi(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ki=function(t){return"number"===typeof t?"number:"+jn(t):"string:"+t},Qi=function(t){if(t.isLeafNode()){const e=t.val();Pt("string"===typeof e||"number"===typeof e||"object"===typeof e&&Xt(e,".sv"),"Priority must be a string or number.")}else Pt(t===Yi||t.isEmpty(),"priority of unexpected type.");Pt(t===Yi||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Gi,Xi,Zi;class Ji{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ji.__childrenNodeConstructor.EMPTY_NODE;this.value_=t,this.priorityNode_=e,this.lazyHash_=null,Pt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Qi(this.priorityNode_)}static set __childrenNodeConstructor(t){Gi=t}static get __childrenNodeConstructor(){return Gi}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ji(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:Ji.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Pi(t)?this:".priority"===bi(t)?this.priorityNode_:Ji.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:Ji.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const n=bi(t);return null===n?e:e.isEmpty()&&".priority"!==n?this:(Pt(".priority"!==n||1===xi(t),".priority must be the last token in a path"),this.updateImmediateChild(n,Ji.__childrenNodeConstructor.EMPTY_NODE.updateChild(wi(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ki(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",t+="number"===e?jn(this.value_):this.value_,this.lazyHash_=xn(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ji.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ji.__childrenNodeConstructor?-1:(Pt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,n=typeof this.value_,i=Ji.VALUE_TYPE_ORDER.indexOf(e),r=Ji.VALUE_TYPE_ORDER.indexOf(n);return Pt(i>=0,"Unknown leaf type: "+e),Pt(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1}}Ji.VALUE_TYPE_ORDER=["object","boolean","number","string"];const tr=new class extends zi{compare(t,e){const n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?On(t.name,e.name):r}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Fi.MIN}maxPost(){return new Fi(Nn,new Ji("[PRIORITY-POST]",Zi))}makePost(t,e){const n=Xi(t);return new Fi(e,new Ji("[PRIORITY-POST]",n))}toString(){return".priority"}},er=Math.log(2);class nr{constructor(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/er,10)),this.current_=this.count-1;const n=(i=this.count,parseInt(Array(i+1).join("1"),2));var i;this.bits_=t+1&n}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ir=function(t,e,n,i){t.sort(e);const r=function(e,i){const o=i-e;let s,a;if(0===o)return null;if(1===o)return s=t[e],a=n?n(s):s,new Hi(a,s.node,Hi.BLACK,null,null);{const l=parseInt(o/2,10)+e,c=r(e,l),u=r(l+1,i);return s=t[l],a=n?n(s):s,new Hi(a,s.node,Hi.BLACK,c,u)}},o=function(e){let i=null,o=null,s=t.length;const a=function(e,i){const o=s-e,a=s;s-=e;const c=r(o+1,a),u=t[o],h=n?n(u):u;l(new Hi(h,u.node,i,null,c))},l=function(t){i?(i.left=t,i=t):(o=t,i=t)};for(let t=0;t<e.count;++t){const n=e.nextBitIsOne(),i=Math.pow(2,e.count-(t+1));n?a(i,Hi.BLACK):(a(i,Hi.BLACK),a(i,Hi.RED))}return o}(new nr(t.length));return new Ui(i||e,o)};let rr;const or={};class sr{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return Pt(or&&tr,"ChildrenNode.ts has not been loaded"),rr=rr||new sr({".priority":or},{".priority":tr}),rr}get(t){const e=Zt(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ui?e:null}hasIndex(t){return Xt(this.indexSet_,t.toString())}addIndex(t,e){Pt(t!==Wi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=e.getIterator(Fi.Wrap);let o,s=r.getNext();for(;s;)i=i||t.isDefinedOn(s.node),n.push(s),s=r.getNext();o=i?ir(n,t.getCompare()):or;const a=t.toString(),l=Object.assign({},this.indexSet_);l[a]=t;const c=Object.assign({},this.indexes_);return c[a]=o,new sr(c,l)}addToIndexes(t,e){const n=te(this.indexes_,((n,i)=>{const r=Zt(this.indexSet_,i);if(Pt(r,"Missing index implementation for "+i),n===or){if(r.isDefinedOn(t.node)){const n=[],i=e.getIterator(Fi.Wrap);let o=i.getNext();for(;o;)o.name!==t.name&&n.push(o),o=i.getNext();return n.push(t),ir(n,r.getCompare())}return or}{const i=e.get(t.name);let r=n;return i&&(r=r.remove(new Fi(t.name,i))),r.insert(t,t.node)}}));return new sr(n,this.indexSet_)}removeFromIndexes(t,e){const n=te(this.indexes_,(n=>{if(n===or)return n;{const i=e.get(t.name);return i?n.remove(new Fi(t.name,i)):n}}));return new sr(n,this.indexSet_)}}let ar;class lr{constructor(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Qi(this.priorityNode_),this.children_.isEmpty()&&Pt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ar||(ar=new lr(new Ui($i),null,sr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ar}updatePriority(t){return this.children_.isEmpty()?this:new lr(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const e=this.children_.get(t);return null===e?ar:e}}getChild(t){const e=bi(t);return null===e?this:this.getImmediateChild(e).getChild(wi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,e){if(Pt(e,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(e);{const n=new Fi(t,e);let i,r;e.isEmpty()?(i=this.children_.remove(t),r=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(t,e),r=this.indexMap_.addToIndexes(n,this.children_));const o=i.isEmpty()?ar:this.priorityNode_;return new lr(i,o,r)}}updateChild(t,e){const n=bi(t);if(null===n)return e;{Pt(".priority"!==bi(t)||1===xi(t),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(wi(t),e);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let n=0,i=0,r=!0;if(this.forEachChild(tr,((o,s)=>{e[o]=s.val(t),n++,r&&lr.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1})),!t&&r&&i<2*n){const t=[];for(const n in e)t[n]=e[n];return t}return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Ki(this.getPriority().val())+":"),this.forEachChild(tr,((e,n)=>{const i=n.hash();""!==i&&(t+=":"+e+":"+i)})),this.lazyHash_=""===t?"":xn(t)}return this.lazyHash_}getPredecessorChildName(t,e,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new Fi(t,e));return n?n.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.minKey();return t&&t.name}return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new Fi(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.maxKey();return t&&t.name}return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new Fi(e,this.children_.get(e)):null}forEachChild(t,e){const n=this.resolveIndex_(t);return n?n.inorderTraversal((t=>e(t.name,t.node))):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(t=>t));{const n=this.children_.getIteratorFrom(t.name,Fi.Wrap);let i=n.peek();for(;null!=i&&e.compare(i,t)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(t=>t));{const n=this.children_.getReverseIteratorFrom(t.name,Fi.Wrap);let i=n.peek();for(;null!=i&&e.compare(i,t)>0;)n.getNext(),i=n.peek();return n}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===cr?-1:0}withIndex(t){if(t===Wi||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new lr(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===Wi||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){const t=this.getIterator(tr),n=e.getIterator(tr);let i=t.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=t.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(t){return t===Wi?null:this.indexMap_.get(t.toString())}}lr.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const cr=new class extends lr{constructor(){super(new Ui($i),lr.EMPTY_NODE,sr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return lr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Fi,{MIN:{value:new Fi(Rn,lr.EMPTY_NODE)},MAX:{value:new Fi(Nn,cr)}}),ji.__EMPTY_NODE=lr.EMPTY_NODE,Ji.__childrenNodeConstructor=lr,Yi=cr,function(t){Zi=t}(cr);const ur=!0;function hr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t)return lr.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),Pt(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t){return new Ji(t,hr(e))}if(t instanceof Array||!ur){let n=lr.EMPTY_NODE;return Bn(t,((e,i)=>{if(Xt(t,e)&&"."!==e.substring(0,1)){const t=hr(i);!t.isLeafNode()&&t.isEmpty()||(n=n.updateImmediateChild(e,t))}})),n.updatePriority(hr(e))}{const n=[];let i=!1;if(Bn(t,((t,e)=>{if("."!==t.substring(0,1)){const r=hr(e);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new Fi(t,r)))}})),0===n.length)return lr.EMPTY_NODE;const r=ir(n,qi,(t=>t.name),$i);if(i){const t=ir(n,tr.getCompare());return new lr(r,hr(e),new sr({".priority":t},{".priority":tr}))}return new lr(r,hr(e),sr.Default)}}!function(t){Xi=t}(hr);class dr extends zi{constructor(t){super(),this.indexPath_=t,Pt(!Pi(t)&&".priority"!==bi(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?On(t.name,e.name):r}makePost(t,e){const n=hr(t),i=lr.EMPTY_NODE.updateChild(this.indexPath_,n);return new Fi(e,i)}maxPost(){const t=lr.EMPTY_NODE.updateChild(this.indexPath_,cr);return new Fi(Nn,t)}toString(){return ki(this.indexPath_,0).join("/")}}const fr=new class extends zi{compare(t,e){const n=t.node.compareTo(e.node);return 0===n?On(t.name,e.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Fi.MIN}maxPost(){return Fi.MAX}makePost(t,e){const n=hr(t);return new Fi(e,n)}toString(){return".value"}};function pr(t){return{type:"value",snapshotNode:t}}function gr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function mr(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function yr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class _r{constructor(t){this.index_=t}updateChild(t,e,n,i,r,o){Pt(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=t.getImmediateChild(e);return s.getChild(i).equals(n.getChild(i))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(mr(e,s)):Pt(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(gr(e,n)):o.trackChildChange(yr(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))}updateFullNode(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(tr,((t,i)=>{e.hasChild(t)||n.trackChildChange(mr(t,i))})),e.isLeafNode()||e.forEachChild(tr,((e,i)=>{if(t.hasChild(e)){const r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(yr(e,i,r))}else n.trackChildChange(gr(e,i))}))),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?lr.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class vr{constructor(t){this.indexedFilter_=new _r(t.getIndex()),this.index_=t.getIndex(),this.startPost_=vr.getStartPost_(t),this.endPost_=vr.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&n}updateChild(t,e,n,i,r,o){return this.matches(new Fi(e,n))||(n=lr.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,o)}updateFullNode(t,e,n){e.isLeafNode()&&(e=lr.EMPTY_NODE);let i=e.withIndex(this.index_);i=i.updatePriority(lr.EMPTY_NODE);const r=this;return e.forEachChild(tr,((t,e)=>{r.matches(new Fi(t,e))||(i=i.updateImmediateChild(t,lr.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,i,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class br{constructor(t){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const e=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?e<=0:e<0},this.withinEndPost=t=>{const e=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?e<=0:e<0},this.rangedFilter_=new vr(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,n,i,r,o){return this.rangedFilter_.matches(new Fi(e,n))||(n=lr.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,o):this.fullLimitUpdateChild_(t,e,n,r,o)}updateFullNode(t,e,n){let i;if(e.isLeafNode()||e.isEmpty())i=lr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let t;i=lr.EMPTY_NODE.withIndex(this.index_),t=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;t.hasNext()&&n<this.limit_;){const e=t.getNext();if(this.withinDirectionalStart(e)){if(!this.withinDirectionalEnd(e))break;i=i.updateImmediateChild(e.name,e.node),n++}}}else{let t;i=e.withIndex(this.index_),i=i.updatePriority(lr.EMPTY_NODE),t=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;t.hasNext();){const e=t.getNext();n<this.limit_&&this.withinDirectionalStart(e)&&this.withinDirectionalEnd(e)?n++:i=i.updateImmediateChild(e.name,lr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,n,i,r){let o;if(this.reverse_){const t=this.index_.getCompare();o=(e,n)=>t(n,e)}else o=this.index_.getCompare();const s=t;Pt(s.numChildren()===this.limit_,"");const a=new Fi(e,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(e)){const t=s.getImmediateChild(e);let u=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===e||s.hasChild(u.name));)u=i.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:o(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=r&&r.trackChildChange(yr(e,n,t)),s.updateImmediateChild(e,n);{null!=r&&r.trackChildChange(mr(e,t));const n=s.updateImmediateChild(e,lr.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=r&&r.trackChildChange(gr(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?t:c&&o(l,a)>=0?(null!=r&&(r.trackChildChange(mr(l.name,l.node)),r.trackChildChange(gr(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(l.name,lr.EMPTY_NODE)):t}}class xr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Pt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Pt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rn}hasEnd(){return this.endSet_}getIndexEndValue(){return Pt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Pt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Nn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Pt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tr}copy(){const t=new xr;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function wr(t){const e={};if(t.isDefault())return e;let n;if(t.index_===tr?n="$priority":t.index_===fr?n="$value":t.index_===Wi?n="$key":(Pt(t.index_ instanceof dr,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qt(n),t.startSet_){const n=t.startAfterSet_?"startAfter":"startAt";e[n]=Qt(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+Qt(t.indexStartName_))}if(t.endSet_){const n=t.endBeforeSet_?"endBefore":"endAt";e[n]=Qt(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+Qt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Cr(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==tr&&(e.i=t.index_.toString()),e}class kr extends fi{constructor(t,e,n,i){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=Pn("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:(Pt(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,n,i){const r=t._path.toString();this.log_("Listen called for "+r+" "+t._queryIdentifier);const o=kr.getListenId_(t,n),s={};this.listens_[o]=s;const a=wr(t._queryParams);this.restRequest_(r+".json",a,((t,e)=>{let a=e;if(404===t&&(a=null,t=null),null===t&&this.onDataUpdate_(r,a,!1,n),Zt(this.listens_,o)===s){let e;e=t?401===t?"permission_denied":"rest_error:"+t:"ok",i(e,null)}}))}unlisten(t,e){const n=kr.getListenId_(t,e);delete this.listens_[n]}get(t){const e=wr(t._queryParams),n=t._path.toString(),i=new Wt;return this.restRequest_(n+".json",e,((t,e)=>{let r=e;404===t&&(r=null,t=null),null===t?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))})),i.promise}refreshAuthToken(t){}restRequest_(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((i=>{let[r,o]=i;r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+function(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}(e);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=Kt(a.responseText)}catch(Xg){In("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&In("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class Sr{constructor(){this.rootNode_=lr.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Er(){return{value:null,children:new Map}}function Pr(t,e,n){if(Pi(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const i=bi(e);t.children.has(i)||t.children.set(i,Er());Pr(t.children.get(i),e=wi(e),n)}}function Tr(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(((t,n)=>{e(n,t)}))}(t,((t,i)=>{Tr(i,new _i(e.toString()+"/"+t),n)}))}class Mr{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Bn(this.last_,((t,n)=>{e[t]=e[t]-n})),this.last_=t,e}}class Ir{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Mr(t);const n=1e4+2e4*Math.random();Un(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),e={};let n=!1;Bn(t,((t,i)=>{i>0&&Xt(this.statsToReport_,t)&&(e[t]=i,n=!0)})),n&&this.server_.reportStats(e),Un(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Dr;function Rr(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Dr||(Dr={}));class Nr{constructor(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Dr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Pi(this.path)){if(null!=this.affectedTree.value)return Pt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new _i(t));return new Nr(vi(),e,this.revert)}}return Pt(bi(this.path)===t,"operationForChild called for unrelated child."),new Nr(wi(this.path),this.affectedTree,this.revert)}}class Or{constructor(t,e){this.source=t,this.path=e,this.type=Dr.LISTEN_COMPLETE}operationForChild(t){return Pi(this.path)?new Or(this.source,vi()):new Or(this.source,wi(this.path))}}class Ar{constructor(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Dr.OVERWRITE}operationForChild(t){return Pi(this.path)?new Ar(this.source,vi(),this.snap.getImmediateChild(t)):new Ar(this.source,wi(this.path),this.snap)}}class Lr{constructor(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Dr.MERGE}operationForChild(t){if(Pi(this.path)){const e=this.children.subtree(new _i(t));return e.isEmpty()?null:e.value?new Ar(this.source,vi(),e.value):new Lr(this.source,vi(),e)}return Pt(bi(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Lr(this.source,wi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Fr{constructor(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Pi(t))return this.isFullyInitialized()&&!this.filtered_;const e=bi(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class zr{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Br(t,e,n,i,r,o){const s=i.filter((t=>t.type===n));s.sort(((e,n)=>function(t,e,n){if(null==e.childName||null==n.childName)throw Tt("Should only compare child_ events.");const i=new Fi(e.childName,e.snapshotNode),r=new Fi(n.childName,n.snapshotNode);return t.index_.compare(i,r)}(t,e,n))),s.forEach((n=>{const i=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,o);r.forEach((r=>{r.respondsTo(n.type)&&e.push(r.createEvent(i,t.query_))}))}))}function jr(t,e){return{eventCache:t,serverCache:e}}function Wr(t,e,n,i){return jr(new Fr(e,n,i),t.serverCache)}function Vr(t,e,n,i){return jr(t.eventCache,new Fr(e,n,i))}function Hr(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ur(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let qr;class $r{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(qr||(qr=new Ui(An)),qr);this.value=t,this.children=e}static fromObject(t){let e=new $r(null);return Bn(t,((t,n)=>{e=e.set(new _i(t),n)})),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:vi(),value:this.value};if(Pi(t))return null;{const n=bi(t),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(wi(t),e);if(null!=r){return{path:Ei(new _i(n),r.path),value:r.value}}return null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,(()=>!0))}subtree(t){if(Pi(t))return this;{const e=bi(t),n=this.children.get(e);return null!==n?n.subtree(wi(t)):new $r(null)}}set(t,e){if(Pi(t))return new $r(e,this.children);{const n=bi(t),i=(this.children.get(n)||new $r(null)).set(wi(t),e),r=this.children.insert(n,i);return new $r(this.value,r)}}remove(t){if(Pi(t))return this.children.isEmpty()?new $r(null):new $r(null,this.children);{const e=bi(t),n=this.children.get(e);if(n){const i=n.remove(wi(t));let r;return r=i.isEmpty()?this.children.remove(e):this.children.insert(e,i),null===this.value&&r.isEmpty()?new $r(null):new $r(this.value,r)}return this}}get(t){if(Pi(t))return this.value;{const e=bi(t),n=this.children.get(e);return n?n.get(wi(t)):null}}setTree(t,e){if(Pi(t))return e;{const n=bi(t),i=(this.children.get(n)||new $r(null)).setTree(wi(t),e);let r;return r=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new $r(this.value,r)}}fold(t){return this.fold_(vi(),t)}fold_(t,e){const n={};return this.children.inorderTraversal(((i,r)=>{n[i]=r.fold_(Ei(t,i),e)})),e(t,this.value,n)}findOnPath(t,e){return this.findOnPath_(t,vi(),e)}findOnPath_(t,e,n){const i=!!this.value&&n(e,this.value);if(i)return i;if(Pi(t))return null;{const i=bi(t),r=this.children.get(i);return r?r.findOnPath_(wi(t),Ei(e,i),n):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,vi(),e)}foreachOnPath_(t,e,n){if(Pi(t))return this;{this.value&&n(e,this.value);const i=bi(t),r=this.children.get(i);return r?r.foreachOnPath_(wi(t),Ei(e,i),n):new $r(null)}}foreach(t){this.foreach_(vi(),t)}foreach_(t,e){this.children.inorderTraversal(((n,i)=>{i.foreach_(Ei(t,n),e)})),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal(((e,n)=>{n.value&&t(e,n.value)}))}}class Yr{constructor(t){this.writeTree_=t}static empty(){return new Yr(new $r(null))}}function Kr(t,e,n){if(Pi(e))return new Yr(new $r(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const s=Ti(r,e);return o=o.updateChild(s,n),new Yr(t.writeTree_.set(r,o))}{const i=new $r(n),r=t.writeTree_.setTree(e,i);return new Yr(r)}}}function Qr(t,e,n){let i=t;return Bn(n,((t,n)=>{i=Kr(i,Ei(e,t),n)})),i}function Gr(t,e){if(Pi(e))return Yr.empty();{const n=t.writeTree_.setTree(e,new $r(null));return new Yr(n)}}function Xr(t,e){return null!=Zr(t,e)}function Zr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Ti(n.path,e)):null}function Jr(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(tr,((t,n)=>{e.push(new Fi(t,n))})):t.writeTree_.children.inorderTraversal(((t,n)=>{null!=n.value&&e.push(new Fi(t,n.value))})),e}function to(t,e){if(Pi(e))return t;{const n=Zr(t,e);return new Yr(null!=n?new $r(n):t.writeTree_.subtree(e))}}function eo(t){return t.writeTree_.isEmpty()}function no(t,e){return io(vi(),t.writeTree_,e)}function io(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal(((e,r)=>{".priority"===e?(Pt(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=io(Ei(t,e),r,n)})),n.getChild(t).isEmpty()||null===i||(n=n.updateChild(Ei(t,".priority"),i)),n}}function ro(t,e){return _o(e,t)}function oo(t,e){const n=t.allWrites.findIndex((t=>t.writeId===e));Pt(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,s=t.allWrites.length-1;for(;r&&s>=0;){const e=t.allWrites[s];e.visible&&(s>=n&&so(e,i.path)?r=!1:Ii(i.path,e.path)&&(o=!0)),s--}if(r){if(o)return function(t){t.visibleWrites=lo(t.allWrites,ao,vi()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}(t),!0;if(i.snap)t.visibleWrites=Gr(t.visibleWrites,i.path);else{Bn(i.children,(e=>{t.visibleWrites=Gr(t.visibleWrites,Ei(i.path,e))}))}return!0}return!1}function so(t,e){if(t.snap)return Ii(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ii(Ei(t.path,n),e))return!0;return!1}function ao(t){return t.visible}function lo(t,e,n){let i=Yr.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const t=o.path;let e;if(o.snap)Ii(n,t)?(e=Ti(n,t),i=Kr(i,e,o.snap)):Ii(t,n)&&(e=Ti(t,n),i=Kr(i,vi(),o.snap.getChild(e)));else{if(!o.children)throw Tt("WriteRecord should have .snap or .children");if(Ii(n,t))e=Ti(n,t),i=Qr(i,e,o.children);else if(Ii(t,n))if(e=Ti(t,n),Pi(e))i=Qr(i,vi(),o.children);else{const t=Zt(o.children,bi(e));if(t){const n=t.getChild(wi(e));i=Kr(i,vi(),n)}}}}}return i}function co(t,e,n,i,r){if(i||r){const o=to(t.visibleWrites,e);if(!r&&eo(o))return n;if(r||null!=n||Xr(o,vi())){const o=function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(Ii(t.path,e)||Ii(e,t.path))};return no(lo(t.allWrites,o,e),n||lr.EMPTY_NODE)}return null}{const i=Zr(t.visibleWrites,e);if(null!=i)return i;{const i=to(t.visibleWrites,e);if(eo(i))return n;if(null!=n||Xr(i,vi())){return no(i,n||lr.EMPTY_NODE)}return null}}}function uo(t,e,n,i){return co(t.writeTree,t.treePath,e,n,i)}function ho(t,e){return function(t,e,n){let i=lr.EMPTY_NODE;const r=Zr(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(tr,((t,e)=>{i=i.updateImmediateChild(t,e)})),i;if(n){const r=to(t.visibleWrites,e);return n.forEachChild(tr,((t,e)=>{const n=no(to(r,new _i(t)),e);i=i.updateImmediateChild(t,n)})),Jr(r).forEach((t=>{i=i.updateImmediateChild(t.name,t.node)})),i}return Jr(to(t.visibleWrites,e)).forEach((t=>{i=i.updateImmediateChild(t.name,t.node)})),i}(t.writeTree,t.treePath,e)}function fo(t,e,n,i){return function(t,e,n,i,r){Pt(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ei(e,n);if(Xr(t.visibleWrites,o))return null;{const e=to(t.visibleWrites,o);return eo(e)?r.getChild(n):no(e,r.getChild(n))}}(t.writeTree,t.treePath,e,n,i)}function po(t,e){return function(t,e){return Zr(t.visibleWrites,e)}(t.writeTree,Ei(t.treePath,e))}function go(t,e,n,i,r,o){return function(t,e,n,i,r,o,s){let a;const l=to(t.visibleWrites,e),c=Zr(l,vi());if(null!=c)a=c;else{if(null==n)return[];a=no(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const t=[],e=s.getCompare(),n=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let l=n.getNext();for(;l&&t.length<r;)0!==e(l,i)&&t.push(l),l=n.getNext();return t}}(t.writeTree,t.treePath,e,n,i,r,o)}function mo(t,e,n){return function(t,e,n,i){const r=Ei(e,n),o=Zr(t.visibleWrites,r);if(null!=o)return o;if(i.isCompleteForChild(n))return no(to(t.visibleWrites,r),i.getNode().getImmediateChild(n));return null}(t.writeTree,t.treePath,e,n)}function yo(t,e){return _o(Ei(t.treePath,e),t.writeTree)}function _o(t,e){return{treePath:t,writeTree:e}}class vo{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,n=t.childName;Pt("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Pt(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===e&&"child_removed"===r)this.changeMap.set(n,yr(n,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===r)this.changeMap.set(n,mr(n,i.oldSnap));else if("child_changed"===e&&"child_added"===r)this.changeMap.set(n,gr(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==r)throw Tt("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,yr(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}const bo=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,n){return null}};class xo{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const e=null!=this.optCompleteServerCache_?new Fr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mo(this.writes_,t,e)}}getChildAfterChild(t,e,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ur(this.viewCache_),r=go(this.writes_,i,e,1,n,t);return 0===r.length?null:r[0]}}function wo(t,e,n,i,r){const o=new vo;let s,a;if(n.type===Dr.OVERWRITE){const l=n;l.source.fromUser?s=So(t,e,l.path,l.snap,i,r,o):(Pt(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!Pi(l.path),s=ko(t,e,l.path,l.snap,i,r,a,o))}else if(n.type===Dr.MERGE){const l=n;l.source.fromUser?s=function(t,e,n,i,r,o,s){let a=e;return i.foreach(((i,l)=>{const c=Ei(n,i);Eo(e,bi(c))&&(a=So(t,a,c,l,r,o,s))})),i.foreach(((i,l)=>{const c=Ei(n,i);Eo(e,bi(c))||(a=So(t,a,c,l,r,o,s))})),a}(t,e,l.path,l.children,i,r,o):(Pt(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=To(t,e,l.path,l.children,i,r,a,o))}else if(n.type===Dr.ACK_USER_WRITE){const a=n;s=a.revert?function(t,e,n,i,r,o){let s;if(null!=po(i,n))return e;{const a=new xo(i,e,r),l=e.eventCache.getNode();let c;if(Pi(n)||".priority"===bi(n)){let n;if(e.serverCache.isFullyInitialized())n=uo(i,Ur(e));else{const t=e.serverCache.getNode();Pt(t instanceof lr,"serverChildren would be complete if leaf node"),n=ho(i,t)}c=t.filter.updateFullNode(l,n,o)}else{const r=bi(n);let u=mo(i,r,e.serverCache);null==u&&e.serverCache.isCompleteForChild(r)&&(u=l.getImmediateChild(r)),c=null!=u?t.filter.updateChild(l,r,u,wi(n),a,o):e.eventCache.getNode().hasChild(r)?t.filter.updateChild(l,r,lr.EMPTY_NODE,wi(n),a,o):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=uo(i,Ur(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=po(i,vi()),Wr(e,c,s,t.filter.filtersNodes())}}(t,e,a.path,i,r,o):function(t,e,n,i,r,o,s){if(null!=po(r,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=i.value){if(Pi(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ko(t,e,n,l.getNode().getChild(n),r,o,a,s);if(Pi(n)){let i=new $r(null);return l.getNode().forEachChild(Wi,((t,e)=>{i=i.set(new _i(t),e)})),To(t,e,n,i,r,o,a,s)}return e}{let c=new $r(null);return i.foreach(((t,e)=>{const i=Ei(n,t);l.isCompleteForPath(i)&&(c=c.set(t,l.getNode().getChild(i)))})),To(t,e,n,c,r,o,a,s)}}(t,e,a.path,a.affectedTree,i,r,o)}else{if(n.type!==Dr.LISTEN_COMPLETE)throw Tt("Unknown operation type: "+n.type);s=function(t,e,n,i,r){const o=e.serverCache,s=Vr(e,o.getNode(),o.isFullyInitialized()||Pi(n),o.isFiltered());return Co(t,s,n,i,bo,r)}(t,e,n.path,i,o)}const l=o.getChanges();return function(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Hr(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(pr(Hr(e)))}}(e,s,l),{viewCache:s,changes:l}}function Co(t,e,n,i,r,o){const s=e.eventCache;if(null!=po(i,n))return e;{let a,l;if(Pi(n))if(Pt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const n=Ur(e),r=ho(i,n instanceof lr?n:lr.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),r,o)}else{const n=uo(i,Ur(e));a=t.filter.updateFullNode(e.eventCache.getNode(),n,o)}else{const c=bi(n);if(".priority"===c){Pt(1===xi(n),"Can't have a priority with additional path components");const r=s.getNode();l=e.serverCache.getNode();const o=fo(i,n,r,l);a=null!=o?t.filter.updatePriority(r,o):s.getNode()}else{const u=wi(n);let h;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const t=fo(i,n,s.getNode(),l);h=null!=t?s.getNode().getImmediateChild(c).updateChild(u,t):s.getNode().getImmediateChild(c)}else h=mo(i,c,e.serverCache);a=null!=h?t.filter.updateChild(s.getNode(),c,h,u,r,o):s.getNode()}}return Wr(e,a,s.isFullyInitialized()||Pi(n),t.filter.filtersNodes())}}function ko(t,e,n,i,r,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(Pi(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const t=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),t,null)}else{const t=bi(n);if(!l.isCompleteForPath(n)&&xi(n)>1)return e;const r=wi(n),o=l.getNode().getImmediateChild(t).updateChild(r,i);c=".priority"===t?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),t,o,r,bo,null)}const h=Vr(e,c,l.isFullyInitialized()||Pi(n),u.filtersNodes());return Co(t,h,n,r,new xo(r,h,o),a)}function So(t,e,n,i,r,o,s){const a=e.eventCache;let l,c;const u=new xo(r,e,o);if(Pi(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,s),l=Wr(e,c,!0,t.filter.filtersNodes());else{const r=bi(n);if(".priority"===r)c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Wr(e,c,a.isFullyInitialized(),a.isFiltered());else{const o=wi(n),c=a.getNode().getImmediateChild(r);let h;if(Pi(o))h=i;else{const t=u.getCompleteChild(r);h=null!=t?".priority"===Ci(o)&&t.getChild(Si(o)).isEmpty()?t:t.updateChild(o,i):lr.EMPTY_NODE}if(c.equals(h))l=e;else{l=Wr(e,t.filter.updateChild(a.getNode(),r,h,o,u,s),a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Eo(t,e){return t.eventCache.isCompleteForChild(e)}function Po(t,e,n){return n.foreach(((t,n)=>{e=e.updateChild(t,n)})),e}function To(t,e,n,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=Pi(n)?i:new $r(null).setTree(n,i);const u=e.serverCache.getNode();return l.children.inorderTraversal(((n,i)=>{if(u.hasChild(n)){const l=Po(0,e.serverCache.getNode().getImmediateChild(n),i);c=ko(t,c,new _i(n),l,r,o,s,a)}})),l.children.inorderTraversal(((n,i)=>{const l=!e.serverCache.isCompleteForChild(n)&&null===i.value;if(!u.hasChild(n)&&!l){const l=Po(0,e.serverCache.getNode().getImmediateChild(n),i);c=ko(t,c,new _i(n),l,r,o,s,a)}})),c}class Mo{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new _r(n.getIndex()),r=(o=n).loadsAllData()?new _r(o.getIndex()):o.hasLimit()?new br(o):new vr(o);var o;this.processor_=function(t){return{filter:t}}(r);const s=e.serverCache,a=e.eventCache,l=i.updateFullNode(lr.EMPTY_NODE,s.getNode(),null),c=r.updateFullNode(lr.EMPTY_NODE,a.getNode(),null),u=new Fr(l,s.isFullyInitialized(),i.filtersNodes()),h=new Fr(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=jr(h,u),this.eventGenerator_=new zr(this.query_)}get query(){return this.query_}}function Io(t,e){const n=Ur(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Pi(e)&&!n.getImmediateChild(bi(e)).isEmpty())?n.getChild(e):null}function Do(t){return 0===t.eventRegistrations_.length}function Ro(t,e,n){const i=[];if(n){Pt(null==e,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach((t=>{const e=t.createCancelEvent(n,r);e&&i.push(e)}))}if(e){let n=[];for(let i=0;i<t.eventRegistrations_.length;++i){const r=t.eventRegistrations_[i];if(r.matches(e)){if(e.hasAnyCallback()){n=n.concat(t.eventRegistrations_.slice(i+1));break}}else n.push(r)}t.eventRegistrations_=n}else t.eventRegistrations_=[];return i}function No(t,e,n,i){e.type===Dr.MERGE&&null!==e.source.queryId&&(Pt(Ur(t.viewCache_),"We should always have a full cache before handling merges"),Pt(Hr(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=wo(t.processor_,r,e,n,i);var s,a;return s=t.processor_,a=o.viewCache,Pt(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Pt(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),Pt(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Oo(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Oo(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return function(t,e,n,i){const r=[],o=[];return e.forEach((e=>{var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))})),Br(t,r,"child_removed",e,i,n),Br(t,r,"child_added",e,i,n),Br(t,r,"child_moved",o,i,n),Br(t,r,"child_changed",e,i,n),Br(t,r,"value",e,i,n),r}(t.eventGenerator_,e,n,r)}let Ao,Lo;class Fo{constructor(){this.views=new Map}}function zo(t,e,n,i){const r=e.source.queryId;if(null!==r){const o=t.views.get(r);return Pt(null!=o,"SyncTree gave us an op for an invalid query."),No(o,e,n,i)}{let r=[];for(const o of t.views.values())r=r.concat(No(o,e,n,i));return r}}function Bo(t,e,n,i,r){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let t=uo(n,r?i:null),o=!1;t?o=!0:i instanceof lr?(t=ho(n,i),o=!1):(t=lr.EMPTY_NODE,o=!1);const s=jr(new Fr(t,o,!1),new Fr(i,r,!1));return new Mo(e,s)}return s}function jo(t,e,n,i,r,o){const s=Bo(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){const n=t.viewCache_.eventCache,i=[];n.getNode().isLeafNode()||n.getNode().forEachChild(tr,((t,e)=>{i.push(gr(t,e))}));return n.isFullyInitialized()&&i.push(pr(n.getNode())),Oo(t,i,n.getNode(),e)}(s,n)}function Wo(t,e,n,i){const r=e._queryIdentifier,o=[];let s=[];const a=$o(t);if("default"===r)for(const[l,c]of t.views.entries())s=s.concat(Ro(c,n,i)),Do(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const e=t.views.get(r);e&&(s=s.concat(Ro(e,n,i)),Do(e)&&(t.views.delete(r),e.query._queryParams.loadsAllData()||o.push(e.query)))}return a&&!$o(t)&&o.push(new(Pt(Ao,"Reference.ts has not been loaded"),Ao)(e._repo,e._path)),{removed:o,events:s}}function Vo(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ho(t,e){let n=null;for(const i of t.views.values())n=n||Io(i,e);return n}function Uo(t,e){if(e._queryParams.loadsAllData())return Yo(t);{const n=e._queryIdentifier;return t.views.get(n)}}function qo(t,e){return null!=Uo(t,e)}function $o(t){return null!=Yo(t)}function Yo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Ko=1;class Qo{constructor(t){this.listenProvider_=t,this.syncPointTree_=new $r(null),this.pendingWriteTree_={visibleWrites:Yr.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Go(t,e,n,i,r){return function(t,e,n,i,r){Pt(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Kr(t.visibleWrites,e,n)),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i,r),r?rs(t,new Ar({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Xo(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=function(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}(t.pendingWriteTree_,e);if(oo(t.pendingWriteTree_,e)){let e=new $r(null);return null!=i.snap?e=e.set(vi(),!0):Bn(i.children,(t=>{e=e.set(new _i(t),!0)})),rs(t,new Nr(i.path,e,n))}return[]}function Zo(t,e,n){return rs(t,new Ar({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Jo(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||qo(s,e))){const l=Wo(s,e,n,i);0===s.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!r){const n=-1!==c.findIndex((t=>t._queryParams.loadsAllData())),r=t.syncPointTree_.findOnPath(o,((t,e)=>$o(e)));if(n&&!r){const e=t.syncPointTree_.subtree(o);if(!e.isEmpty()){const n=function(t){return t.fold(((t,e,n)=>{if(e&&$o(e)){return[Yo(e)]}{let t=[];return e&&(t=Vo(e)),Bn(n,((e,n)=>{t=t.concat(n)})),t}}))}(e);for(let e=0;e<n.length;++e){const i=n[e],r=i.query,o=as(t,i);t.listenProvider_.startListening(fs(r),ls(t,r),o.hashFn,o.onComplete)}}}if(!r&&c.length>0&&!i)if(n){const n=null;t.listenProvider_.stopListening(fs(e),n)}else c.forEach((e=>{const n=t.queryToTagMap.get(cs(e));t.listenProvider_.stopListening(fs(e),n)}))}!function(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const e=cs(i),n=t.queryToTagMap.get(e);t.queryToTagMap.delete(e),t.tagToQueryMap.delete(n)}}}(t,c)}return a}function ts(t,e,n,i){const r=us(t,i);if(null!=r){const i=hs(r),o=i.path,s=i.queryId,a=Ti(o,e);return ds(t,o,new Ar(Rr(s),a,n))}return[]}function es(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(r,((t,e)=>{const n=Ti(t,r);o=o||Ho(e,n),s=s||$o(e)}));let a,l=t.syncPointTree_.get(r);if(l?(s=s||$o(l),o=o||Ho(l,vi())):(l=new Fo,t.syncPointTree_=t.syncPointTree_.set(r,l)),null!=o)a=!0;else{a=!1,o=lr.EMPTY_NODE;t.syncPointTree_.subtree(r).foreachChild(((t,e)=>{const n=Ho(e,vi());n&&(o=o.updateImmediateChild(t,n))}))}const c=qo(l,e);if(!c&&!e._queryParams.loadsAllData()){const n=cs(e);Pt(!t.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=Ko++;t.queryToTagMap.set(n,i),t.tagToQueryMap.set(i,n)}let u=jo(l,e,n,ro(t.pendingWriteTree_,r),o,a);if(!c&&!s&&!i){const n=Uo(l,e);u=u.concat(function(t,e,n){const i=e._path,r=ls(t,e),o=as(t,n),s=t.listenProvider_.startListening(fs(e),r,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(i);if(r)Pt(!$o(a.value),"If we're adding a query, it shouldn't be shadowed");else{const e=a.fold(((t,e,n)=>{if(!Pi(t)&&e&&$o(e))return[Yo(e).query];{let t=[];return e&&(t=t.concat(Vo(e).map((t=>t.query)))),Bn(n,((e,n)=>{t=t.concat(n)})),t}}));for(let n=0;n<e.length;++n){const i=e[n];t.listenProvider_.stopListening(fs(i),ls(t,i))}}return s}(t,e,n))}return u}function ns(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,((t,n)=>{const i=Ho(n,Ti(t,e));if(i)return i}));return co(i,e,r,n,!0)}function is(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,((t,e)=>{const r=Ti(t,n);i=i||Ho(e,r)}));let r=t.syncPointTree_.get(n);r?i=i||Ho(r,vi()):(r=new Fo,t.syncPointTree_=t.syncPointTree_.set(n,r));const o=null!=i,s=o?new Fr(i,!0,!1):null;return function(t){return Hr(t.viewCache_)}(Bo(r,e,ro(t.pendingWriteTree_,e._path),o?s.getNode():lr.EMPTY_NODE,o))}function rs(t,e){return os(e,t.syncPointTree_,null,ro(t.pendingWriteTree_,vi()))}function os(t,e,n,i){if(Pi(t.path))return ss(t,e,n,i);{const r=e.get(vi());null==n&&null!=r&&(n=Ho(r,vi()));let o=[];const s=bi(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const t=n?n.getImmediateChild(s):null,e=yo(i,s);o=o.concat(os(a,l,t,e))}return r&&(o=o.concat(zo(r,t,i,n))),o}}function ss(t,e,n,i){const r=e.get(vi());null==n&&null!=r&&(n=Ho(r,vi()));let o=[];return e.children.inorderTraversal(((e,r)=>{const s=n?n.getImmediateChild(e):null,a=yo(i,e),l=t.operationForChild(e);l&&(o=o.concat(ss(l,r,s,a)))})),r&&(o=o.concat(zo(r,t,i,n))),o}function as(t,e){const n=e.query,i=ls(t,n);return{hashFn:()=>{const t=function(t){return t.viewCache_.serverCache.getNode()}(e)||lr.EMPTY_NODE;return t.hash()},onComplete:e=>{if("ok"===e)return i?function(t,e,n){const i=us(t,n);if(i){const n=hs(i),r=n.path,o=n.queryId,s=Ti(r,e);return ds(t,r,new Or(Rr(o),s))}return[]}(t,n._path,i):function(t,e){return rs(t,new Or({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const i=function(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}(e,n);return Jo(t,n,null,i)}}}}function ls(t,e){const n=cs(e);return t.queryToTagMap.get(n)}function cs(t){return t._path.toString()+"$"+t._queryIdentifier}function us(t,e){return t.tagToQueryMap.get(e)}function hs(t){const e=t.indexOf("$");return Pt(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _i(t.substr(0,e))}}function ds(t,e,n){const i=t.syncPointTree_.get(e);Pt(i,"Missing sync point for query tag that we're tracking");return zo(i,n,ro(t.pendingWriteTree_,e),null)}function fs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Pt(Lo,"Reference.ts has not been loaded"),Lo)(t._repo,t._path):t}class ps{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new ps(e)}node(){return this.node_}}class gs{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ei(this.path_,t);return new gs(this.syncTree_,e)}node(){return ns(this.syncTree_,this.path_)}}const ms=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},ys=function(t,e,n){return t&&"object"===typeof t?(Pt(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?_s(t[".sv"],e,n):"object"===typeof t[".sv"]?vs(t[".sv"],e):void Pt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},_s=function(t,e,n){if("timestamp"===t)return n.timestamp;Pt(!1,"Unexpected server value: "+t)},vs=function(t,e,n){t.hasOwnProperty("increment")||Pt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!==typeof i&&Pt(!1,"Unexpected increment value: "+i);const r=e.node();if(Pt(null!==r&&"undefined"!==typeof r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!==typeof o?i:o+i},bs=function(t,e,n,i){return ws(e,new gs(n,t),i)},xs=function(t,e,n){return ws(t,new ps(e),n)};function ws(t,e,n){const i=t.getPriority().val(),r=ys(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const i=t,o=ys(i.getValue(),e,n);return o!==i.getValue()||r!==i.getPriority().val()?new Ji(o,hr(r)):t}{const i=t;return o=i,r!==i.getPriority().val()&&(o=o.updatePriority(new Ji(r))),i.forEachChild(tr,((t,i)=>{const r=ws(i,e.getImmediateChild(t),n);r!==i&&(o=o.updateImmediateChild(t,r))})),o}}class Cs{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=t,this.parent=e,this.node=n}}function ks(t,e){let n=e instanceof _i?e:new _i(e),i=t,r=bi(n);for(;null!==r;){const t=Zt(i.node.children,r)||{children:{},childCount:0};i=new Cs(r,i,t),n=wi(n),r=bi(n)}return i}function Ss(t){return t.node.value}function Es(t,e){t.node.value=e,Ds(t)}function Ps(t){return t.node.childCount>0}function Ts(t,e){Bn(t.node.children,((n,i)=>{e(new Cs(n,t,i))}))}function Ms(t,e,n,i){n&&!i&&e(t),Ts(t,(t=>{Ms(t,e,!0,i)})),n&&i&&e(t)}function Is(t){return new _i(null===t.parent?t.name:Is(t.parent)+"/"+t.name)}function Ds(t){null!==t.parent&&function(t,e,n){const i=function(t){return void 0===Ss(t)&&!Ps(t)}(n),r=Xt(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Ds(t)):i||r||(t.node.children[e]=n.node,t.node.childCount++,Ds(t))}(t.parent,t.name,t)}const Rs=/[\[\].#$\/\u0000-\u001F\u007F]/,Ns=/[\[\].#$\u0000-\u001F\u007F]/,Os=10485760,As=function(t){return"string"===typeof t&&0!==t.length&&!Rs.test(t)},Ls=function(t){return"string"===typeof t&&0!==t.length&&!Ns.test(t)},Fs=function(t,e,n,i){i&&void 0===e||zs(re(t,"value"),e,n)},zs=function(t,e,n){const i=n instanceof _i?new Di(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Ni(i));if("function"===typeof e)throw new Error(t+"contains a function "+Ni(i)+" with contents = "+e.toString());if(Dn(e))throw new Error(t+"contains "+e.toString()+" "+Ni(i));if("string"===typeof e&&e.length>Os/3&&oe(e)>Os)throw new Error(t+"contains a string greater than "+Os+" utf8 bytes "+Ni(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"===typeof e){let n=!1,r=!1;if(Bn(e,((e,o)=>{if(".value"===e)n=!0;else if(".priority"!==e&&".sv"!==e&&(r=!0,!As(e)))throw new Error(t+" contains an invalid key ("+e+") "+Ni(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=oe(e),Ri(t)}(i,e),zs(t,o,i),function(t){const e=t.parts_.pop();t.byteLength_-=oe(e),t.parts_.length>0&&(t.byteLength_-=1)}(i)})),n&&r)throw new Error(t+' contains ".value" child '+Ni(i)+" in addition to actual children.")}},Bs=function(t,e,n,i){if((!i||void 0!==n)&&!Ls(n))throw new Error(re(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},js=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Bs(t,e,n,i)},Ws=function(t,e){if(".info"===bi(e))throw new Error(t+" failed = Can't modify data under /.info/")},Vs=function(t,e){const n=e.path.toString();if("string"!==typeof e.repoInfo.host||0===e.repoInfo.host.length||!As(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ls(t)}(n))throw new Error(re(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Hs{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Us(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null===n||Mi(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function qs(t,e,n){Us(t,n),$s(t,(t=>Ii(t,e)||Ii(e,t)))}function $s(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){e(r.path)?(Ys(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Ys(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const i=n.getEventRunner();Cn&&En("event: "+n.toString()),Hn(i)}}}const Ks="repo_interrupt",Qs=25;class Gs{constructor(t,e,n,i){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hs,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Er(),this.transactionQueueTree_=new Cs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xs(t,e,n){if(t.stats_=ri(t.repoInfo_),t.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new kr(t.repoInfo_,((e,n,i,r)=>{ta(t,e,n,i,r)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((()=>ea(t,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qt(n)}catch(Xg){throw new Error("Invalid authOverride provided: "+Xg)}}t.persistentConnection_=new Li(t.repoInfo_,e,((e,n,i,r)=>{ta(t,e,n,i,r)}),(e=>{ea(t,e)}),(e=>{!function(t,e){Bn(e,((e,n)=>{na(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener((e=>{t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((e=>{t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=function(t,e){const n=t.toString();return ii[n]||(ii[n]=e()),ii[n]}(t.repoInfo_,(()=>new Ir(t.stats_,t.server_))),t.infoData_=new Sr,t.infoSyncTree_=new Qo({startListening:(e,n,i,r)=>{let o=[];const s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Zo(t.infoSyncTree_,e._path,s),setTimeout((()=>{r("ok")}),0)),o},stopListening:()=>{}}),na(t,"connected",!1),t.serverSyncTree_=new Qo({startListening:(e,n,i,r)=>(t.server_.listen(e,i,n,((n,i)=>{const o=r(n,i);qs(t.eventQueue_,e._path,o)})),[]),stopListening:(e,n)=>{t.server_.unlisten(e,n)}})}function Zs(t){const e=t.infoData_.getNode(new _i(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Js(t){return ms({timestamp:Zs(t)})}function ta(t,e,n,i,r){t.dataUpdateCount++;const o=new _i(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(r)if(i){const e=te(n,(t=>hr(t)));s=function(t,e,n,i){const r=us(t,i);if(r){const i=hs(r),o=i.path,s=i.queryId,a=Ti(o,e),l=$r.fromObject(n);return ds(t,o,new Lr(Rr(s),a,l))}return[]}(t.serverSyncTree_,o,e,r)}else{const e=hr(n);s=ts(t.serverSyncTree_,o,e,r)}else if(i){const e=te(n,(t=>hr(t)));s=function(t,e,n){const i=$r.fromObject(n);return rs(t,new Lr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,o,e)}else{const e=hr(n);s=Zo(t.serverSyncTree_,o,e)}let a=o;s.length>0&&(a=ua(t,o)),qs(t.eventQueue_,a,s)}function ea(t,e){na(t,"connected",e),!1===e&&function(t){sa(t,"onDisconnectEvents");const e=Js(t),n=Er();Tr(t.onDisconnect_,vi(),((i,r)=>{const o=bs(i,r,t.serverSyncTree_,e);Pr(n,i,o)}));let i=[];Tr(n,vi(),((e,n)=>{i=i.concat(Zo(t.serverSyncTree_,e,n));const r=ga(t,e);ua(t,r)})),t.onDisconnect_=Er(),qs(t.eventQueue_,vi(),i)}(t)}function na(t,e,n){const i=new _i("/.info/"+e),r=hr(n);t.infoData_.updateSnapshot(i,r);const o=Zo(t.infoSyncTree_,i,r);qs(t.eventQueue_,i,o)}function ia(t){return t.nextWriteId_++}function ra(t,e,n,i,r){sa(t,"set",{path:e.toString(),value:n,priority:i});const o=Js(t),s=hr(n,i),a=ns(t.serverSyncTree_,e),l=xs(s,a,o),c=ia(t),u=Go(t.serverSyncTree_,e,l,c,!0);Us(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),((n,i)=>{const o="ok"===n;o||In("set at "+e+" failed: "+n);const s=Xo(t.serverSyncTree_,c,!o);qs(t.eventQueue_,e,s),aa(t,r,n,i)}));const h=ga(t,e);ua(t,h),qs(t.eventQueue_,h,[])}function oa(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ks)}function sa(t){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":");for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];En(e,...i)}function aa(t,e,n,i){e&&Hn((()=>{if("ok"===n)e(null);else{const t=(n||"error").toUpperCase();let r=t;i&&(r+=": "+i);const o=new Error(r);o.code=t,e(o)}}))}function la(t,e,n){return ns(t.serverSyncTree_,e,n)||lr.EMPTY_NODE}function ca(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.transactionQueueTree_;if(e||pa(t,e),Ss(e)){const n=da(t,e);Pt(n.length>0,"Sending zero length transaction queue");n.every((t=>0===t.status))&&function(t,e,n){const i=n.map((t=>t.currentWriteId)),r=la(t,e,i);let o=r;const s=r.hash();for(let c=0;c<n.length;c++){const t=n[c];Pt(0===t.status,"tryToSendTransactionQueue_: items in queue should all be run."),t.status=1,t.retryCount++;const i=Ti(e,t.path);o=o.updateChild(i,t.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,(i=>{sa(t,"transaction put response",{path:l.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let e=0;e<n.length;e++)n[e].status=2,r=r.concat(Xo(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&i.push((()=>n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved))),n[e].unwatcher();pa(t,ks(t.transactionQueueTree_,e)),ca(t,t.transactionQueueTree_),qs(t.eventQueue_,e,r);for(let t=0;t<i.length;t++)Hn(i[t])}else{if("datastale"===i)for(let t=0;t<n.length;t++)3===n[t].status?n[t].status=4:n[t].status=0;else{In("transaction at "+l.toString()+" failed: "+i);for(let t=0;t<n.length;t++)n[t].status=4,n[t].abortReason=i}ua(t,e)}}),s)}(t,Is(e),n)}else Ps(e)&&Ts(e,(e=>{ca(t,e)}))}function ua(t,e){const n=ha(t,e),i=Is(n);return function(t,e,n){if(0===e.length)return;const i=[];let r=[];const o=e.filter((t=>0===t.status)),s=o.map((t=>t.currentWriteId));for(let l=0;l<e.length;l++){const o=e[l],c=Ti(n,o.path);let u,h=!1;if(Pt(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)h=!0,u=o.abortReason,r=r.concat(Xo(t.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=Qs)h=!0,u="maxretry",r=r.concat(Xo(t.serverSyncTree_,o.currentWriteId,!0));else{const n=la(t,o.path,s);o.currentInputSnapshot=n;const i=e[l].update(n.val());if(void 0!==i){zs("transaction failed: Data returned ",i,o.path);let e=hr(i);"object"===typeof i&&null!=i&&Xt(i,".priority")||(e=e.updatePriority(n.getPriority()));const a=o.currentWriteId,l=Js(t),c=xs(e,n,l);o.currentOutputSnapshotRaw=e,o.currentOutputSnapshotResolved=c,o.currentWriteId=ia(t),s.splice(s.indexOf(a),1),r=r.concat(Go(t.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),r=r.concat(Xo(t.serverSyncTree_,a,!0))}else h=!0,u="nodata",r=r.concat(Xo(t.serverSyncTree_,o.currentWriteId,!0))}qs(t.eventQueue_,n,r),r=[],h&&(e[l].status=2,a=e[l].unwatcher,setTimeout(a,Math.floor(0)),e[l].onComplete&&("nodata"===u?i.push((()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot))):i.push((()=>e[l].onComplete(new Error(u),!1,null)))))}var a;pa(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)Hn(i[l]);ca(t,t.transactionQueueTree_)}(t,da(t,n),i),i}function ha(t,e){let n,i=t.transactionQueueTree_;for(n=bi(e);null!==n&&void 0===Ss(i);)i=ks(i,n),n=bi(e=wi(e));return i}function da(t,e){const n=[];return fa(t,e,n),n.sort(((t,e)=>t.order-e.order)),n}function fa(t,e,n){const i=Ss(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Ts(e,(e=>{fa(t,e,n)}))}function pa(t,e){const n=Ss(e);if(n){let t=0;for(let e=0;e<n.length;e++)2!==n[e].status&&(n[t]=n[e],t++);n.length=t,Es(e,n.length>0?n:void 0)}Ts(e,(e=>{pa(t,e)}))}function ga(t,e){const n=Is(ha(t,e)),i=ks(t.transactionQueueTree_,e);return function(t,e,n){let i=n?t:t.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,(e=>{ma(t,e)})),ma(t,i),Ms(i,(e=>{ma(t,e)})),n}function ma(t,e){const n=Ss(e);if(n){const i=[];let r=[],o=-1;for(let e=0;e<n.length;e++)3===n[e].status||(1===n[e].status?(Pt(o===e-1,"All SENT items should be at beginning of queue."),o=e,n[e].status=3,n[e].abortReason="set"):(Pt(0===n[e].status,"Unexpected transaction status in abort"),n[e].unwatcher(),r=r.concat(Xo(t.serverSyncTree_,n[e].currentWriteId,!0)),n[e].onComplete&&i.push(n[e].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Es(e,void 0):n.length=o+1,qs(t.eventQueue_,Is(e),r);for(let t=0;t<i.length;t++)Hn(i[t])}}const ya=function(t,e){const n=_a(t),i=n.namespace;"firebase.com"===n.domain&&Mn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||Mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&In("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Jn(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new _i(n.pathString)}},_a=function(t){let e="",n="",i="",r="",o="",s=!0,a="https",l=443;if("string"===typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");-1===u&&(u=t.length);let h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(r=function(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let t=n[i];try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(Xg){}e+="/"+t}return e}(t.substring(u,h)));const d=function(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):In("Invalid query segment '".concat(n,"' in query '").concat(t,"'"))}return e}(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const t=e.indexOf(".");i=e.substring(0,t).toLowerCase(),n=e.substring(t+1),o=i}"ns"in d&&(o=d.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},va="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ba=function(){let t=0;const e=[];return function(n){const i=n===t;let r;t=n;const o=new Array(8);for(r=7;r>=0;r--)o[r]=va.charAt(n%64),n=Math.floor(n/64);Pt(0===n,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=va.charAt(e[r]);return Pt(20===s.length,"nextPushId: Length should be 20."),s}}();class xa{constructor(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qt(this.snapshot.exportVal())}}class wa{constructor(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ca{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return Pt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class ka{constructor(t,e,n,i){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=i}get key(){return Pi(this._path)?null:Ci(this._path)}get ref(){return new Sa(this._repo,this._path)}get _queryIdentifier(){const t=Cr(this._queryParams),e=Fn(t);return"{}"===e?"default":e}get _queryObject(){return Cr(this._queryParams)}isEqual(t){if(!((t=se(t))instanceof ka))return!1;const e=this._repo===t._repo,n=Mi(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return e&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Sa extends ka{constructor(t,e){super(t,e,new xr,!1)}get parent(){const t=Si(this._path);return null===t?null:new Sa(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Ea{constructor(t,e,n){this._node=t,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new _i(t),n=Ta(this.ref,t);return new Ea(this._node.getChild(e),n,tr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((e,n)=>t(new Ea(n,Ta(this.ref,e),tr))))}hasChild(t){const e=new _i(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Pa(t,e){return(t=se(t))._checkNotDeleted("ref"),void 0!==e?Ta(t._root,e):t._root}function Ta(t,e){return null===bi((t=se(t))._path)?js("child","path",e,!1):Bs("child","path",e,!1),new Sa(t._repo,Ei(t._path,e))}function Ma(t,e){t=se(t),Ws("set",t._path),Fs("set",e,t._path,!1);const n=new Wt;return ra(t._repo,t._path,e,null,n.wrapCallback((()=>{}))),n.promise}function Ia(t){t=se(t);const e=new Ca((()=>{})),n=new Da(e);return function(t,e,n){const i=is(t.serverSyncTree_,e);return null!=i?Promise.resolve(i):t.server_.get(e).then((i=>{const r=hr(i).withIndex(e._queryParams.getIndex());let o;if(es(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())o=Zo(t.serverSyncTree_,e._path,r);else{const n=ls(t.serverSyncTree_,e);o=ts(t.serverSyncTree_,e._path,r,n)}return qs(t.eventQueue_,e._path,o),Jo(t.serverSyncTree_,e,n,null,!0),r}),(n=>(sa(t,"get for query "+Qt(e)+" failed: "+n),Promise.reject(new Error(n)))))}(t._repo,t,n).then((e=>new Ea(e,new Sa(t._repo,t._path),t._queryParams.getIndex())))}class Da{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const n=e._queryParams.getIndex();return new xa("value",this,new Ea(t.snapshotNode,new Sa(e._repo,e._path),n))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new wa(this,t,e):null}matches(t){return t instanceof Da&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}!function(t){Pt(!Ao,"__referenceConstructor has already been defined"),Ao=t}(Sa),function(t){Pt(!Lo,"__referenceConstructor has already been defined"),Lo=t}(Sa);const Ra="FIREBASE_DATABASE_EMULATOR_HOST",Na={};let Oa=!1;function Aa(t,e,n,i,r){let o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||Mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),En("Using default host for project ",t.options.projectId),o="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=ya(o,r),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"secrets.REACT_APP_API_KEY"}[Ra]),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=ya(o,r),c=l.repoInfo):s=!l.repoInfo.secure;const u=r&&s?new Yn(Yn.OWNER):new $n(t.name,t.options,e);Vs("Invalid Firebase Database URL",l),Pi(l.path)||Mn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(t,e,n,i){let r=Na[e.name];r||(r={},Na[e.name]=r);let o=r[t.toURLString()];o&&Mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Gs(t,Oa,n,i),r[t.toURLString()]=o,o}(c,t,u,new qn(t.name,n));return new La(h,t)}class La{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Xs(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sa(this._repo,vi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(t,e){const n=Na[e];n&&n[t.key]===t||Mn("Database ".concat(e,"(").concat(t.repoInfo_,") has already been deleted.")),oa(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Mn("Cannot call "+t+" on a deleted database.")}}Li.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Li.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};!function(t){fn("10.12.2"),qe(new ae("database",((t,e)=>{let{instanceIdentifier:n}=e;return Aa(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ge(un,hn,t),Ge(un,hn,"esm2017")}();Ge("firebase","10.12.2","app");const Fa=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be;const e=We.get(t);if(!e&&t===Be&&jt())return Qe();if(!e)throw Ye.create("no-app",{appName:t});return e}(),e=arguments.length>1?arguments[1]:void 0;const n=$e(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const t=Bt("database");t&&function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=se(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Mn("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Mn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Yn(Yn.OWNER);else if(i.mockUserToken){const e="string"===typeof i.mockUserToken?i.mockUserToken:function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nt(JSON.stringify({alg:"none",type:"JWT"})),Nt(JSON.stringify(o)),""].join(".")}(i.mockUserToken,t.app.options.projectId);o=new Yn(e)}!function(t,e,n,i){t.repoInfo_=new Jn("".concat(e,":").concat(n),!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}(r,e,n,o)}(n,...t)}return n}(Qe({apiKey:"secrets.REACT_APP_API_KEY",authDomain:"woulduratherbackend-default-rtdb.firebaseio.com/",projectId:"woulduratherbackend",storageBucket:"woulduratherbackend.appspot.com",messagingSenderId:"818373479500",appId:"1:818373479500:web:1565a9c8e99e2e4474f8e9",measurementId:"G-KWSXYGE7EG",databaseURL:"https://woulduratherbackend-default-rtdb.firebaseio.com/"})),za=async()=>{try{const t=Pa(Fa,"responses"),e=await Ia(t);return e.exists()?Object.values(e.val()):(console.log("No data available"),[])}catch(Tn){return console.error("Error fetching responses:",Tn),[]}};function Ba(t){return Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(t)}function ja(t){var e=function(t,e){if("object"!=Ba(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=Ba(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ba(e)?e:String(e)}function Wa(t,e,n){return(e=ja(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Va(t){return t+.5|0}const Ha=(t,e,n)=>Math.max(Math.min(t,n),e);function Ua(t){return Ha(Va(2.55*t),0,255)}function qa(t){return Ha(Va(255*t),0,255)}function $a(t){return Ha(Va(t/2.55)/100,0,1)}function Ya(t){return Ha(Va(100*t),0,100)}const Ka={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qa=[..."0123456789ABCDEF"],Ga=t=>Qa[15&t],Xa=t=>Qa[(240&t)>>4]+Qa[15&t],Za=t=>(240&t)>>4===(15&t);function Ja(t){var e=(t=>Za(t.r)&&Za(t.g)&&Za(t.b)&&Za(t.a))(t)?Ga:Xa;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const tl=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function el(t,e,n){const i=e*Math.min(n,1-n),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function nl(t,e,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+t/60)%6;return n-n*e*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function il(t,e,n){const i=el(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function rl(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),o=Math.min(e,n,i),s=(r+o)/2;let a,l,c;return r!==o&&(c=r-o,l=s>.5?c/(2-r-o):c/(r+o),a=function(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}(e,n,i,c,r),a=60*a+.5),[0|a,l||0,s]}function ol(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(qa)}function sl(t,e,n){return ol(el,t,e,n)}function al(t){return(t%360+360)%360}function ll(t){const e=tl.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?Ua(+e[5]):qa(+e[5]));const r=al(+e[2]),o=+e[3]/100,s=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return ol(il,t,e,n)}(r,o,s):"hsv"===e[1]?function(t,e,n){return ol(nl,t,e,n)}(r,o,s):sl(r,o,s),{r:n[0],g:n[1],b:n[2],a:i}}const cl={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ul={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let hl;function dl(t){hl||(hl=function(){const t={},e=Object.keys(ul),n=Object.keys(cl);let i,r,o,s,a;for(i=0;i<e.length;i++){for(s=a=e[i],r=0;r<n.length;r++)o=n[r],a=a.replace(o,cl[o]);o=parseInt(ul[s],16),t[a]=[o>>16&255,o>>8&255,255&o]}return t}(),hl.transparent=[0,0,0,0]);const e=hl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const fl=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const pl=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,gl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ml(t,e,n){if(t){let i=rl(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=sl(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function yl(t,e){return t?Object.assign(e||{},t):t}function _l(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=qa(t[3]))):(e=yl(t,{r:0,g:0,b:0,a:1})).a=qa(e.a),e}function vl(t){return"r"===t.charAt(0)?function(t){const e=fl.exec(t);let n,i,r,o=255;if(e){if(e[7]!==n){const t=+e[7];o=e[8]?Ua(t):Ha(255*t,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?Ua(n):Ha(n,0,255)),i=255&(e[4]?Ua(i):Ha(i,0,255)),r=255&(e[6]?Ua(r):Ha(r,0,255)),{r:n,g:i,b:r,a:o}}}(t):ll(t)}class bl{constructor(t){if(t instanceof bl)return t;const e=typeof t;let n;"object"===e?n=_l(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*Ka[t[1]],g:255&17*Ka[t[2]],b:255&17*Ka[t[3]],a:5===n?17*Ka[t[4]]:255}:7!==n&&9!==n||(e={r:Ka[t[1]]<<4|Ka[t[2]],g:Ka[t[3]]<<4|Ka[t[4]],b:Ka[t[5]]<<4|Ka[t[6]],a:9===n?Ka[t[7]]<<4|Ka[t[8]]:255})),e}(t)||dl(t)||vl(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=yl(this._rgb);return t&&(t.a=$a(t.a)),t}set rgb(t){this._rgb=_l(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat($a(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")):void 0;var t}hexString(){return this._valid?Ja(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=rl(t),n=e[0],i=Ya(e[1]),r=Ya(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat($a(t.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let r;const o=e===r?.5:e,s=2*o-1,a=n.a-i.a,l=((s*a===-1?s:(s+a)/(1+s*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const i=gl($a(t.r)),r=gl($a(t.g)),o=gl($a(t.b));return{r:qa(pl(i+n*(gl($a(e.r))-i))),g:qa(pl(r+n*(gl($a(e.g))-r))),b:qa(pl(o+n*(gl($a(e.b))-o))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new bl(this.rgb)}alpha(t){return this._rgb.a=qa(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Va(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ml(this._rgb,2,t),this}darken(t){return ml(this._rgb,2,-t),this}saturate(t){return ml(this._rgb,1,t),this}desaturate(t){return ml(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=rl(t);n[0]=al(n[0]+e),n=sl(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function xl(){}const wl=(()=>{let t=0;return()=>t++})();function Cl(t){return null===t||"undefined"===typeof t}function kl(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Sl(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function El(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function Pl(t,e){return El(t)?t:e}function Tl(t,e){return"undefined"===typeof t?e:t}const Ml=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Il(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function Dl(t,e,n,i){let r,o,s;if(kl(t))if(o=t.length,i)for(r=o-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<o;r++)e.call(n,t[r],r);else if(Sl(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)e.call(n,t[s[r]],s[r])}function Rl(t,e){let n,i,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],o=e[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Nl(t){if(kl(t))return t.map(Nl);if(Sl(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Nl(t[n[r]]);return e}return t}function Ol(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function Al(t,e,n,i){if(!Ol(t))return;const r=e[t],o=n[t];Sl(r)&&Sl(o)?Ll(r,o,i):e[t]=Nl(o)}function Ll(t,e,n){const i=kl(e)?e:[e],r=i.length;if(!Sl(t))return t;const o=(n=n||{}).merger||Al;let s;for(let a=0;a<r;++a){if(s=i[a],!Sl(s))continue;const e=Object.keys(s);for(let i=0,r=e.length;i<r;++i)o(e[i],t,s,n)}return t}function Fl(t,e){return Ll(t,e,{merger:zl})}function zl(t,e,n){if(!Ol(t))return;const i=e[t],r=n[t];Sl(i)&&Sl(r)?Fl(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Nl(r))}const Bl={"":t=>t,x:t=>t.x,y:t=>t.y};function jl(t,e){const n=Bl[e]||(Bl[e]=function(t){const e=function(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function Wl(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Vl=t=>"undefined"!==typeof t,Hl=t=>"function"===typeof t,Ul=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const ql=Math.PI,$l=2*ql,Yl=$l+ql,Kl=Number.POSITIVE_INFINITY,Ql=ql/180,Gl=ql/2,Xl=ql/4,Zl=2*ql/3,Jl=Math.log10,tc=Math.sign;function ec(t,e,n){return Math.abs(t-e)<n}function nc(t){const e=Math.round(t);t=ec(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Jl(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function ic(t){return!isNaN(parseFloat(t))&&isFinite(t)}function rc(t,e,n){let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function oc(t){return t*(ql/180)}function sc(t){return t*(180/ql)}function ac(t){if(!El(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function lc(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*ql&&(o+=$l),{angle:o,distance:r}}function cc(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function uc(t,e){return(t-e+Yl)%$l-ql}function hc(t){return(t%$l+$l)%$l}function dc(t,e,n,i){const r=hc(t),o=hc(e),s=hc(n),a=hc(o-r),l=hc(s-r),c=hc(r-o),u=hc(r-s);return r===o||r===s||i&&o===s||a>l&&c<u}function fc(t,e,n){return Math.max(e,Math.min(n,t))}function pc(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function gc(t,e,n){n=n||(n=>t[n]<e);let i,r=t.length-1,o=0;for(;r-o>1;)i=o+r>>1,n(i)?o=i:r=i;return{lo:o,hi:r}}const mc=(t,e,n,i)=>gc(t,n,i?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),yc=(t,e,n)=>gc(t,n,(i=>t[i][e]>=n));const _c=["push","pop","shift","splice","unshift"];function vc(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(_c.forEach((e=>{delete t[e]})),delete t._chartjs)}function bc(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const xc="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function wc(t,e){let n=[],i=!1;return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];n=o,i||(i=!0,xc.call(window,(()=>{i=!1,t.apply(e,n)})))}}const Cc=t=>"start"===t?"left":"end"===t?"right":"center",kc=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function Sc(t,e,n){const i=e.length;let r=0,o=i;if(t._sorted){const{iScale:s,_parsed:a}=t,l=s.axis,{min:c,max:u,minDefined:h,maxDefined:d}=s.getUserBounds();h&&(r=fc(Math.min(mc(a,l,c).lo,n?i:mc(e,l,s.getPixelForValue(c)).lo),0,i-1)),o=d?fc(Math.max(mc(a,s.axis,u,!0).hi+1,n?0:mc(e,l,s.getPixelForValue(u),!0).hi+1),r,i)-r:i-r}return{start:r,count:o}}function Ec(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}const Pc=t=>0===t||1===t,Tc=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*$l/n),Mc=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*$l/n)+1,Ic={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Gl),easeOutSine:t=>Math.sin(t*Gl),easeInOutSine:t=>-.5*(Math.cos(ql*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Pc(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Pc(t)?t:Tc(t,.075,.3),easeOutElastic:t=>Pc(t)?t:Mc(t,.075,.3),easeInOutElastic(t){const e=.1125;return Pc(t)?t:t<.5?.5*Tc(2*t,e,.45):.5+.5*Mc(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Ic.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*Ic.easeInBounce(2*t):.5*Ic.easeOutBounce(2*t-1)+.5};function Dc(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Rc(t){return Dc(t)?t:new bl(t)}function Nc(t){return Dc(t)?t:new bl(t).saturate(.5).darken(.1).hexString()}const Oc=["x","y","borderWidth","radius","tension"],Ac=["color","borderColor","backgroundColor"];const Lc=new Map;function Fc(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Lc.get(n);return i||(i=new Intl.NumberFormat(t,e),Lc.set(n,i)),i}(e,n).format(t)}const zc={values:t=>kl(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let r,o=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),o=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const s=Jl(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Fc(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Jl(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?zc.numeric.call(this,t,e,n):""}};var Bc={formatters:zc};const jc=Object.create(null),Wc=Object.create(null);function Vc(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function Hc(t,e,n){return"string"===typeof e?Ll(Vc(t,e),n):Ll(Vc(t,""),e)}class Uc{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Nc(e.backgroundColor),this.hoverBorderColor=(t,e)=>Nc(e.borderColor),this.hoverColor=(t,e)=>Nc(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Hc(this,t,e)}get(t){return Vc(this,t)}describe(t,e){return Hc(Wc,t,e)}override(t,e){return Hc(jc,t,e)}route(t,e,n,i){const r=Vc(this,t),o=Vc(this,n),s="_"+e;Object.defineProperties(r,{[s]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[s],e=o[i];return Sl(t)?Object.assign({},e,t):Tl(t,e)},set(t){this[s]=t}}})}apply(t){t.forEach((t=>t(this)))}}var qc=new Uc({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:Ac},numbers:{type:"number",properties:Oc}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Bc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function $c(t,e,n,i,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>i&&(i=o),i}function Yc(t,e,n,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},o=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let s=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0===h||null===h||kl(h)){if(kl(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||kl(d)||(s=$c(t,r,o,s,d))}else s=$c(t,r,o,s,h);t.restore();const f=o.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[o[l]];o.splice(0,f)}return s}function Kc(t,e,n){const i=t.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function Qc(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Gc(t,e,n,i){Xc(t,e,n,i,null)}function Xc(t,e,n,i,r){let o,s,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*Ql;if(f&&"object"===typeof f&&(o=f.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,$l):t.arc(n,i,g,0,$l),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Zl,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Zl,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=.516*g,l=g-c,s=Math.cos(m+Xl)*l,h=Math.cos(m+Xl)*(r?r/2-c:l),a=Math.sin(m+Xl)*l,d=Math.sin(m+Xl)*(r?r/2-c:l),t.arc(n-h,i-a,c,m-ql,m-Gl),t.arc(n+d,i-s,c,m-Gl,m),t.arc(n+h,i+a,c,m,m+Gl),t.arc(n-d,i+s,c,m+Gl,m+ql),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}m+=Xl;case"rectRot":h=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+d,i-s),t.lineTo(n+h,i+a),t.lineTo(n-d,i+s),t.closePath();break;case"crossRot":m+=Xl;case"cross":h=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-s),t.lineTo(n-d,i+s);break;case"star":h=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-s),t.lineTo(n-d,i+s),m+=Xl,h=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-s),t.lineTo(n-d,i+s);break;case"line":s=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-s,i-a),t.lineTo(n+s,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function Zc(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Jc(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function tu(t){t.restore()}function eu(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if("middle"===r){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===r!==!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function nu(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function iu(t,e,n,i,r){if(r.strikethrough||r.underline){const o=t.measureText(i),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,u),t.lineTo(a,u),t.stroke()}}function ru(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ou(t,e,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=kl(e)?e:[e],a=o.strokeWidth>0&&""!==o.strokeColor;let l,c;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Cl(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&ru(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Cl(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,i,o.maxWidth)),t.fillText(c,n,i,o.maxWidth),iu(t,n,i,c,o),i+=Number(r.lineHeight);t.restore()}function su(t,e){const{x:n,y:i,w:r,h:o,radius:s}=e;t.arc(n+s.topLeft,i+s.topLeft,s.topLeft,1.5*ql,ql,!0),t.lineTo(n,i+o-s.bottomLeft),t.arc(n+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,ql,Gl,!0),t.lineTo(n+r-s.bottomRight,i+o),t.arc(n+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,Gl,0,!0),t.lineTo(n+r,i+s.topRight),t.arc(n+r-s.topRight,i+s.topRight,s.topRight,0,-Gl,!0),t.lineTo(n+s.topLeft,i)}const au=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lu=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function cu(t,e){const n=(""+t).match(au);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const uu=t=>+t||0;function hu(t,e){const n={},i=Sl(e),r=i?Object.keys(e):e,o=Sl(t)?i?n=>Tl(t[n],t[e[n]]):e=>t[e]:()=>t;for(const s of r)n[s]=uu(o(s));return n}function du(t){return hu(t,{top:"y",right:"x",bottom:"y",left:"x"})}function fu(t){return hu(t,["topLeft","topRight","bottomLeft","bottomRight"])}function pu(t){const e=du(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function gu(t,e){t=t||{},e=e||qc.font;let n=Tl(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=Tl(t.style,e.style);i&&!(""+i).match(lu)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Tl(t.family,e.family),lineHeight:cu(Tl(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Tl(t.weight,e.weight),string:""};return r.string=function(t){return!t||Cl(t.size)||Cl(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function mu(t,e,n,i){let r,o,s,a=!0;for(r=0,o=t.length;r<o;++r)if(s=t[r],void 0!==s&&(void 0!==e&&"function"===typeof s&&(s=s(e),a=!1),void 0!==n&&kl(s)&&(s=s[n%s.length],a=!1),void 0!==s))return i&&!a&&(i.cacheable=!1),s}function yu(t,e){return Object.assign(Object.create(t),e)}function _u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const r=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=Mu("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>_u([i,...t],e,r,n)};return new Proxy(o,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,i)=>Cu(n,i,(()=>function(t,e,n,i){let r;for(const o of e)if(r=Mu(xu(o,t),n),"undefined"!==typeof r)return wu(t,r)?Pu(n,i,t,r):r}(i,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Iu(t).includes(e),ownKeys:t=>Iu(t),set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function vu(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:bu(t,i),setContext:e=>vu(t,e,n,i),override:r=>vu(t.override(r),e,n,i)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>Cu(t,e,(()=>function(t,e,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=t;let a=i[e];Hl(a)&&s.isScriptable(e)&&(a=function(t,e,n,i){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,s||i);a.delete(t),wu(t,l)&&(l=Pu(r._scopes,r,t,l));return l}(e,a,t,n));kl(a)&&a.length&&(a=function(t,e,n,i){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=n;if("undefined"!==typeof o.index&&i(t))return e[o.index%e.length];if(Sl(e[0])){const n=e,i=r._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=Pu(i,r,t,l);e.push(vu(n,o,s&&s[t],a))}}return e}(e,a,t,s.isIndexable));wu(e,a)&&(a=vu(a,r,o&&o[e],s));return a}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,i)=>(t[n]=i,delete e[n],!0)})}function bu(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Hl(n)?n:()=>n,isIndexable:Hl(i)?i:()=>i}}const xu=(t,e)=>t?t+Wl(e):e,wu=(t,e)=>Sl(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Cu(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const i=n();return t[e]=i,i}function ku(t,e,n){return Hl(t)?t(e,n):t}const Su=(t,e)=>!0===t?e:"string"===typeof t?jl(e,t):void 0;function Eu(t,e,n,i,r){for(const o of e){const e=Su(n,o);if(e){t.add(e);const o=ku(e._fallback,n,r);if("undefined"!==typeof o&&o!==n&&o!==i)return o}else if(!1===e&&"undefined"!==typeof i&&n!==i)return null}return!1}function Pu(t,e,n,i){const r=e._rootScopes,o=ku(e._fallback,n,i),s=[...t,...r],a=new Set;a.add(i);let l=Tu(a,s,n,o||n,i);return null!==l&&(("undefined"===typeof o||o===n||(l=Tu(a,s,o,l,i),null!==l))&&_u(Array.from(a),[""],r,o,(()=>function(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];if(kl(r)&&Sl(n))return n;return r||{}}(e,n,i))))}function Tu(t,e,n,i,r){for(;n;)n=Eu(t,e,n,i,r);return n}function Mu(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function Iu(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function Du(t,e,n,i){const{iScale:r}=t,{key:o="r"}=this._parsing,s=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],s[a]={r:r.parse(jl(u,o),c)};return s}const Ru=Number.EPSILON||1e-14,Nu=(t,e)=>e<t.length&&!t[e].skip&&t[e],Ou=t=>"x"===t?"y":"x";function Au(t,e,n,i){const r=t.skip?e:t,o=e,s=n.skip?e:n,a=cc(o,r),l=cc(s,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:o.x-h*(s.x-r.x),y:o.y-h*(s.y-r.y)},next:{x:o.x+d*(s.x-r.x),y:o.y+d*(s.y-r.y)}}}function Lu(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Ou(e),i=t.length,r=Array(i).fill(0),o=Array(i);let s,a,l,c=Nu(t,0);for(s=0;s<i;++s)if(a=l,l=c,c=Nu(t,s+1),l){if(c){const t=c[e]-l[e];r[s]=0!==t?(c[n]-l[n])/t:0}o[s]=a?c?tc(r[s-1])!==tc(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}!function(t,e,n){const i=t.length;let r,o,s,a,l,c=Nu(t,0);for(let u=0;u<i-1;++u)l=c,c=Nu(t,u+1),l&&c&&(ec(e[u],0,Ru)?n[u]=n[u+1]=0:(r=n[u]/e[u],o=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(o,2),a<=9||(s=3/Math.sqrt(a),n[u]=r*s*e[u],n[u+1]=o*s*e[u])))}(t,r,o),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=Ou(n),r=t.length;let o,s,a,l=Nu(t,0);for(let c=0;c<r;++c){if(s=a,a=l,l=Nu(t,c+1),!a)continue;const r=a[n],u=a[i];s&&(o=(r-s[n])/3,a["cp1".concat(n)]=r-o,a["cp1".concat(i)]=u-o*e[c]),l&&(o=(l[n]-r)/3,a["cp2".concat(n)]=r+o,a["cp2".concat(i)]=u+o*e[c])}}(t,o,e)}function Fu(t,e,n){return Math.max(Math.min(t,n),e)}function zu(t,e,n,i,r){let o,s,a,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)Lu(t,r);else{let n=i?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],l=Au(n,a,t[Math.min(o+1,s-(i?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&function(t,e){let n,i,r,o,s,a=Zc(t[0],e);for(n=0,i=t.length;n<i;++n)s=o,o=a,a=n<i-1&&Zc(t[n+1],e),o&&(r=t[n],s&&(r.cp1x=Fu(r.cp1x,e.left,e.right),r.cp1y=Fu(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Fu(r.cp2x,e.left,e.right),r.cp2y=Fu(r.cp2y,e.top,e.bottom)))}(t,n)}function Bu(){return"undefined"!==typeof window&&"undefined"!==typeof document}function ju(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Wu(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const Vu=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const Hu=["top","right","bottom","left"];function Uu(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=Hu[r];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const qu=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function $u(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Vu(n),o="border-box"===r.boxSizing,s=Uu(r,"padding"),a=Uu(r,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:o}=i;let s,a,l=!1;if(qu(r,o,t.target))s=r,a=o;else{const t=e.getBoundingClientRect();s=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:s,y:a,box:l}}(t,n),h=s.left+(u&&a.left),d=s.top+(u&&a.top);let{width:f,height:p}=e;return o&&(f-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}const Yu=t=>Math.round(10*t)/10;function Ku(t,e,n,i){const r=Vu(t),o=Uu(r,"margin"),s=Wu(r.maxWidth,t,"clientWidth")||Kl,a=Wu(r.maxHeight,t,"clientHeight")||Kl,l=function(t,e,n){let i,r;if(void 0===e||void 0===n){const o=t&&ju(t);if(o){const t=o.getBoundingClientRect(),s=Vu(o),a=Uu(s,"border","width"),l=Uu(s,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=Wu(s.maxWidth,o,"clientWidth"),r=Wu(s.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||Kl,maxHeight:r||Kl}}(t,e,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const t=Uu(r,"border","width"),e=Uu(r,"padding");c-=e.width+t.width,u-=e.height+t.height}c=Math.max(0,c-o.width),u=Math.max(0,i?c/i:u-o.height),c=Yu(Math.min(c,s,l.maxWidth)),u=Yu(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Yu(c/2));return(void 0!==e||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=Yu(Math.floor(u*i))),{width:c,height:u}}function Qu(t,e,n){const i=e||1,r=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height="".concat(t.height,"px"),s.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==i||s.height!==r||s.width!==o)&&(t.currentDevicePixelRatio=i,s.height=r,s.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0)}const Gu=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Bu()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(Xg){}return t}();function Xu(t,e){const n=function(t,e){return Vu(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Zu(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Ju(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function th(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},s=Zu(t,r,n),a=Zu(r,o,n),l=Zu(o,e,n),c=Zu(s,a,n),u=Zu(a,l,n);return Zu(c,u,n)}function eh(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function nh(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function ih(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function rh(t){return"angle"===t?{between:dc,compare:uc,normalize:hc}:{between:pc,compare:(t,e)=>t-e,normalize:t=>t}}function oh(t){let{start:e,end:n,count:i,loop:r,style:o}=t;return{start:e%i,end:n%i,loop:r&&(n-e+1)%i===0,style:o}}function sh(t,e,n){if(!n)return[t];const{property:i,start:r,end:o}=n,s=e.length,{compare:a,between:l,normalize:c}=rh(i),{start:u,end:h,loop:d,style:f}=function(t,e,n){const{property:i,start:r,end:o}=n,{between:s,normalize:a}=rh(i),l=e.length;let c,u,{start:h,end:d,loop:f}=t;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&s(a(e[h%l][i]),r,o);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:t.style}}(t,e,n),p=[];let g,m,y,_=!1,v=null;const b=()=>_||l(r,y,g)&&0!==a(r,y),x=()=>!_||0===a(o,g)||l(o,y,g);for(let w=u,C=u;w<=h;++w)m=e[w%s],m.skip||(g=c(m[i]),g!==y&&(_=l(g,r,o),null===v&&b()&&(v=0===a(g,r)?w:C),null!==v&&x()&&(p.push(oh({start:v,end:w,loop:d,count:s,style:f})),v=null),C=w,y=g));return null!==v&&p.push(oh({start:v,end:h,loop:d,count:s,style:f})),p}function ah(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const o=sh(i[r],t.points,e);o.length&&n.push(...o)}return n}function lh(t,e,n,i){return i&&i.setContext&&n?function(t,e,n,i){const r=t._chart.getContext(),o=ch(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,l=n.length,c=[];let u=o,h=e[0].start,d=h;function f(t,e,i,r){const o=a?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=o;for(;n[e%l].skip;)e+=o;t%l!==e%l&&(c.push({start:t%l,end:e%l,loop:i,style:r}),u=r,h=e%l)}}for(const p of e){h=a?h:p.start;let t,e=n[h%l];for(d=h+1;d<=p.end;d++){const o=n[d%l];t=ch(i.setContext(yu(r,{type:"segment",p0:e,p1:o,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:s}))),uh(t,u)&&f(h,d-1,p.loop,u),e=o,u=t}h<d-1&&f(h,d-1,p.loop,u)}return c}(t,e,n,i):e}function ch(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function uh(t,e){if(!e)return!1;const n=[],i=function(t,e){return Dc(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,i)!==JSON.stringify(e,i)}class hh{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],o=e.duration;r.forEach((i=>i({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=xc.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o,s=r.length-1,a=!1;for(;s>=0;--s)o=r[s],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(t),a=!0):(r[s]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var dh=new hh;const fh="transparent",ph={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=Rc(t||fh),r=i.valid&&Rc(e||fh);return r&&r.valid?r.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class gh{constructor(t,e,n,i){const r=e[n];i=mu([t.to,i,r,t.from]);const o=mu([t.from,r,i]);this._active=!0,this._fn=t.fn||ph[t.type||typeof o],this._easing=Ic[t.easing]||Ic.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=mu([t.to,e,i,t.from]),this._from=mu([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,s=this._to;let a;if(this._active=r!==s&&(o||e<n),!this._active)return this._target[i]=s,void this._notify(!0);e<0?this._target[i]=r:(a=e/n%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,s,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class mh{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Sl(t))return;const e=Object.keys(qc.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((i=>{const r=t[i];if(!Sl(r))return;const o={};for(const t of e)o[t]=r[t];(kl(r.properties)&&r.properties||[i]).forEach((t=>{t!==i&&n.has(t)||n.set(t,o)}))}))}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const e=t[i[r]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),s=Date.now();let a;for(a=o.length-1;a>=0;--a){const l=o[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const c=e[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,s);continue}u.cancel()}h&&h.duration?(r[l]=u=new gh(h,t,l,c),i.push(u)):t[l]=c}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(dh.add(this._chart,n),!0):void 0}}function yh(t,e){const n=t&&t.options||{},i=n.reverse,r=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:i?o:r,end:i?r:o}}function _h(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function vh(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.keys,o="single"===i.mode;let s,a,l,c;if(null!==e){for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===n){if(i.all)continue;break}c=t.values[l],El(c)&&(o||0===e||tc(e)===tc(c))&&(e+=c)}return e}}function bh(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function xh(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function wh(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function Ch(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,c=s.axis,u=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(o,s,i),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[c]:o}=t;d=(t._stacks||(t._stacks={}))[c]=xh(r,u,n),d[a]=o,d._top=wh(d,s,!0,i.type),d._bottom=wh(d,s,!1,i.type);(d._visualValues||(d._visualValues={}))[a]=o}}function kh(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Sh(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[n]&&delete e[i]._visualValues[n]}}}const Eh=t=>"reset"===t||"none"===t,Ph=(t,e)=>e?t:Object.assign({},t);class Th{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=bh(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Sh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,r=e.xAxisID=Tl(n.xAxisID,kh(t,"x")),o=e.yAxisID=Tl(n.yAxisID,kh(t,"y")),s=e.rAxisID=Tl(n.rAxisID,kh(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,r,o,s),c=e.vAxisID=i(a,o,r,s);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(s),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&vc(this._data,this),t._stacked&&Sh(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Sl(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:n,vScale:i}=e,r="x"===n.axis?"x":"y",o="x"===i.axis?"x":"y",s=Object.keys(t),a=new Array(s.length);let l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],a[l]={[r]:u,[o]:t[u]};return a}(e,t)}else if(n!==e){if(n){vc(n,this);const t=this._cachedMeta;Sh(t),t._parsed=[]}e&&Object.isExtensible(e)&&(r=this,(i=e)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),_c.forEach((t=>{const e="_onData"+Wl(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];const s=n.apply(this,r);return i._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...r)})),s}})})))),this._syncList=[],this._data=e}var i,r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=bh(e.vScale,e),e.stack!==n.stack&&(i=!0,Sh(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&Ch(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,s=r.axis;let a,l,c,u=0===t&&e===i.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=kl(i[t])?this.parseArrayData(n,i,t,e):Sl(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const r=()=>null===l[s]||h&&l[s]<h[s];for(a=0;a<e;++a)n._parsed[a+t]=l=c[a],u&&(r()&&(u=!1),h=l);n._sorted=u}o&&Ch(this,c)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:o}=t,s=r.axis,a=o.axis,l=r.getLabels(),c=r===o,u=new Array(i);let h,d,f;for(h=0,d=i;h<d;++h)f=h+n,u[h]={[s]:c||r.parse(l[f],f),[a]:o.parse(e[f],f)};return u}parseArrayData(t,e,n,i){const{xScale:r,yScale:o}=t,s=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],s[a]={x:r.parse(u[0],c),y:o.parse(u[1],c)};return s}parseObjectData(t,e,n,i){const{xScale:r,yScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=e[h],l[c]={x:r.parse(jl(d,s),h),y:o.parse(jl(d,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,o=e[t.axis];return vh({keys:_h(i,!0),values:e._stacks[t.axis]._visualValues},o,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let o=null===r?NaN:r;const s=i&&n._stacks[e.axis];i&&s&&(i.values=s,o=vh(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,o=i.length,s=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:_h(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(s);let h,d;function f(){d=i[h];const e=d[s.axis];return!El(d[t.axis])||c>e||u<e}for(h=0;h<o&&(f()||(this.updateRangeFromParsed(l,t,d,a),!r));++h);if(r)for(h=o-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i][t.axis],El(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,i,r;return Sl(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:!1===t}}(Tl(this.options.clip,function(t,e,n){if(!1===n)return!1;const i=yh(t,n),r=yh(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,o=[],s=this._drawStart||0,a=this._drawCount||i.length-s,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,r,s,a),c=s;c<s+a;++c){const e=i[c];e.hidden||(e.active&&l?o.push(e):e.draw(t,r))}for(c=0;c<o.length;++c)o[c].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,n){return yu(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return yu(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===e,r=this._cachedDataOpts,o=t+"-"+e,s=r[o],a=this.enableOptionSharing&&Vl(n);if(s)return Ph(s,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=i?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(qc.elements[t]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,i,e)),u);return f.$shared&&(f.$shared=a,r[o]=Object.freeze(Ph(f,a))),f}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,o="animation-".concat(e),s=r[o];if(s)return s;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,e),o=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(o,this.getContext(t,n,e))}const l=new mh(i,a&&a.animations);return a&&a._cacheable&&(r[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Eh(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:o}}updateElement(t,e,n,i){Eh(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!Eh(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[s,a,l]of this._syncList)this[s](a,l);this._syncList=[];const i=n.length,r=e.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,o=t+e;let s;const a=t=>{for(t.length+=e,s=t.length-1;s>=o;s--)t[s]=t[s-e]};for(a(r),s=t;s<o;++s)r[s]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&Sh(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Mh(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,r=n.length;e<r;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=bc(i.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let i,r,o,s,a=e._length;const l=()=>{32767!==o&&-32768!==o&&(Vl(s)&&(a=Math.min(a,Math.abs(o-s)||a)),s=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),l();for(s=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return a}function Ih(t,e,n,i){return kl(t)?function(t,e,n,i){const r=n.parse(t[0],i),o=n.parse(t[1],i),s=Math.min(r,o),a=Math.max(r,o);let l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:o,min:s,max:a}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Dh(t,e,n,i){const r=t.iScale,o=t.vScale,s=r.getLabels(),a=r===o,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(s[c],c),l.push(Ih(d,h,o,c));return l}function Rh(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Nh(t,e,n,i){let r=e.borderSkipped;const o={};if(!r)return void(t.borderSkipped=o);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:c,bottom:u}=function(t){let e,n,i,r,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:e,top:r,bottom:o}}(t);"middle"===r&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(o[Oh(u,s,a,l)]=!0,r=c)),o[Oh(r,s,a,l)]=!0,t.borderSkipped=o}function Oh(t,e,n,i){var r,o,s;return i?(s=n,t=Ah(t=(r=t)===(o=e)?s:r===s?o:r,n,e)):t=Ah(t,e,n),t}function Ah(t,e,n){return"start"===t?e:"end"===t?n:t}function Lh(t,e,n){let{inflateAmount:i}=e;t.inflateAmount="auto"===i?1===n?.33:0:i}Wa(Th,"defaults",{}),Wa(Th,"datasetElementType",null),Wa(Th,"dataElementType",null);class Fh extends Th{parsePrimitiveData(t,e,n,i){return Dh(t,e,n,i)}parseArrayData(t,e,n,i){return Dh(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?s:a,c="x"===o.axis?s:a,u=[];let h,d,f,p;for(h=n,d=n+i;h<d;++h)p=e[h],f={},f[r.axis]=r.parse(jl(p,l),h),u.push(Ih(jl(p,c),f,o,h));return u}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),o=r._custom,s=Rh(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r="reset"===i,{index:o,_cachedMeta:{vScale:s}}=this,a=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,i);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=r||Cl(e[s.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[s.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||Rh(e._custom)||o===p._top||o===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,t[d].active?"active":i));const m=g.options||t[d].options;Nh(g,m,p,o),Lh(g,m,c.ratio),this.updateElement(t[d],d,g,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=n.options.stacked,o=[],s=t=>{const n=t.controller.getParsed(e),i=n&&n[t.vScale.axis];if(Cl(i)||isNaN(i))return!0};for(const a of i)if((void 0===e||!s(a))&&((!1===r||-1===o.indexOf(a.stack)||void 0===r&&void 0===a.stack)&&o.push(a.stack),a.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=void 0!==e?i.indexOf(e):-1;return-1===r?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,o;for(r=0,o=e.data.length;r<o;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const s=t.barThickness;return{min:s||Mh(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:r,minBarLength:o}}=this,s=r||0,a=this.getParsed(t),l=a._custom,c=Rh(l);let u,h,d=a[e.axis],f=0,p=n?this.applyStack(e,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&tc(d)!==tc(l.barEnd)&&(f=0),f+=d);const g=Cl(r)||c?f:r;let m=e.getPixelForValue(g);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<o){h=function(t,e,n){return 0!==t?tc(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,s)*o,d===s&&(m-=h/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),l=Math.min(t,r),f=Math.max(t,r);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(a._stacks[e.axis]._visualValues[i]=e.getValueForPixel(u)-e.getValueForPixel(m))}if(m===e.getPixelForValue(s)){const t=tc(h)*e.getLineWidthForValue(s)/2;m+=t,h-=t}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,o=Tl(i.maxBarThickness,1/0);let s,a;if(e.grouped){const n=r?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?function(t,e,n,i){const r=e.pixels,o=r[t];let s=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===s&&(s=o-(null===a?e.end-e.start:a-o)),null===a&&(a=o+o-s);const c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:n.barPercentage,start:c}}(t,e,i,n):function(t,e,n,i){const r=n.barThickness;let o,s;return Cl(r)?(o=e.min*n.categoryPercentage,s=n.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:e.pixels[t]-o/2}}(t,e,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);s=l.start+l.chunk*c+l.chunk/2,a=Math.min(o,l.chunk*l.ratio)}else s=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(o,e.min*e.ratio);return{base:s-a/2,head:s+a/2,center:s,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)null===this.getParsed(r)[e.axis]||n[r].hidden||n[r].draw(this._ctx)}}Wa(Fh,"id","bar"),Wa(Fh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Wa(Fh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class zh extends Th{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const r=super.parsePrimitiveData(t,e,n,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+n).radius;return r}parseArrayData(t,e,n,i){const r=super.parseArrayData(t,e,n,i);for(let o=0;o<r.length;o++){const t=e[n+o];r[o]._custom=Tl(t[2],this.resolveDataElementOptions(o+n).radius)}return r}parseObjectData(t,e,n,i){const r=super.parseObjectData(t,e,n,i);for(let o=0;o<r.length;o++){const t=e[n+o];r[o]._custom=Tl(t&&t.r&&+t.r,this.resolveDataElementOptions(o+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,o=this.getParsed(t),s=i.getLabelForValue(o.x),a=r.getLabelForValue(o.y),l=o._custom;return{label:n[t]||"",value:"("+s+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:o,vScale:s}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,i),c=o.axis,u=s.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!r&&this.getParsed(h),d={},f=d[c]=r?o.getPixelForDecimal(.5):o.getPixelForValue(n[c]),p=d[u]=r?s.getBasePixel():s.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,e.active?"active":i),r&&(d.options.radius=0)),this.updateElement(e,h,d,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==e&&(i.radius=0),i.radius+=Tl(n&&n._custom,r),i}}Wa(zh,"id","bubble"),Wa(zh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Wa(zh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Bh extends Th{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,o,s=t=>+n[t];if(Sl(n[t])){const{key:t="value"}=this._parsing;s=e=>+jl(n[e],t)}for(r=t,o=t+e;r<o;++r)i._parsed[r]=s(r)}}_getRotation(){return oc(this.options.rotation-90)}_getCircumference(){return oc(this.options.circumference)}_getRotationExtents(){let t=$l,e=-$l;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),o=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,s=Math.max((Math.min(n.width,n.height)-o)/2,0),a=Math.min((l=this.options.cutout,c=s,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(t,e,n){let i=1,r=1,o=0,s=0;if(e<$l){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(t,e,i)=>dc(t,a,l,!0)?1:Math.max(e,e*n,i,i*n),p=(t,e,i)=>dc(t,a,l,!0)?-1:Math.min(e,e*n,i,i*n),g=f(0,c,h),m=f(Gl,u,d),y=p(ql,c,h),_=p(ql+Gl,u,d);i=(g-y)/2,r=(m-_)/2,o=-(g+y)/2,s=-(m+_)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}(d,h,a),y=(n.width-o)/f,_=(n.height-o)/p,v=Math.max(Math.min(y,_)/2,0),b=Ml(this.options.radius,v),x=(b-Math.max(b*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=m*b,i.total=this.calculateTotal(),this.outerRadius=b-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/$l)}updateElements(t,e,n,i){const r="reset"===i,o=this.chart,s=o.chartArea,a=o.options.animation,l=(s.left+s.right)/2,c=(s.top+s.bottom)/2,u=r&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(e,i);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,r);for(g=e;g<e+n;++g){const e=this._circumference(g,r),n=t[g],o={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:h};p&&(o.options=f||this.resolveDataElementOptions(g,n.active?"active":i)),m+=e,this.updateElement(n,g,o,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const r=t._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?$l*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=Fc(e._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,r,o,s,a;if(!t)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),t=o.data,s=o.controller;break}if(!t)return 0;for(i=0,r=t.length;i<r;++i)a=s.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(Tl(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Wa(Bh,"id","doughnut"),Wa(Bh,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Wa(Bh,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Wa(Bh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,r)=>{const o=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:i,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class jh extends Th{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:s,count:a}=Sc(e,i,o);this._drawStart=s,this._drawCount=a,Ec(e)&&(s=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:l},t),this.updateElements(i,s,a,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:o,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,i),h=o.axis,d=s.axis,{spanGaps:f,segment:p}=this.options,g=ic(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===i,y=e+n,_=t.length;let v=e>0&&this.getParsed(e-1);for(let b=0;b<_;++b){const n=t[b],f=m?n:{};if(b<e||b>=y){f.skip=!0;continue}const _=this.getParsed(b),x=Cl(_[d]),w=f[h]=o.getPixelForValue(_[h],b),C=f[d]=r||x?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,_,a):_[d],b);f.skip=isNaN(w)||isNaN(C)||x,f.stop=b>0&&Math.abs(_[h]-v[h])>g,p&&(f.parsed=_,f.raw=l.data[b]),u&&(f.options=c||this.resolveDataElementOptions(b,n.active?"active":i)),m||this.updateElement(n,b,f,i),v=_}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Wa(jh,"id","line"),Wa(jh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Wa(jh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Wh extends Th{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=Fc(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,n,i){return Du.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),o=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,n,i){const r="reset"===i,o=this.chart,s=o.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*ql;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<e;++h)d+=this._computeAngle(h,i,f);for(h=e;h<e+n;h++){const e=t[h];let n=d,p=d+this._computeAngle(h,i,f),g=o.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,r&&(s.animateScale&&(g=0),s.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":i)};this.updateElement(e,h,m,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?oc(this.resolveDataElementOptions(t,e).angle||n):0}}Wa(Wh,"id","polarArea"),Wa(Wh,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Wa(Wh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,r)=>{const o=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:i,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Vh extends Bh{}Wa(Vh,"id","pie"),Wa(Vh,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Hh extends Th{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return Du.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(n.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:r.length===i.length,options:e};this.updateElement(n,void 0,o,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r=this._cachedMeta.rScale,o="reset"===i;for(let s=e;s<e+n;s++){const e=t[s],n=this.resolveDataElementOptions(s,e.active?"active":i),a=r.getPointPositionForValue(s,this.getParsed(s).r),l=o?r.xCenter:a.x,c=o?r.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(e,s,u,i)}}}Wa(Hh,"id","radar"),Wa(Hh,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Wa(Hh,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Uh extends Th{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,o=this.getParsed(t),s=i.getLabelForValue(o.x),a=r.getLabelForValue(o.y);return{label:n[t]||"",value:"("+s+", "+a+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:o}=Sc(e,n,i);if(this._drawStart=r,this._drawCount=o,Ec(e)&&(r=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:o}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=n;const s=this.resolveDatasetElementOptions(t);s.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:s},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const r="reset"===i,{iScale:o,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),d=o.axis,f=s.axis,{spanGaps:p,segment:g}=this.options,m=ic(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||"none"===i;let _=e>0&&this.getParsed(e-1);for(let v=e;v<e+n;++v){const e=t[v],n=this.getParsed(v),c=y?e:{},p=Cl(n[f]),b=c[d]=o.getPixelForValue(n[d],v),x=c[f]=r||p?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,n,a):n[f],v);c.skip=isNaN(b)||isNaN(x)||p,c.stop=v>0&&Math.abs(n[d]-_[d])>m,g&&(c.parsed=n,c.raw=l.data[v]),h&&(c.options=u||this.resolveDataElementOptions(v,e.active?"active":i)),y||this.updateElement(e,v,c,i),_=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,o)/2}}Wa(Uh,"id","scatter"),Wa(Uh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Wa(Uh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var qh=Object.freeze({__proto__:null,BarController:Fh,BubbleController:zh,DoughnutController:Bh,LineController:jh,PieController:Vh,PolarAreaController:Wh,RadarController:Hh,ScatterController:Uh});function $h(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Yh{static override(t){Object.assign(Yh.prototype,t)}constructor(t){Wa(this,"options",void 0),this.options=t||{}}init(){}formats(){return $h()}parse(){return $h()}format(){return $h()}add(){return $h()}diff(){return $h()}startOf(){return $h()}endOf(){return $h()}}var Kh=Yh;function Qh(t,e,n,i){const{controller:r,data:o,_sorted:s}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&s&&o.length){const t=a._reversePixels?yc:mc;if(!i)return t(o,e,n);if(r._sharedOptions){const i=o[0],r="function"===typeof i.getRange&&i.getRange(e);if(r){const i=t(o,e,n-r),s=t(o,e,n+r);return{lo:i.lo,hi:s.hi}}}}return{lo:0,hi:o.length-1}}function Gh(t,e,n,i,r){const o=t.getSortedVisibleDatasetMetas(),s=n[e];for(let a=0,l=o.length;a<l;++a){const{index:t,data:n}=o[a],{lo:l,hi:c}=Qh(o[a],e,s,r);for(let e=l;e<=c;++e){const r=n[e];r.skip||i(r,t,e)}}}function Xh(t,e,n,i,r){const o=[];if(!r&&!t.isPointInArea(e))return o;return Gh(t,n,e,(function(n,s,a){(r||Zc(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&o.push({element:n,datasetIndex:s,index:a})}),!0),o}function Zh(t,e,n,i,r,o){let s=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const r=e?Math.abs(t.x-i.x):0,o=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}(n);let l=Number.POSITIVE_INFINITY;return Gh(t,n,e,(function(n,c,u){const h=n.inRange(e.x,e.y,r);if(i&&!h)return;const d=n.getCenterPoint(r);if(!(!!o||t.isPointInArea(d))&&!h)return;const f=a(e,d);f<l?(s=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&s.push({element:n,datasetIndex:c,index:u})})),s}function Jh(t,e,n,i,r,o){return o||t.isPointInArea(e)?"r"!==n||i?Zh(t,e,n,i,r,o):function(t,e,n,i){let r=[];return Gh(t,n,e,(function(t,n,o){const{startAngle:s,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=lc(t,{x:e.x,y:e.y});dc(l,s,a)&&r.push({element:t,datasetIndex:n,index:o})})),r}(t,e,n,r):[]}function td(t,e,n,i,r){const o=[],s="x"===n?"inXRange":"inYRange";let a=!1;return Gh(t,n,e,((t,i,l)=>{t[s](e[n],r)&&(o.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,r))})),i&&!a?[]:o}var ed={evaluateInteractionItems:Gh,modes:{index(t,e,n,i){const r=$u(e,t),o=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?Xh(t,r,o,i,s):Jh(t,r,o,!1,i,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,i){const r=$u(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;let a=n.intersect?Xh(t,r,o,i,s):Jh(t,r,o,!1,i,s);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,i)=>Xh(t,$u(e,t),n.axis||"xy",i,n.includeInvisible||!1),nearest(t,e,n,i){const r=$u(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return Jh(t,r,o,n.intersect,i,s)},x:(t,e,n,i)=>td(t,$u(e,t),"x",n.intersect,i),y:(t,e,n,i)=>td(t,$u(e,t),"y",n.intersect,i)}};const nd=["left","top","right","bottom"];function id(t,e){return t.filter((t=>t.pos===e))}function rd(t,e){return t.filter((t=>-1===nd.indexOf(t.pos)&&t.box.axis===e))}function od(t,e){return t.sort(((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function sd(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:r}=n;if(!t||!nd.includes(i))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];const{fullSize:s}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:s&&e.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:s&&e.availableHeight)}return n}function ad(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ld(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function cd(t,e,n,i){const{pos:r,box:o}=n,s=t.maxPadding;if(!Sl(r)){n.size&&(t[r]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?o.height:o.width),n.size=e.size/e.count,t[r]+=n.size}o.getPadding&&ld(s,o.getPadding());const a=Math.max(0,e.outerWidth-ad(s,t,"left","right")),l=Math.max(0,e.outerHeight-ad(s,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function ud(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}return i(t?["left","right"]:["top","bottom"])}function hd(t,e,n,i){const r=[];let o,s,a,l,c,u;for(o=0,s=t.length,c=0;o<s;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,ud(a.horizontal,e));const{same:s,other:h}=cd(e,n,a,i);c|=s&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&hd(r,e,n,i)||u}function dd(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function fd(t,e,n,i){const r=n.padding;let{x:o,y:s}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*c,o=l.size||t.height;Vl(l.start)&&(s=l.start),t.fullSize?dd(t,r.left,s,n.outerWidth-r.right-r.left,o):dd(t,e.left+l.placed,s,i,o),l.start=s,l.placed+=i,s=t.bottom}else{const i=e.h*c,s=l.size||t.width;Vl(l.start)&&(o=l.start),t.fullSize?dd(t,o,r.top,s,n.outerHeight-r.bottom-r.top):dd(t,o,e.top+l.placed,s,i),l.start=o,l.placed+=i,o=t.right}}e.x=o,e.y=s}var pd={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=pu(t.options.layout.padding),o=Math.max(e-r.width,0),s=Math.max(n-r.height,0),a=function(t){const e=function(t){const e=[];let n,i,r,o,s,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],({position:o,options:{stack:s,stackWeight:a=1}}=r),e.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e}(t),n=od(e.filter((t=>t.box.fullSize)),!0),i=od(id(e,"left"),!0),r=od(id(e,"right")),o=od(id(e,"top"),!0),s=od(id(e,"bottom")),a=rd(e,"x"),l=rd(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:id(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}(t.boxes),l=a.vertical,c=a.horizontal;Dl(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),d=Object.assign({},r);ld(d,pu(i));const f=Object.assign({maxPadding:d,w:o,h:s,x:r.left,y:r.top},r),p=sd(l.concat(c),h);hd(a.fullSize,f,h,p),hd(l,f,h,p),hd(c,f,h,p)&&hd(l,f,h,p),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),fd(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,fd(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Dl(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class gd{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class md extends gd{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const yd="$chartjs",_d={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vd=t=>null===t||""===t;const bd=!!Gu&&{passive:!0};function xd(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,bd)}function wd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Cd(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||wd(n.addedNodes,i),e=e&&!wd(n.removedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function kd(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||wd(n.removedNodes,i),e=e&&!wd(n.addedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const Sd=new Map;let Ed=0;function Pd(){const t=window.devicePixelRatio;t!==Ed&&(Ed=t,Sd.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Td(t,e,n){const i=t.canvas,r=i&&ju(i);if(!r)return;const o=wc(((t,e)=>{const i=r.clientWidth;n(t,e),i<r.clientWidth&&n()}),window),s=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||o(n,i)}));return s.observe(r),function(t,e){Sd.size||window.addEventListener("resize",Pd),Sd.set(t,e)}(t,o),s}function Md(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Sd.delete(t),Sd.size||window.removeEventListener("resize",Pd)}(t)}function Id(t,e,n){const i=t.canvas,r=wc((e=>{null!==t.ctx&&n(function(t,e){const n=_d[t.type]||t.type,{x:i,y:r}=$u(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}(e,t))}),t);return function(t,e,n){t&&t.addEventListener(e,n,bd)}(i,e,r),r}class Dd extends gd{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[yd]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",vd(r)){const e=Xu(t,"width");void 0!==e&&(t.width=e)}if(vd(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Xu(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[yd])return!1;const n=e[yd].initial;["height","width"].forEach((t=>{const i=n[t];Cl(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e[yd],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:Cd,detach:kd,resize:Td}[e]||Id;i[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:Md,detach:Md,resize:Md}[e]||xd)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return Ku(t,e,n,i)}isAttached(t){const e=t&&ju(t);return!(!e||!e.isConnected)}}class Rd{constructor(){Wa(this,"x",void 0),Wa(this,"y",void 0),Wa(this,"active",!1),Wa(this,"options",void 0),Wa(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return ic(this.x)&&ic(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach((t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),i}}function Nd(t,e){const n=t.options.ticks,i=function(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}(t),r=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(e):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>r)return function(t,e,n,i){let r,o=0,s=n[0];for(i=Math.ceil(i),r=0;r<t.length;r++)r===s&&(e.push(t[r]),o++,s=n[o*i])}(e,c,o,s/r),c;const u=function(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),r=e.length/n;if(!i)return Math.max(r,1);const o=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(i);for(let s=0,a=o.length-1;s<a;s++){const t=o[s];if(t>r)return t}return Math.max(r,1)}(o,e,r);if(s>0){let t,n;const i=s>1?Math.round((l-a)/(s-1)):null;for(Od(e,c,u,Cl(i)?0:a-i,a),t=0,n=s-1;t<n;t++)Od(e,c,u,o[t],o[t+1]);return Od(e,c,u,l,Cl(i)?e.length:l+i),c}return Od(e,c,u),c}function Od(t,e,n,i,r){const o=Tl(i,0),s=Math.min(Tl(r,t.length),t.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=o;c<0;)u++,c=Math.round(o+u*n);for(l=Math.max(o,0);l<s;l++)l===c&&(e.push(t[l]),u++,c=Math.round(o+u*n))}Wa(Rd,"defaults",{}),Wa(Rd,"defaultRoutes",void 0);const Ad=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,Ld=(t,e)=>Math.min(e||t,t);function Fd(t,e){const n=[],i=t.length/e,r=t.length;let o=0;for(;o<r;o+=i)n.push(t[Math.floor(o)]);return n}function zd(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),o=t._startPixel,s=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-o,s-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<o-a||c>s+a)))return c}function Bd(t){return t.drawTicks?t.tickLength:0}function jd(t,e){if(!t.display)return 0;const n=gu(t.font,e),i=pu(t.padding);return(kl(t.text)?t.text.length:1)*n.lineHeight+i.height}function Wd(t,e,n){let i=Cc(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class Vd extends Rd{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=Pl(t,Number.POSITIVE_INFINITY),e=Pl(e,Number.NEGATIVE_INFINITY),n=Pl(n,Number.POSITIVE_INFINITY),i=Pl(i,Number.NEGATIVE_INFINITY),{min:Pl(t,n),max:Pl(e,i),minDefined:El(t),maxDefined:El(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:n,max:i};const s=this.getMatchingVisibleMetas();for(let a=0,l=s.length;a<l;++a)e=s[a].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),o||(i=Math.max(i,e.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:Pl(n,Pl(i,n)),max:Pl(i,Pl(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Il(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:i,max:r}=t,o=Ml(e,(r-i)/2),s=(t,e)=>n&&0===t?0:t+e;return{min:s(i,-Math.abs(o)),max:s(r,o)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=s<this.ticks.length;this._convertTicksToLabels(a?Fd(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=Nd(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Il(this.options.afterUpdate,[this])}beforeSetDimensions(){Il(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Il(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Il(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Il(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=Il(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){Il(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Il(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=Ld(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let o,s,a,l=i;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=fc(this.chart.width-u,0,this.maxWidth);o=t.offset?this.maxWidth/n:d/(n-1),u+6>o&&(o=d/(n-(t.offset?.5:1)),s=this.maxHeight-Bd(t.grid)-e.padding-jd(t.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=sc(Math.min(Math.asin(fc((c.highest.height+6)/o,-1,1)),Math.asin(fc(s/a,-1,1))-Math.asin(fc(h/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Il(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Il(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const o=jd(i,e.options.font);if(s?(t.width=this.maxWidth,t.height=Bd(r)+o):(t.height=this.maxHeight,t.width=Bd(r)+o),n.display&&this.ticks.length){const{first:e,last:i,widest:r,highest:o}=this._getLabelSizes(),a=2*n.padding,l=oc(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){const e=n.mirror?0:u*r.width+c*o.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:c*r.width+u*o.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,u,c)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:o},position:s}=this.options,a=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*t.width,h=n*e.height):(u=n*t.height,h=i*e.width):"start"===r?h=e.width:"end"===r?u=t.width:"inner"!==r&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-s+o)*this.width/(this.width-s),0),this.paddingRight=Math.max((h-c+o)*this.width/(this.width-c),0)}else{let n=e.height/2,i=t.height/2;"start"===r?(n=0,i=t.height):"end"===r&&(n=e.height,i=0),this.paddingTop=n+o,this.paddingBottom=i+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Il(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Cl(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Fd(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:r}=this,o=[],s=[],a=Math.floor(e/Ld(e,n));let l,c,u,h,d,f,p,g,m,y,_,v=0,b=0;for(l=0;l<e;l+=a){if(h=t[l].label,d=this._resolveTickFontOptions(l),i.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},g=d.lineHeight,m=y=0,Cl(h)||kl(h)){if(kl(h))for(c=0,u=h.length;c<u;++c)_=h[c],Cl(_)||kl(_)||(m=$c(i,p.data,p.gc,m,_),y+=g)}else m=$c(i,p.data,p.gc,m,h),y=g;o.push(m),s.push(y),v=Math.max(m,v),b=Math.max(y,b)}!function(t,e){Dl(t,(t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}}))}(r,e);const x=o.indexOf(v),w=s.indexOf(b),C=t=>({width:o[t]||0,height:s[t]||0});return{first:C(0),last:C(e-1),widest:C(x),highest:C(w),widths:o,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return fc(this._alignToPixels?Kc(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return yu(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=yu(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=oc(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,s=r?r.widest.width+o:0,a=r?r.highest.height+o:0;return this.isHorizontal()?a*n>s*i?s/n:a/i:a*i<s*n?a/n:s/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:s}=i,a=r.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=Bd(r),h=[],d=s.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(t){return Kc(n,t,f)};let m,y,_,v,b,x,w,C,k,S,E,P;if("top"===o)m=g(this.bottom),x=this.bottom-u,C=m-p,S=g(t.top)+p,P=t.bottom;else if("bottom"===o)m=g(this.top),S=t.top,P=g(t.bottom)-p,x=m+p,C=this.top+u;else if("left"===o)m=g(this.right),b=this.right-u,w=m-p,k=g(t.left)+p,E=t.right;else if("right"===o)m=g(this.left),k=t.left,E=g(t.right)-p,b=m+p,w=this.left+u;else if("x"===e){if("center"===o)m=g((t.top+t.bottom)/2+.5);else if(Sl(o)){const t=Object.keys(o)[0],e=o[t];m=g(this.chart.scales[t].getPixelForValue(e))}S=t.top,P=t.bottom,x=m+p,C=x+u}else if("y"===e){if("center"===o)m=g((t.left+t.right)/2);else if(Sl(o)){const t=Object.keys(o)[0],e=o[t];m=g(this.chart.scales[t].getPixelForValue(e))}b=m-p,w=b-u,k=t.left,E=t.right}const T=Tl(i.ticks.maxTicksLimit,c),M=Math.max(1,Math.ceil(c/T));for(y=0;y<c;y+=M){const t=this.getContext(y),e=r.setContext(t),i=s.setContext(t),o=e.lineWidth,c=e.color,u=i.dash||[],d=i.dashOffset,f=e.tickWidth,p=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;_=zd(this,y,a),void 0!==_&&(v=Kc(n,_,o),l?b=w=k=E=v:x=C=S=P=v,h.push({tx1:b,ty1:x,tx2:w,ty2:C,x1:k,y1:S,x2:E,y2:P,width:o,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),s=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,h=Bd(n.grid),d=h+c,f=u?-c:d,p=-oc(this.labelRotation),g=[];let m,y,_,v,b,x,w,C,k,S,E,P,T="middle";if("top"===i)x=this.bottom-f,w=this._getXAxisLabelAlignment();else if("bottom"===i)x=this.top+f,w=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(h);w=t.textAlign,b=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(h);w=t.textAlign,b=t.x}else if("x"===e){if("center"===i)x=(t.top+t.bottom)/2+d;else if(Sl(i)){const t=Object.keys(i)[0],e=i[t];x=this.chart.scales[t].getPixelForValue(e)+d}w=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)b=(t.left+t.right)/2-d;else if(Sl(i)){const t=Object.keys(i)[0],e=i[t];b=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?T="top":"end"===a&&(T="bottom"));const M=this._getLabelSizes();for(m=0,y=s.length;m<y;++m){_=s[m],v=_.label;const t=r.setContext(this.getContext(m));C=this.getPixelForTick(m)+r.labelOffset,k=this._resolveTickFontOptions(m),S=k.lineHeight,E=kl(v)?v.length:1;const e=E/2,n=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,d=w;if(o?(b=C,"inner"===w&&(d=m===y-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),P="top"===i?"near"===l||0!==p?-E*S+S/2:"center"===l?-M.highest.height/2-e*S+S:-M.highest.height+S/2:"near"===l||0!==p?S/2:"center"===l?M.highest.height/2-e*S:M.highest.height-E*S,u&&(P*=-1),0===p||t.showLabelBackdrop||(b+=S/2*Math.sin(p))):(x=C,P=(1-E)*S/2),t.showLabelBackdrop){const e=pu(t.backdropPadding),n=M.heights[m],i=M.widths[m];let r=P-e.top,o=0-e.left;switch(T){case"middle":r-=n/2;break;case"bottom":r-=n}switch(w){case"center":o-=i/2;break;case"right":o-=i;break;case"inner":m===y-1?o-=i:m>0&&(o-=i/2)}h={left:o,top:r,width:i+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:v,font:k,textOffset:P,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:T,translation:[b,x],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-oc(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=t+r,s=this._getLabelSizes().widest.width;let a,l;return"left"===e?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l+=s)):(l=this.right-o,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l=this.left)):"right"===e?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l-=s)):(l=this.left+o,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const s=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,o=i.length;r<o;++r){const t=i[r];e.drawOnChartArea&&s({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&s({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const s=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=Kc(t,this.left,o)-o/2,c=Kc(t,this.right,s)+s/2,u=h=a):(u=Kc(t,this.top,o)-o/2,h=Kc(t,this.bottom,s)+s/2,l=c=a),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&Jc(e,n);const i=this.getLabelItems(t);for(const r of i){const t=r.options,n=r.font;ou(e,r.label,0,r.textOffset,n,t)}n&&tu(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=gu(n.font),o=pu(n.padding),s=n.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||Sl(e)?(a+=o.bottom,kl(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=o.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,i){const{top:r,left:o,bottom:s,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=s-r,m=a-o;if(t.isHorizontal()){if(d=kc(i,o,a),Sl(n)){const t=Object.keys(n)[0],i=n[t];f=u[t].getPixelForValue(i)+g-e}else f="center"===n?(c.bottom+c.top)/2+g-e:Ad(t,n,e);h=a-o}else{if(Sl(n)){const t=Object.keys(n)[0],i=n[t];d=u[t].getPixelForValue(i)-m+e}else d="center"===n?(c.left+c.right)/2-m+e:Ad(t,n,e);f=kc(i,s,r),p="left"===n?-Gl:Gl}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,e,s);ou(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:Wd(s,e,i),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=Tl(t.grid&&t.grid.z,-1),i=Tl(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Vd.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=e.length;r<o;++r){const o=e[r];o[n]!==this.id||t&&o.type!==t||i.push(o)}return i}_resolveTickFontOptions(t){return gu(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Hd{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,function(t,e,n){const i=Ll(Object.create(null),[n?qc.get(n):{},qc.get(e),t.defaults]);qc.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const i=n.split("."),r=i.pop(),o=[t].concat(i).join("."),s=e[n].split("."),a=s.pop(),l=s.join(".");qc.route(o,r,l,a)}))}(e,t.defaultRoutes);t.descriptors&&qc.describe(e,t.descriptors)}(t,o,n),this.override&&qc.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in qc[i]&&(delete qc[i][n],this.override&&delete jc[n])}}class Ud{constructor(){this.controllers=new Hd(Th,"datasets",!0),this.elements=new Hd(Rd,"elements"),this.plugins=new Hd(Object,"plugins"),this.scales=new Hd(Vd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):Dl(e,(e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,n){const i=Wl(t);Il(n["before"+i],[],n),e[t](n),Il(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var qd=new Ud;class $d{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,i){i=i||{};for(const r of t){const t=r.plugin;if(!1===Il(t[n],[e,i,r.options],t)&&i.cancelable)return!1}return!0}invalidate(){Cl(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=Tl(n.options&&n.options.plugins,{}),r=function(t){const e={},n=[],i=Object.keys(qd.plugins.items);for(let o=0;o<i.length;o++)n.push(qd.getPlugin(i[o]));const r=t.plugins||[];for(let o=0;o<r.length;o++){const t=r[o];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==i||e?function(t,e,n,i){let{plugins:r,localIds:o}=e;const s=[],a=t.getContext();for(const l of r){const e=l.id,r=Yd(n[e],i);null!==r&&s.push({plugin:l,options:Kd(t.config,{plugin:l,local:o[e]},r,a)})}return s}(t,r,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function Yd(t,e){return e||!1!==t?!0===t?{}:t:null}function Kd(t,e,n,i){let{plugin:r,local:o}=e;const s=t.pluginScopeKeys(r),a=t.getOptionScopes(n,s);return o&&r.defaults&&a.push(r.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qd(t,e){const n=qc.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Gd(t){if("x"===t||"y"===t||"r"===t)return t}function Xd(t){if(Gd(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const o of n){const e=o.axis||("top"===(r=o.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||t.length>1&&Gd(t[0].toLowerCase());if(e)return e}var r;throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function Zd(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Jd(t,e){const n=jc[t.type]||{scales:{}},i=e.scales||{},r=Qd(t.type,e),o=Object.create(null);return Object.keys(i).forEach((e=>{const s=i[e];if(!Sl(s))return console.error("Invalid scale configuration for scale: ".concat(e));if(s._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const a=Xd(e,s,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return Zd(t,"x",n[0])||Zd(t,"y",n[0])}return{}}(e,t),qc.scales[s.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,r),c=n.scales||{};o[e]=Fl(Object.create(null),[{axis:a},s,c[a],c[l]])})),t.data.datasets.forEach((n=>{const r=n.type||t.type,s=n.indexAxis||Qd(r,e),a=(jc[r]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,s),r=n[e+"AxisID"]||e;o[r]=o[r]||Object.create(null),Fl(o[r],[{axis:e},i[r],a[t]])}))})),Object.keys(o).forEach((t=>{const e=o[t];Fl(e,[qc.scales[e.type],qc.scale])})),o}function tf(t){const e=t.options||(t.options={});e.plugins=Tl(e.plugins,{}),e.scales=Jd(t,e)}function ef(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const nf=new Map,rf=new Set;function of(t,e){let n=nf.get(t);return n||(n=e(),nf.set(t,n),rf.add(n)),n}const sf=(t,e,n)=>{const i=jl(e,n);void 0!==i&&t.add(i)};class af{constructor(t){this._config=function(t){return(t=t||{}).data=ef(t.data),tf(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ef(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),tf(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return of(t,(()=>[["datasets.".concat(t),""]]))}datasetAnimationScopeKeys(t,e){return of("".concat(t,".transition.").concat(e),(()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]))}datasetElementScopeKeys(t,e){return of("".concat(t,"-").concat(e),(()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return of("".concat(n,"-plugin-").concat(e),(()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,o=this._cachedScopes(t,n),s=o.get(e);if(s)return s;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>sf(a,t,e)))),e.forEach((t=>sf(a,i,t))),e.forEach((t=>sf(a,jc[r]||{},t))),e.forEach((t=>sf(a,qc,t))),e.forEach((t=>sf(a,Wc,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),rf.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,jc[e]||{},qc.datasets[e]||{},{type:e},qc,Wc]}resolveNamedOptions(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:o,subPrefixes:s}=lf(this._resolverCache,t,i);let a=o;if(function(t,e){const{isScriptable:n,isIndexable:i}=bu(t);for(const r of e){const e=n(r),o=i(r),s=(o||e)&&t[r];if(e&&(Hl(s)||cf(s))||o&&kl(s))return!0}return!1}(o,e)){r.$shared=!1;a=vu(o,n=Hl(n)?n():n,this.createResolver(t,n,s))}for(const l of e)r[l]=a[l];return r}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=lf(this._resolverCache,t,n);return Sl(e)?vu(r,e,void 0,i):r}}function lf(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let o=i.get(r);if(!o){o={resolver:_u(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},i.set(r,o)}return o}const cf=t=>Sl(t)&&Object.getOwnPropertyNames(t).some((e=>Hl(t[e])));const uf=["top","bottom","left","right","chartArea"];function hf(t,e){return"top"===t||"bottom"===t||-1===uf.indexOf(t)&&"x"===e}function df(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function ff(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Il(n&&n.onComplete,[t],e)}function pf(t){const e=t.chart,n=e.options.animation;Il(n&&n.onProgress,[t],e)}function gf(t){return Bu()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const mf={},yf=t=>{const e=gf(t);return Object.values(mf).filter((t=>t.canvas===e)).pop()};function _f(t,e,n){const i=Object.keys(t);for(const r of i){const i=+r;if(i>=e){const o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function vf(t,e,n){return t.options.clip?t[n]:e[n]}class bf{static register(){qd.add(...arguments),xf()}static unregister(){qd.remove(...arguments),xf()}constructor(t,e){const n=this.config=new af(e),i=gf(t),r=yf(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!Bu()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?md:Dd}(i)),this.platform.updateConfig(n);const s=this.platform.acquireContext(i,o.aspectRatio),a=s&&s.canvas,l=a&&a.height,c=a&&a.width;this.id=wl(),this.ctx=s,this.canvas=a,this.width=c,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $d,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}((t=>this.update(t)),o.resizeDelay||0),this._dataChanges=[],mf[this.id]=this,s&&a?(dh.listen(this,"complete",ff),dh.listen(this,"progress",pf),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return Cl(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return qd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Qu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qc(this.canvas,this.ctx),this}stop(){return dh.stop(this),this}resize(t,e){dh.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,e,r),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Qu(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),Il(n.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){Dl(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const n=e[t],i=Xd(t,n),r="r"===i,o="x"===i;return{options:n,dposition:r?"chartArea":o?"bottom":"left",dtype:r?"radialLinear":o?"category":"linear"}})))),Dl(r,(e=>{const r=e.options,o=r.id,s=Xd(o,r),a=Tl(r.type,e.dtype);void 0!==r.position&&hf(r.position,s)===hf(e.dposition)||(r.position=e.dposition),i[o]=!0;let l=null;if(o in n&&n[o].type===a)l=n[o];else{l=new(qd.getScale(a))({id:o,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,t)})),Dl(i,((t,e)=>{t||delete n[e]})),Dl(n,(t=>{pd.configure(this,t,t.options),pd.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(df("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let r=this.getDatasetMeta(n);const o=i.type||this.config.type;if(r.type&&r.type!==o&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=o,r.indexAxis=i.indexAxis||Qd(o,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const e=qd.getController(o),{datasetElementType:i,dataElementType:s}=qc.datasets[o];Object.assign(e,{dataElementType:qd.getElement(s),datasetElementType:i&&qd.getElement(i)}),r.controller=new e(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){Dl(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(e),o=Math.max(+t.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Dl(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(df("z","_idx"));const{_active:s,_lastEvent:a}=this;a?this._eventHandler(a,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Dl(this.scales,(t=>{pd.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);Ul(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e){_f(t,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=n(0);for(let r=1;r<e;r++)if(!Ul(i,n(r)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;pd.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],Dl(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,Hl(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(dh.has(this)?this.attached&&!dh.running(this)&&dh.start(this):(this.draw(),ff({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const r=e[i];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,r=function(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:vf(n,e,"left"),right:vf(n,e,"right"),top:vf(i,e,"top"),bottom:vf(i,e,"bottom")}:e}(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(i&&Jc(e,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),t.controller.draw(),i&&tu(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Zc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=ed.modes[e];return"function"===typeof r?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=yu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);Vl(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(r,{visible:n}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),dh.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Qc(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete mf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};Dl(this.options.events,(t=>n(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const s=()=>{i("attach",s),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",s)},e.isAttached(this.canvas)?s():o()}unbindEvents(){Dl(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},Dl(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,o,s,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),s=0,a=t.length;s<a;++s){o=t[s];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[n],index:n}}));!Rl(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=r(e,t),s=n?t:r(t,e);o.length&&this.updateHoverStyle(o,i.mode,!1),s.length&&i.mode&&this.updateHoverStyle(s,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,o=e,s=this._getActiveElements(t,i,n,o),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,Il(r.onHover,[t,s,this],this),a&&Il(r.onClick,[t,s,this],this));const c=!Rl(s,i);return(c||e)&&(this._active=s,this._updateHoverStyles(s,i,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function xf(){return Dl(bf.instances,(t=>t._plugins.invalidate()))}function wf(t,e,n,i){const r=hu(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const o=(n-e)/2,s=Math.min(o,i*e/2),a=t=>{const e=(n-Math.min(o,t))*i/2;return fc(t,0,Math.min(o,e))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:fc(r.innerStart,0,s),innerEnd:fc(r.innerEnd,0,s)}}function Cf(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function kf(t,e,n,i,r,o){const{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const t=((u>0?u-i:0)+(h>0?h-i:0))/2;f=(p-(0!==t?p*t/(t+i):p))/2}const g=(p-Math.max(.001,p*h-n/ql)/h)/2,m=l+g+f,y=r-g-f,{outerStart:_,outerEnd:v,innerStart:b,innerEnd:x}=wf(e,d,h,y-m),w=h-_,C=h-v,k=m+_/w,S=y-v/C,E=d+b,P=d+x,T=m+b/E,M=y-x/P;if(t.beginPath(),o){const e=(k+S)/2;if(t.arc(s,a,h,k,e),t.arc(s,a,h,e,S),v>0){const e=Cf(C,S,s,a);t.arc(e.x,e.y,v,S,y+Gl)}const n=Cf(P,y,s,a);if(t.lineTo(n.x,n.y),x>0){const e=Cf(P,M,s,a);t.arc(e.x,e.y,x,y+Gl,M+Math.PI)}const i=(y-x/d+(m+b/d))/2;if(t.arc(s,a,d,y-x/d,i,!0),t.arc(s,a,d,i,m+b/d,!0),b>0){const e=Cf(E,T,s,a);t.arc(e.x,e.y,b,T+Math.PI,m-Gl)}const r=Cf(w,m,s,a);if(t.lineTo(r.x,r.y),_>0){const e=Cf(w,k,s,a);t.arc(e.x,e.y,_,m-Gl,k)}}else{t.moveTo(s,a);const e=Math.cos(k)*h+s,n=Math.sin(k)*h+a;t.lineTo(e,n);const i=Math.cos(S)*h+s,r=Math.sin(S)*h+a;t.lineTo(i,r)}t.closePath()}function Sf(t,e,n,i,r){const{fullCircles:o,startAngle:s,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=d,f?(t.lineWidth=2*c,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(o){kf(t,e,n,i,p,r);for(let e=0;e<o;++e)t.stroke();isNaN(a)||(p=s+(a%$l||$l))}f&&function(t,e,n){const{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(o,s,a,i-c,n+c),l>r?(c=r/l,t.arc(o,s,l,n+c,i-c,!0)):t.arc(o,s,r,n+Gl,i-Gl),t.closePath(),t.clip()}(t,e,p),o||(kf(t,e,n,i,p,r),t.stroke())}Wa(bf,"defaults",qc),Wa(bf,"instances",mf),Wa(bf,"overrides",jc),Wa(bf,"registry",qd),Wa(bf,"version","4.4.3"),Wa(bf,"getChart",yf);class Ef extends Rd{constructor(t){super(),Wa(this,"circumference",void 0),Wa(this,"endAngle",void 0),Wa(this,"fullCircles",void 0),Wa(this,"innerRadius",void 0),Wa(this,"outerRadius",void 0),Wa(this,"pixelMargin",void 0),Wa(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:o}=lc(i,{x:t,y:e}),{startAngle:s,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=Tl(u,a-s)>=$l||dc(r,s,a),f=pc(o,l+h,c+h);return d&&f}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,c=(i+r)/2,u=(o+s+l+a)/2;return{x:e+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>$l?Math.floor(n/$l):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const s=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(s)*i,Math.sin(s)*i);const a=i*(1-Math.sin(Math.min(ql,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,i,r){const{fullCircles:o,startAngle:s,circumference:a}=e;let l=e.endAngle;if(o){kf(t,e,n,i,l,r);for(let e=0;e<o;++e)t.fill();isNaN(a)||(l=s+(a%$l||$l))}kf(t,e,n,i,l,r),t.fill()}(t,this,a,r,o),Sf(t,this,a,r,o),t.restore()}}function Pf(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=Tl(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Tl(n.borderDash,e.borderDash)),t.lineDashOffset=Tl(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Tl(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Tl(n.borderWidth,e.borderWidth),t.strokeStyle=Tl(n.borderColor,e.borderColor)}function Tf(t,e,n){t.lineTo(n.x,n.y)}function Mf(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.length,{start:r=0,end:o=i-1}=n,{start:s,end:a}=e,l=Math.max(r,s),c=Math.min(o,a),u=r<s&&o<s||r>a&&o>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function If(t,e,n,i){const{points:r,options:o}=e,{count:s,start:a,loop:l,ilen:c}=Mf(r,n,i),u=function(t){return t.stepped?eu:t.tension||"monotone"===t.cubicInterpolationMode?nu:Tf}(o);let h,d,f,{move:p=!0,reverse:g}=i||{};for(h=0;h<=c;++h)d=r[(a+(g?c-h:h))%s],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):u(t,f,d,g,o.stepped),f=d);return l&&(d=r[(a+(g?c:0))%s],u(t,f,d,g,o.stepped)),!!l}function Df(t,e,n,i){const r=e.points,{count:o,start:s,ilen:a}=Mf(r,n,i),{move:l=!0,reverse:c}=i||{};let u,h,d,f,p,g,m=0,y=0;const _=t=>(s+(c?a-t:t))%o,v=()=>{f!==p&&(t.lineTo(m,p),t.lineTo(m,f),t.lineTo(m,g))};for(l&&(h=r[_(0)],t.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=r[_(u)],h.skip)continue;const e=h.x,n=h.y,i=0|e;i===d?(n<f?f=n:n>p&&(p=n),m=(y*m+e)/++y):(v(),t.lineTo(e,n),d=i,y=0,f=p=n),g=n}v()}function Rf(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?Df:If}Wa(Ef,"id","arc"),Wa(Ef,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Wa(Ef,"defaultRoutes",{backgroundColor:"backgroundColor"}),Wa(Ef,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const Nf="function"===typeof Path2D;function Of(t,e,n,i){Nf&&!e.options.segment?function(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),Pf(t,e.options),t.stroke(r)}(t,e,n,i):function(t,e,n,i){const{segments:r,options:o}=e,s=Rf(e);for(const a of r)Pf(t,o,a.style),t.beginPath(),s(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}(t,e,n,i)}class Af extends Rd{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;zu(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const o=!!t._loop,{start:s,end:a}=function(t,e,n,i){let r=0,o=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}(n,r,o,i);return lh(t,!0===i?[{start:s,end:a,loop:o}]:function(t,e,n,i){const r=t.length,o=[];let s,a=e,l=t[e];for(s=e+1;s<=n;++s){const n=t[s%r];n.skip||n.stop?l.skip||(i=!1,o.push({start:e%r,end:(s-1)%r,loop:i}),e=a=n.stop?s:null):(a=s,l.skip&&(e=s)),l=n}return null!==a&&o.push({start:e%r,end:a%r,loop:i}),o}(n,s,a<s?a+r:a,!!t._fullLoop&&0===s&&a===r-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],r=this.points,o=ah(this,{property:e,start:i,end:i});if(!o.length)return;const s=[],a=function(t){return t.stepped?Ju:t.tension||"monotone"===t.cubicInterpolationMode?th:Zu}(n);let l,c;for(l=0,c=o.length;l<c;++l){const{start:c,end:u}=o[l],h=r[c],d=r[u];if(h===d){s.push(h);continue}const f=a(h,d,Math.abs((i-h[e])/(d[e]-h[e])),n.stepped);f[e]=t[e],s.push(f)}return 1===s.length?s[0]:s}pathSegment(t,e,n){return Rf(this)(t,this,e,n)}path(t,e,n){const i=this.segments,r=Rf(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const s of i)o&=r(t,this,s,{start:e,end:e+n-1});return!!o}draw(t,e,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),Of(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Lf(t,e,n,i){const r=t.options,{[n]:o}=t.getProps([n],i);return Math.abs(e-o)<r.radius+r.hitRadius}Wa(Af,"id","line"),Wa(Af,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Wa(Af,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Wa(Af,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class Ff extends Rd{constructor(t){super(),Wa(this,"parsed",void 0),Wa(this,"skip",void 0),Wa(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return Lf(this,t,"x",e)}inYRange(t,e){return Lf(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!Zc(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Gc(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function zf(t,e){const{x:n,y:i,base:r,width:o,height:s}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=s/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=o/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Bf(t,e,n,i){return t?0:fc(e,n,i)}function jf(t){const e=zf(t),n=e.right-e.left,i=e.bottom-e.top,r=function(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,o=du(i);return{t:Bf(r.top,o.top,0,n),r:Bf(r.right,o.right,0,e),b:Bf(r.bottom,o.bottom,0,n),l:Bf(r.left,o.left,0,e)}}(t,n/2,i/2),o=function(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=fu(r),s=Math.min(e,n),a=t.borderSkipped,l=i||Sl(r);return{topLeft:Bf(!l||a.top||a.left,o.topLeft,0,s),topRight:Bf(!l||a.top||a.right,o.topRight,0,s),bottomLeft:Bf(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Bf(!l||a.bottom||a.right,o.bottomRight,0,s)}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Wf(t,e,n,i){const r=null===e,o=null===n,s=t&&!(r&&o)&&zf(t,i);return s&&(r||pc(e,s.left,s.right))&&(o||pc(n,s.top,s.bottom))}function Vf(t,e){t.rect(e.x,e.y,e.w,e.h)}function Hf(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,s=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+o,h:t.h+s,radius:t.radius}}Wa(Ff,"id","point"),Wa(Ff,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Wa(Ff,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Uf extends Rd{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:o}=jf(this),s=(a=o.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?su:Vf;var a;t.save(),o.w===r.w&&o.h===r.h||(t.beginPath(),s(t,Hf(o,e,r)),t.clip(),s(t,Hf(r,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),s(t,Hf(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return Wf(this,t,e,n)}inXRange(t,e){return Wf(this,t,null,e)}inYRange(t,e){return Wf(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Wa(Uf,"id","bar"),Wa(Uf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Wa(Uf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var qf=Object.freeze({__proto__:null,ArcElement:Ef,BarElement:Uf,LineElement:Af,PointElement:Ff});const $f=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Yf=$f.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function Kf(t){return $f[t%$f.length]}function Qf(t){return Yf[t%Yf.length]}function Gf(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof Bh?e=function(t,e){return t.backgroundColor=t.data.map((()=>Kf(e++))),e}(n,e):r instanceof Wh?e=function(t,e){return t.backgroundColor=t.data.map((()=>Qf(e++))),e}(n,e):r&&(e=function(t,e){return t.borderColor=Kf(e),t.backgroundColor=Qf(e),++e}(n,e))}}function Xf(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var Zf={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:o}=r;if(!n.forceOverride&&(Xf(i)||(s=r)&&(s.borderColor||s.backgroundColor)||o&&Xf(o)))return;var s;const a=Gf(t);i.forEach(a)}};function Jf(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function tp(t){t.data.datasets.forEach((t=>{Jf(t)}))}var ep={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void tp(t);const i=t.width;t.data.datasets.forEach(((e,r)=>{const{_data:o,indexAxis:s}=e,a=t.getDatasetMeta(r),l=o||e.data;if("y"===mu([s,t.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const c=t.scales[a.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(t.options.parsing)return;let{start:u,count:h}=function(t,e){const n=e.length;let i,r=0;const{iScale:o}=t,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(r=fc(mc(e,o.axis,s).lo,0,n-1)),i=c?fc(mc(e,o.axis,a).hi+1,r,n)-r:n-r,{start:r,count:i}}(a,l);if(h<=(n.threshold||4*i))return void Jf(e);let d;switch(Cl(o)&&(e._data=l,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":d=function(t,e,n,i,r){const o=r.samples||i;if(o>=n)return t.slice(e,e+n);const s=[],a=(n-2)/(o-2);let l=0;const c=e+n-1;let u,h,d,f,p,g=e;for(s[l++]=t[g],u=0;u<o-2;u++){let i,r=0,o=0;const c=Math.floor((u+1)*a)+1+e,m=Math.min(Math.floor((u+2)*a)+1,n)+e,y=m-c;for(i=c;i<m;i++)r+=t[i].x,o+=t[i].y;r/=y,o/=y;const _=Math.floor(u*a)+1+e,v=Math.min(Math.floor((u+1)*a)+1,n)+e,{x:b,y:x}=t[g];for(d=f=-1,i=_;i<v;i++)f=.5*Math.abs((b-r)*(t[i].y-x)-(b-t[i].x)*(o-x)),f>d&&(d=f,h=t[i],p=i);s[l++]=h,g=p}return s[l++]=t[c],s}(l,u,h,i,n);break;case"min-max":d=function(t,e,n,i){let r,o,s,a,l,c,u,h,d,f,p=0,g=0;const m=[],y=e+n-1,_=t[e].x,v=t[y].x-_;for(r=e;r<e+n;++r){o=t[r],s=(o.x-_)/v*i,a=o.y;const e=0|s;if(e===l)a<d?(d=a,c=r):a>f&&(f=a,u=r),p=(g*p+o.x)/++g;else{const n=r-1;if(!Cl(c)&&!Cl(u)){const e=Math.min(c,u),i=Math.max(c,u);e!==h&&e!==n&&m.push({...t[e],x:p}),i!==h&&i!==n&&m.push({...t[i],x:p})}r>0&&n!==h&&m.push(t[n]),m.push(o),l=e,g=0,d=f=a,c=u=h=r}}return m}(l,u,h,i);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}e._decimated=d}))},destroy(t){tp(t)}};function np(t,e,n,i){if(i)return;let r=e[t],o=n[t];return"angle"===t&&(r=hc(r),o=hc(o)),{property:t,start:r,end:o}}function ip(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function rp(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function op(t,e){let n=[],i=!1;return kl(t)?(i=!0,n=t):n=function(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,o=[];return e.segments.forEach((t=>{let{start:e,end:s}=t;s=ip(e,s,r);const a=r[e],l=r[s];null!==i?(o.push({x:a.x,y:i}),o.push({x:l.x,y:i})):null!==n&&(o.push({x:n,y:a.y}),o.push({x:n,y:l.y}))})),o}(t,e),n.length?new Af({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function sp(t){return t&&!1!==t.fill}function ap(t,e,n){let i=t[e].fill;const r=[e];let o;if(!n)return i;for(;!1!==i&&-1===r.indexOf(i);){if(!El(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function lp(t,e,n){const i=function(t){const e=t.options,n=e.fill;let i=Tl(n&&n.target,n);void 0===i&&(i=!!e.backgroundColor);if(!1===i||null===i)return!1;if(!0===i)return"origin";return i}(t);if(Sl(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return El(r)&&Math.floor(r)===r?function(t,e,n,i){"-"!==t&&"+"!==t||(n=e+n);if(n===e||n<0||n>=i)return!1;return n}(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function cp(t,e,n){const i=[];for(let r=0;r<n.length;r++){const o=n[r],{first:s,last:a,point:l}=up(o,e,"x");if(!(!l||s&&a))if(s)i.unshift(l);else if(t.push(l),!a)break}t.push(...i)}function up(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],o=t.segments,s=t.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const t=o[c],e=s[t.start][n],i=s[t.end][n];if(pc(r,e,i)){a=r===e,l=r===i;break}}return{first:a,last:l,point:i}}class hp{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:i,y:r,radius:o}=this;return e=e||{start:0,end:$l},t.arc(i,r,o,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:i}=this,r=t.angle;return{x:e+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function dp(t){const{chart:e,fill:n,line:i}=t;if(El(n))return function(t,e){const n=t.getDatasetMeta(e),i=n&&t.isDatasetVisible(e);return i?n.dataset:null}(e,n);if("stack"===n)return function(t){const{scale:e,index:n,line:i}=t,r=[],o=i.segments,s=i.points,a=function(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const t=i[r];if(t.index===e)break;t.hidden||n.unshift(t.dataset)}return n}(e,n);a.push(op({x:null,y:e.bottom},i));for(let l=0;l<o.length;l++){const t=o[l];for(let e=t.start;e<=t.end;e++)cp(r,s[e],a)}return new Af({points:r,options:{}})}(t);if("shape"===n)return!0;const r=function(t){const e=t.scale||{};if(e.getPointPositionForValue)return function(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,o=i.reverse?e.max:e.min,s=function(t,e,n){let i;return i="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:Sl(t)?t.value:e.getBaseValue(),i}(n,e,o),a=[];if(i.grid.circular){const t=e.getPointPositionForValue(0,o);return new hp({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,s));return a}(t);return function(t){const{scale:e={},fill:n}=t,i=function(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:Sl(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}(n,e);if(El(i)){const t=e.isHorizontal();return{x:t?i:null,y:t?null:i}}return null}(t)}(t);return r instanceof hp?r:op(r,i)}function fp(t,e,n){const i=dp(e),{line:r,scale:o,axis:s}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(Jc(t,n),function(t,e){const{line:n,target:i,above:r,below:o,area:s,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),"x"===l&&o!==r&&(pp(t,i,s.top),gp(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),pp(t,i,s.bottom));gp(t,{line:n,target:i,color:o,scale:a,property:l}),t.restore()}(t,{line:r,target:i,above:u,below:h,area:n,scale:o,axis:s}),tu(t))}function pp(t,e,n){const{segments:i,points:r}=e;let o=!0,s=!1;t.beginPath();for(const a of i){const{start:i,end:l}=a,c=r[i],u=r[ip(i,l,r)];o?(t.moveTo(c.x,c.y),o=!1):(t.lineTo(c.x,n),t.lineTo(c.x,c.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(u.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function gp(t,e){const{line:n,target:i,property:r,color:o,scale:s}=e,a=function(t,e,n){const i=t.segments,r=t.points,o=e.points,s=[];for(const a of i){let{start:t,end:i}=a;i=ip(t,i,r);const l=np(n,r[t],r[i],a.loop);if(!e.segments){s.push({source:a,target:l,start:r[t],end:r[i]});continue}const c=ah(e,l);for(const e of c){const t=np(n,o[e.start],o[e.end],e.loop),i=sh(a,r,t);for(const r of i)s.push({source:r,target:e,start:{[n]:rp(l,t,"start",Math.max)},end:{[n]:rp(l,t,"end",Math.min)}})}}return s}(n,i,r);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:e=o}={}}=l,a=!0!==i;t.save(),t.fillStyle=e,mp(t,s,a&&np(r,u,h)),t.beginPath();const d=!!n.pathSegment(t,l);let f;if(a){d?t.closePath():yp(t,i,h,r);const e=!!i.pathSegment(t,c,{move:d,reverse:!0});f=d&&e,f||yp(t,i,u,r)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function mp(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:o,start:s,end:a}=n||{};"x"===o&&(t.beginPath(),t.rect(s,i,a-s,r-i),t.clip())}function yp(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var _p={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let o,s,a,l;for(s=0;s<i;++s)o=t.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof Af&&(l={visible:t.isDatasetVisible(s),index:s,fill:lp(a,s,i),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<i;++s)l=r[s],l&&!1!==l.fill&&(l.fill=ap(r,s,n.propagate))},beforeDraw(t,e,n){const i="beforeDraw"===n.drawTime,r=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let s=r.length-1;s>=0;--s){const e=r[s].$filler;e&&(e.line.updateControlPoints(o,e.axis),i&&e.fill&&fp(t.ctx,e,o))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const e=i[r].$filler;sp(e)&&fp(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;sp(i)&&"beforeDatasetDraw"===n.drawTime&&fp(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const vp=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}};class bp extends Rd{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Il(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=gu(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:a}=vp(n,r);let l,c;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(o,r,s,a)+10):(c=this.maxHeight,l=this._fitCols(o,i,s,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+s;let u=t;r.textAlign="left",r.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,f)=>{const p=n+e/2+r.measureText(t.text).width;(0===f||l[l.length-1]+p+2*s>o)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:i},l[l.length-1]+=p+s})),u}_fitCols(t,e,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-t;let u=s,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,o)=>{const{itemWidth:g,itemHeight:m}=function(t,e,n,i,r){const o=function(t,e,n,i){let r=t.text;r&&"string"!==typeof r&&(r=r.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+i.measureText(r).width}(i,t,e,n),s=function(t,e,n){let i=t;"string"!==typeof e.text&&(i=xp(e,n));return i}(r,i,e.lineHeight);return{itemWidth:o,itemHeight:s}}(n,e,r,t,i);o>0&&d+m+2*s>c&&(u+=h+s,l.push({width:h,height:d}),f+=h+s,p++,h=d=0),a[o]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+s})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,o=eh(r,this.left,this.width);if(this.isHorizontal()){let r=0,s=kc(n,this.left+i,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,s=kc(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+t+i,a.left=o.leftForLtr(o.x(s),a.width),s+=a.width+i}else{let r=0,s=kc(n,this.top+t+i,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,s=kc(n,this.top+t+i,this.bottom-this.columnSizes[r].height)),a.top=s,a.left+=this.left+i,a.left=o.leftForLtr(o.x(a.left),a.width),s+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Jc(t,this),this._draw(),tu(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:o}=t,s=qc.color,a=eh(t.rtl,this.left,this.width),l=gu(o.font),{padding:c}=o,u=l.size,h=u/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=vp(o,u),m=this.isHorizontal(),y=this._computeTitleHeight();d=m?{x:kc(r,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:kc(r,this.top+y+c,this.bottom-e[0].height),line:0},nh(this.ctx,t.textDirection);const _=g+c;this.legendItems.forEach(((v,b)=>{i.strokeStyle=v.fontColor,i.fillStyle=v.fontColor;const x=i.measureText(v.text).width,w=a.textAlign(v.textAlign||(v.textAlign=o.textAlign)),C=f+h+x;let k=d.x,S=d.y;a.setWidth(this.width),m?b>0&&k+C+c>this.right&&(S=d.y+=_,d.line++,k=d.x=kc(r,this.left+c,this.right-n[d.line])):b>0&&S+_>this.bottom&&(k=d.x=k+e[d.line].width+c,d.line++,S=d.y=kc(r,this.top+y+c,this.bottom-e[d.line].height));if(function(t,e,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;i.save();const r=Tl(n.lineWidth,1);if(i.fillStyle=Tl(n.fillStyle,s),i.lineCap=Tl(n.lineCap,"butt"),i.lineDashOffset=Tl(n.lineDashOffset,0),i.lineJoin=Tl(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=Tl(n.strokeStyle,s),i.setLineDash(Tl(n.lineDash,[])),o.usePointStyle){const s={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(t,f/2);Xc(i,s,l,e+h,o.pointStyleWidth&&f)}else{const o=e+Math.max((u-p)/2,0),s=a.leftForLtr(t,f),l=fu(n.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?su(i,{x:s,y:o,w:f,h:p,radius:l}):i.rect(s,o,f,p),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(k),S,v),k=((t,e,n,i)=>t===(i?"left":"right")?n:"center"===t?(e+n)/2:e)(w,k+f+h,m?k+C:this.right,t.rtl),function(t,e,n){ou(i,n.text,t,e+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(k),S,v),m)d.x+=C+c;else if("string"!==typeof v.text){const t=l.lineHeight;d.y+=xp(v,t)+c}else d.y+=_})),ih(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=gu(e.font),i=pu(e.padding);if(!e.display)return;const r=eh(t.rtl,this.left,this.width),o=this.ctx,s=e.position,a=n.size/2,l=i.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=kc(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+kc(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=kc(s,u,u+h);o.textAlign=r.textAlign(Cc(s)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,ou(o,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=gu(t.font),n=pu(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if(pc(t,this.left,this.right)&&pc(e,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],pc(t,i.left,i.left+i.width)&&pc(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this._hoveredItem,s=(r=n,null!==(i=o)&&null!==r&&i.datasetIndex===r.datasetIndex&&i.index===r.index);o&&!s&&Il(e.onLeave,[t,o,this],this),this._hoveredItem=n,n&&!s&&Il(e.onHover,[t,n,this],this)}else n&&Il(e.onClick,[t,n,this],this);var i,r}}function xp(t,e){return e*(t.text?t.text.length:0)}var wp={id:"legend",_element:bp,start(t,e,n){const i=t.legend=new bp({ctx:t.ctx,options:n,chart:t});pd.configure(t,i,n),pd.addBox(t,i)},stop(t){pd.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;pd.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),c=pu(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Cp extends Rd{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=kl(n.text)?n.text.length:1;this._padding=pu(n.padding);const r=i*gu(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:r,options:o}=this,s=o.align;let a,l,c,u=0;return this.isHorizontal()?(l=kc(s,n,r),c=e+t,a=r-n):("left"===o.position?(l=n+t,c=kc(s,i,e),u=-.5*ql):(l=r-t,c=kc(s,e,i),u=.5*ql),a=i-e),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=gu(e.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:o,maxWidth:s,rotation:a}=this._drawArgs(i);ou(t,e.text,0,0,n,{color:e.color,maxWidth:s,rotation:a,textAlign:Cc(e.align),textBaseline:"middle",translation:[r,o]})}}var kp={id:"title",_element:Cp,start(t,e,n){!function(t,e){const n=new Cp({ctx:t.ctx,options:e,chart:t});pd.configure(t,n,e),pd.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;pd.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;pd.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sp=new WeakMap;var Ep={id:"subtitle",start(t,e,n){const i=new Cp({ctx:t.ctx,options:n,chart:t});pd.configure(t,i,n),pd.addBox(t,i),Sp.set(t,i)},stop(t){pd.removeBox(t,Sp.get(t)),Sp.delete(t)},beforeUpdate(t,e,n){const i=Sp.get(t);pd.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pp={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,o=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i.add(t.x),r+=t.y,++o}}return{x:[...i].reduce(((t,e)=>t+e))/i.size,y:r/o}},nearest(t,e){if(!t.length)return!1;let n,i,r,o=e.x,s=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=cc(e,i.getCenterPoint());t<a&&(a=t,r=i)}}if(r){const t=r.tooltipPosition();o=t.x,s=t.y}return{x:o,y:s}}};function Tp(t,e){return e&&(kl(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Mp(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Ip(t,e){const{element:n,datasetIndex:i,index:r}=e,o=t.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:t,label:s,parsed:o.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Dp(t,e){const n=t.chart.ctx,{body:i,footer:r,title:o}=t,{boxWidth:s,boxHeight:a}=e,l=gu(e.bodyFont),c=gu(e.titleFont),u=gu(e.footerFont),h=o.length,d=r.length,f=i.length,p=pu(e.padding);let g=p.height,m=0,y=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){g+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let _=0;const v=function(t){m=Math.max(m,n.measureText(t).width+_)};return n.save(),n.font=c.string,Dl(t.title,v),n.font=l.string,Dl(t.beforeBody.concat(t.afterBody),v),_=e.displayColors?s+2+e.boxPadding:0,Dl(i,(t=>{Dl(t.before,v),Dl(t.lines,v),Dl(t.after,v)})),_=0,n.font=u.string,Dl(t.footer,v),n.restore(),m+=p.width,{width:m,height:g}}function Rp(t,e,n,i){const{x:r,width:o}=n,{width:s,chartArea:{left:a,right:l}}=t;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=o/2?c="left":r>=s-o/2&&(c="right"),function(t,e,n,i){const{x:r,width:o}=i,s=n.caretSize+n.caretPadding;return"left"===t&&r+o+s>e.width||"right"===t&&r-o-s<0||void 0}(c,t,e,n)&&(c="center"),c}function Np(t,e,n){const i=n.yAlign||e.yAlign||function(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||Rp(t,e,n,i),yAlign:i}}function Op(t,e,n,i){const{caretSize:r,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:l}=n,c=r+o,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=fu(s);let p=function(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(e,a);const g=function(t,e,n){let{y:i,height:r}=t;return"top"===e?i+=n:i-="bottom"===e?r+n:r/2,i}(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+r:"right"===a&&(p+=Math.max(h,f)+r),{x:fc(p,0,i.width-e.width),y:fc(g,0,i.height-e.height)}}function Ap(t,e,n){const i=pu(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function Lp(t){return Tp([],Mp(t))}function Fp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const zp={beforeTitle:xl,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:xl,beforeBody:xl,beforeLabel:xl,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Cl(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:xl,afterBody:xl,beforeFooter:xl,footer:xl,afterFooter:xl};function Bp(t,e,n,i){const r=t[e].call(n,i);return"undefined"===typeof r?zp[e].call(n,i):r}class jp extends Rd{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new mh(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,yu(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,i=Bp(n,"beforeTitle",this,t),r=Bp(n,"title",this,t),o=Bp(n,"afterTitle",this,t);let s=[];return s=Tp(s,Mp(i)),s=Tp(s,Mp(r)),s=Tp(s,Mp(o)),s}getBeforeBody(t,e){return Lp(Bp(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return Dl(t,(t=>{const e={before:[],lines:[],after:[]},r=Fp(n,t);Tp(e.before,Mp(Bp(r,"beforeLabel",this,t))),Tp(e.lines,Bp(r,"label",this,t)),Tp(e.after,Mp(Bp(r,"afterLabel",this,t))),i.push(e)})),i}getAfterBody(t,e){return Lp(Bp(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=Bp(n,"beforeFooter",this,t),r=Bp(n,"footer",this,t),o=Bp(n,"afterFooter",this,t);let s=[];return s=Tp(s,Mp(i)),s=Tp(s,Mp(r)),s=Tp(s,Mp(o)),s}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],o=[];let s,a,l=[];for(s=0,a=e.length;s<a;++s)l.push(Ip(this.chart,e[s]));return t.filter&&(l=l.filter(((e,i,r)=>t.filter(e,i,r,n)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,n)))),Dl(l,(e=>{const n=Fp(t.callbacks,e);i.push(Bp(n,"labelColor",this,e)),r.push(Bp(n,"labelPointStyle",this,e)),o.push(Bp(n,"labelTextColor",this,e))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(i.length){const t=Pp[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const e=this._size=Dp(this,n),s=Object.assign({},t,e),a=Np(this.chart,n,s),l=Op(n,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:s}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=fu(s),{x:h,y:d}=t,{width:f,height:p}=e;let g,m,y,_,v,b;return"center"===r?(v=d+p/2,"left"===i?(g=h,m=g-o,_=v+o,b=v-o):(g=h+f,m=g+o,_=v-o,b=v+o),y=g):(m="left"===i?h+Math.max(a,c)+o:"right"===i?h+f-Math.max(l,u)-o:this.caretX,"top"===r?(_=d,v=_-o,g=m-o,y=m+o):(_=d+p,v=_+o,g=m+o,y=m-o),b=_),{x1:g,x2:m,x3:y,y1:_,y2:v,y3:b}}drawTitle(t,e,n){const i=this.title,r=i.length;let o,s,a;if(r){const l=eh(n.rtl,this.x,this.width);for(t.x=Ap(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",o=gu(n.titleFont),s=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s,a+1===r&&(t.y+=n.titleMarginBottom-s)}}_drawColorBox(t,e,n,i,r){const o=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,c=gu(r.bodyFont),u=Ap(this,"left",r),h=i.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=e.y+d;if(r.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=f+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Gc(t,e,n,c),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Gc(t,e,n,c)}else{t.lineWidth=Sl(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=i.leftForLtr(h,l),n=i.leftForLtr(i.xPlus(h,1),l-2),s=fu(o.borderRadius);Object.values(s).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,su(t,{x:e,y:f,w:l,h:a,radius:s}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),su(t,{x:n,y:f+1,w:l-2,h:a-2,radius:s}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=o.backgroundColor,t.fillRect(n,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:s,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=gu(n.bodyFont);let h=u.lineHeight,d=0;const f=eh(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+r},g=f.textAlign(o);let m,y,_,v,b,x,w;for(e.textAlign=o,e.textBaseline="middle",e.font=u.string,t.x=Ap(this,g,n),e.fillStyle=n.bodyColor,Dl(this.beforeBody,p),d=s&&"right"!==g?"center"===o?l/2+c:l+2+c:0,v=0,x=i.length;v<x;++v){for(m=i[v],y=this.labelTextColors[v],e.fillStyle=y,Dl(m.before,p),_=m.lines,s&&_.length&&(this._drawColorBox(e,t,v,f,n),h=Math.max(u.lineHeight,a)),b=0,w=_.length;b<w;++b)p(_[b]),h=u.lineHeight;Dl(m.after,p)}d=0,h=u.lineHeight,Dl(this.afterBody,p),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let o,s;if(r){const a=eh(n.rtl,this.x,this.width);for(t.x=Ap(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",o=gu(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,s=0;s<r;++s)e.fillText(i[s],a.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:o}=this,{x:s,y:a}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=fu(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(s+u,a),"top"===o&&this.drawCaret(t,e,n,i),e.lineTo(s+l-h,a),e.quadraticCurveTo(s+l,a,s+l,a+h),"center"===o&&"right"===r&&this.drawCaret(t,e,n,i),e.lineTo(s+l,a+c-f),e.quadraticCurveTo(s+l,a+c,s+l-f,a+c),"bottom"===o&&this.drawCaret(t,e,n,i),e.lineTo(s+d,a+c),e.quadraticCurveTo(s,a+c,s,a+c-d),"center"===o&&"left"===r&&this.drawCaret(t,e,n,i),e.lineTo(s,a+u),e.quadraticCurveTo(s,a,s+u,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=Pp[t.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=Dp(this,t),s=Object.assign({},n,this._size),a=Np(e,t,s),l=Op(t,s,a,e);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=pu(e.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&s&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),nh(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),ih(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[n],index:n}})),r=!Rl(n,i),o=this._positionChanged(i,e);(r||o)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,n),s=this._positionChanged(o,t),a=e||!Rl(o,r)||s;return a&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const r=this.options;if("mouseout"===t.type)return[];if(!i)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const o=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,o=Pp[r.position].call(this,t,e);return!1!==o&&(n!==o.x||i!==o.y)}}Wa(jp,"positioners",Pp);var Wp={id:"tooltip",_element:jp,positioners:Pp,afterInit(t,e,n){n&&(t.tooltip=new jp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:zp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Vp=Object.freeze({__proto__:null,Colors:Zf,Decimation:ep,Filler:_p,Legend:wp,SubTitle:Ep,Title:kp,Tooltip:Wp});function Hp(t,e,n,i){const r=t.indexOf(e);if(-1===r)return((t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,i);return r!==t.lastIndexOf(e)?n:r}function Up(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class qp extends Vd{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Cl(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:fc(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:Hp(n,t,Tl(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)i.push({value:o});return i}getLabelForValue(t){return Up.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function $p(t,e){const n=[],{bounds:i,step:r,min:o,max:s,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=r||1,f=c-1,{min:p,max:g}=e,m=!Cl(o),y=!Cl(s),_=!Cl(l),v=(g-p)/(u+1);let b,x,w,C,k=nc((g-p)/f/d)*d;if(k<1e-14&&!m&&!y)return[{value:p},{value:g}];C=Math.ceil(g/k)-Math.floor(p/k),C>f&&(k=nc(C*k/f/d)*d),Cl(a)||(b=Math.pow(10,a),k=Math.ceil(k*b)/b),"ticks"===i?(x=Math.floor(p/k)*k,w=Math.ceil(g/k)*k):(x=p,w=g),m&&y&&r&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((s-o)/r,k/1e3)?(C=Math.round(Math.min((s-o)/k,c)),k=(s-o)/C,x=o,w=s):_?(x=m?o:x,w=y?s:w,C=l-1,k=(w-x)/C):(C=(w-x)/k,C=ec(C,Math.round(C),k/1e3)?Math.round(C):Math.ceil(C));const S=Math.max(ac(k),ac(x));b=Math.pow(10,Cl(a)?S:a),x=Math.round(x*b)/b,w=Math.round(w*b)/b;let E=0;for(m&&(h&&x!==o?(n.push({value:o}),x<o&&E++,ec(Math.round((x+E*k)*b)/b,o,Yp(o,v,t))&&E++):x<o&&E++);E<C;++E){const t=Math.round((x+E*k)*b)/b;if(y&&t>s)break;n.push({value:t})}return y&&h&&w!==s?n.length&&ec(n[n.length-1].value,s,Yp(s,v,t))?n[n.length-1].value=s:n.push({value:s}):y&&w!==s||n.push({value:w}),n}function Yp(t,e,n){let{horizontal:i,minRotation:r}=n;const o=oc(r),s=(i?Math.sin(o):Math.cos(o))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}Wa(qp,"id","category"),Wa(qp,"defaults",{ticks:{callback:Up}});class Kp extends Vd{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Cl(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=t=>i=e?i:t,s=t=>r=n?r:t;if(t){const t=tc(i),e=tc(r);t<0&&e<0?s(0):t>0&&e>0&&o(0)}if(i===r){let e=0===r?1:Math.abs(.05*r);s(r+e),t||o(i-e)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=$p({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&rc(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Fc(t,this.chart.options.locale,this.options.ticks.format)}}class Qp extends Kp{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=El(t)?t:0,this.max=El(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=oc(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Wa(Qp,"id","linear"),Wa(Qp,"defaults",{ticks:{callback:Bc.formatters.numeric}});const Gp=t=>Math.floor(Jl(t)),Xp=(t,e)=>Math.pow(10,Gp(t)+e);function Zp(t){return 1===t/Math.pow(10,Gp(t))}function Jp(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function tg(t,e){let{min:n,max:i}=e;n=Pl(t.min,n);const r=[],o=Gp(n);let s=function(t,e){let n=Gp(e-t);for(;Jp(t,e,n)>10;)n++;for(;Jp(t,e,n)<10;)n--;return Math.min(n,Gp(t))}(n,i),a=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=o>s?Math.pow(10,o):0,u=Math.round((n-c)*a)/a,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,s)),f=Pl(t.min,Math.round((c+h+d*Math.pow(10,s))*a)/a);for(;f<i;)r.push({value:f,major:Zp(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,a=s>=0?1:a),f=Math.round((c+h+d*Math.pow(10,s))*a)/a;const p=Pl(t.max,f);return r.push({value:p,major:Zp(p),significand:d}),r}class eg extends Vd{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=Kp.prototype.parse.apply(this,[t,e]);if(0!==n)return El(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=El(t)?Math.max(0,t):null,this.max=El(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!El(this._userMin)&&(this.min=t===Xp(this.min,0)?Xp(this.min,-1):Xp(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const r=e=>n=t?n:e,o=t=>i=e?i:t;n===i&&(n<=0?(r(1),o(10)):(r(Xp(n,-1)),o(Xp(i,1)))),n<=0&&r(Xp(i,-1)),i<=0&&o(Xp(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e=tg({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&rc(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":Fc(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Jl(t),this._valueRange=Jl(this.max)-Jl(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Jl(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function ng(t){const e=t.ticks;if(e.display&&t.display){const t=pu(e.backdropPadding);return Tl(e.font&&e.font.size,qc.font.size)+t.height}return 0}function ig(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function rg(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],o=t._pointLabels.length,s=t.options.pointLabels,a=s.centerPointLabels?ql/o:0;for(let h=0;h<o;h++){const o=s.setContext(t.getPointLabelContext(h));r[h]=o.padding;const d=t.getPointPosition(h,t.drawingArea+r[h],a),f=gu(o.font),p=(l=t.ctx,c=f,u=kl(u=t._pointLabels[h])?u:[u],{w:Yc(l,c.string,u),h:u.length*c.lineHeight});i[h]=p;const g=hc(t.getIndexAngle(h)+a),m=Math.round(sc(g));og(n,e,g,ig(m,d.x,p.w,0,180),ig(m,d.y,p.h,90,270))}var l,c,u;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const i=[],r=t._pointLabels.length,o=t.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:ng(o)/2,additionalAngle:s?ql/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const r=sg(t,u,l);i.push(r),"auto"===a&&(r.visible=ag(r,c),r.visible&&(c=r))}return i}(t,i,r)}function og(t,e,n,i,r){const o=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/o,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/s,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function sg(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=n,l=t.getPointPosition(e,i+r+s,o),c=Math.round(sc(hc(l.angle+Gl))),u=function(t,e,n){90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e);return t}(l.y,a.h,c),h=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(c),d=function(t,e,n){"right"===n?t-=e:"center"===n&&(t-=e/2);return t}(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function ag(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:o}=t;return!(Zc({x:n,y:i},e)||Zc({x:n,y:o},e)||Zc({x:r,y:i},e)||Zc({x:r,y:o},e))}function lg(t,e,n){const{left:i,top:r,right:o,bottom:s}=n,{backdropColor:a}=e;if(!Cl(a)){const n=fu(e.borderRadius),l=pu(e.backdropPadding);t.fillStyle=a;const c=i-l.left,u=r-l.top,h=o-i+l.width,d=s-r+l.height;Object.values(n).some((t=>0!==t))?(t.beginPath(),su(t,{x:c,y:u,w:h,h:d,radius:n}),t.fill()):t.fillRect(c,u,h,d)}}function cg(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,$l);else{let n=t.getPointPosition(0,e);r.moveTo(n.x,n.y);for(let o=1;o<i;o++)n=t.getPointPosition(o,e),r.lineTo(n.x,n.y)}}Wa(eg,"id","logarithmic"),Wa(eg,"defaults",{ticks:{callback:Bc.formatters.logarithmic,major:{enabled:!0}}});class ug extends Kp{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=pu(ng(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=El(t)&&!isNaN(t)?t:0,this.max=El(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ng(this.options))}generateTickLabels(t){Kp.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=Il(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?rg(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){return hc(t*($l/(this._pointLabels.length||1))+oc(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Cl(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Cl(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return yu(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(t)-Gl+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),cg(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:r}=e,o=this._pointLabels.length;let s,a,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const e=t._pointLabelItems[r];if(!e.visible)continue;const o=i.setContext(t.getPointLabelContext(r));lg(n,o,e);const s=gu(o.font),{x:a,y:l,textAlign:c}=e;ou(n,t._pointLabels[r],a,l+s.lineHeight/2,s,{color:o.color,textAlign:c,textBaseline:"middle"})}}(this,o),i.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){a=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),s=i.setContext(n),l=r.setContext(n);!function(t,e,n,i,r){const o=t.ctx,s=e.circular,{color:a,lineWidth:l}=e;!s&&!i||!a||!l||n<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(r.dash),o.lineDashOffset=r.dashOffset,o.beginPath(),cg(t,n,s,i),o.closePath(),o.stroke(),o.restore())}(this,s,a,o,l)}})),n.display){for(t.save(),s=o-1;s>=0;s--){const i=n.setContext(this.getPointLabelContext(s)),{color:r,lineWidth:o}=i;o&&r&&(t.lineWidth=o,t.strokeStyle=r,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(s,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((i,s)=>{if(0===s&&this.min>=0&&!e.reverse)return;const a=n.setContext(this.getContext(s)),l=gu(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[s].value),a.showLabelBackdrop){t.font=l.string,o=t.measureText(i.label).width,t.fillStyle=a.backdropColor;const e=pu(a.backdropPadding);t.fillRect(-o/2-e.left,-r-l.size/2-e.top,o+e.width,l.size+e.height)}ou(t,i.label,0,-r,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),t.restore()}drawTitle(){}}Wa(ug,"id","radialLinear"),Wa(ug,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Bc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),Wa(ug,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Wa(ug,"descriptors",{angleLines:{_fallback:"grid"}});const hg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},dg=Object.keys(hg);function fg(t,e){return t-e}function pg(t,e){if(Cl(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:o}=t._parseOpts;let s=e;return"function"===typeof i&&(s=i(s)),El(s)||(s="string"===typeof i?n.parse(s,i):n.parse(s)),null===s?null:(r&&(s="week"!==r||!ic(o)&&!0!==o?n.startOf(s,r):n.startOf(s,"isoWeek",o)),+s)}function gg(t,e,n,i){const r=dg.length;for(let o=dg.indexOf(t);o<r-1;++o){const t=hg[dg[o]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(r*t.size))<=i)return dg[o]}return dg[r-1]}function mg(t,e,n){if(n){if(n.length){const{lo:i,hi:r}=gc(n,e);t[n[i]>=e?n[i]:n[r]]=!0}}else t[e]=!0}function yg(t,e,n){const i=[],r={},o=e.length;let s,a;for(s=0;s<o;++s)a=e[s],r[a]=s,i.push({value:a,major:!1});return 0!==o&&n?function(t,e,n,i){const r=t._adapter,o=+r.startOf(e[0].value,i),s=e[e.length-1].value;let a,l;for(a=o;a<=s;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}(t,i,r,n):i}class _g extends Vd{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),i=this._adapter=new Kh(t.adapters.date);i.init(e),Fl(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:pg(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:s}=this.getUserBounds();function a(t){o||isNaN(t.min)||(i=Math.min(i,t.min)),s||isNaN(t.max)||(r=Math.max(r,t.max))}o&&s||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=El(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=El(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=function(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}(i,r,this.max);return this._unit=e.unit||(n.autoSkip?gg(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(t,e,n,i,r){for(let o=dg.length-1;o>=dg.indexOf(n);o--){const n=dg[o];if(hg[n].common&&t._adapter.diff(r,i,n)>=e-1)return n}return dg[n?dg.indexOf(n):0]}(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=dg.indexOf(t)+1,n=dg.length;e<n;++e)if(hg[dg[e]].common)return dg[e]}(this._unit):void 0,this.initOffsets(i),t.reverse&&o.reverse(),yg(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),i=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),r=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const o=n.length<3?.5:.25;i=fc(i,0,o),r=fc(r,0,o),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||gg(r.minUnit,e,n,this._getLabelCapacity(e)),s=Tl(i.ticks.stepSize,1),a="week"===o&&r.isoWeekday,l=ic(a)||!0===a,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":o),t.diff(n,e,o)>1e5*s)throw new Error(e+" and "+n+" are too far apart with stepSize of "+s+" "+o);const f="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,s,o),h++)mg(c,u,f);return u!==n&&"ticks"!==i.bounds&&1!==h||mg(c,u,f),Object.keys(c).sort(fg).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,i=this._unit,r=e||n[i];return this._adapter.format(t,r)}_tickFormatFunction(t,e,n,i){const r=this.options,o=r.ticks.callback;if(o)return Il(o,[t,e,n],this);const s=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&s[a],u=l&&s[l],h=n[e],d=l&&u&&h&&h.major;return this._adapter.format(t,i||(d?u:c))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=oc(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),o=Math.sin(i),s=this._resolveTickFontOptions(0).size;return{w:n*r+s*o,h:n*o+s*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,yg(this,[t],this._majorUnit),i),o=this._getLabelSize(r),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(pg(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return bc(t.sort(fg))}}function vg(t,e,n){let i,r,o,s,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=mc(t,"pos",e)),({pos:i,time:o}=t[a]),({pos:r,time:s}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=mc(t,"time",e)),({time:i,pos:o}=t[a]),({time:r,pos:s}=t[l]));const c=r-i;return c?o+(s-o)*(e-i)/c:o}Wa(_g,"id","time"),Wa(_g,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class bg extends _g{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=vg(e,this.min),this._tableRange=vg(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],r=[];let o,s,a,l,c;for(o=0,s=t.length;o<s;++o)l=t[o],l>=e&&l<=n&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,s=i.length;o<s;++o)c=i[o+1],a=i[o-1],l=i[o],Math.round((c+a)/2)!==l&&r.push({time:l,pos:o/(s-1)});return r}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(e)&&1!==n.length||n.push(e),n.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(vg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return vg(this._table,n*this._tableRange+this._minPos,!0)}}Wa(bg,"id","timeseries"),Wa(bg,"defaults",_g.defaults);const xg=[qh,qf,Vp,Object.freeze({__proto__:null,CategoryScale:qp,LinearScale:Qp,LogarithmicScale:eg,RadialLinearScale:ug,TimeScale:_g,TimeSeriesScale:bg})],wg="label";function Cg(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function kg(t,e){t.labels=e}function Sg(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wg;const i=[];t.datasets=e.map((e=>{const r=t.datasets.find((t=>t[n]===e[n]));return r&&e.data&&!i.includes(r)?(i.push(r),Object.assign(r,e),r):{...e}}))}function Eg(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wg;const n={labels:[],datasets:[]};return kg(n,t.labels),Sg(n,t.datasets,e),n}function Pg(t,n){const{height:i=150,width:r=300,redraw:o=!1,datasetIdKey:s,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d,...f}=t,p=(0,e.useRef)(null),g=(0,e.useRef)(),m=()=>{p.current&&(g.current=new bf(p.current,{type:a,data:Eg(l,s),options:c&&{...c},plugins:u}),Cg(n,g.current))},y=()=>{Cg(n,null),g.current&&(g.current.destroy(),g.current=null)};return(0,e.useEffect)((()=>{!o&&g.current&&c&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(g.current,c)}),[o,c]),(0,e.useEffect)((()=>{!o&&g.current&&kg(g.current.config.data,l.labels)}),[o,l.labels]),(0,e.useEffect)((()=>{!o&&g.current&&l.datasets&&Sg(g.current.config.data,l.datasets,s)}),[o,l.datasets]),(0,e.useEffect)((()=>{g.current&&(o?(y(),setTimeout(m)):g.current.update(d))}),[o,c,l.labels,l.datasets,d]),(0,e.useEffect)((()=>{g.current&&(y(),setTimeout(m))}),[a]),(0,e.useEffect)((()=>(m(),()=>y())),[]),e.createElement("canvas",Object.assign({ref:p,role:"img",height:i,width:r},f),h)}const Tg=(0,e.forwardRef)(Pg);function Mg(t,n){return bf.register(n),(0,e.forwardRef)(((n,i)=>e.createElement(Tg,Object.assign({},n,{ref:i,type:t}))))}const Ig=Mg("pie",Vh);bf.register(...xg);var Dg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rg=e.createContext&&e.createContext(Dg),Ng=["attr","size","title"];function Og(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ag.apply(this,arguments)}function Lg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Fg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lg(Object(n),!0).forEach((function(e){zg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zg(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bg(t){return t&&t.map(((t,n)=>e.createElement(t.tag,Fg({key:n},t.attr),Bg(t.child))))}function jg(t){return n=>e.createElement(Wg,Ag({attr:Fg({},t.attr)},n),Bg(t.child))}function Wg(t){var n=n=>{var i,{attr:r,size:o,title:s}=t,a=Og(t,Ng),l=o||n.size||"1em";return n.className&&(i=n.className),t.className&&(i=(i?i+" ":"")+t.className),e.createElement("svg",Ag({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:i,style:Fg(Fg({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&e.createElement("title",null,s),t.children)};return void 0!==Rg?e.createElement(Rg.Consumer,null,(t=>n(t))):n(Dg)}function Vg(t){return jg({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"},child:[]}]})(t)}function Hg(t){return jg({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"},child:[]}]})(t)}const Ug=async t=>{try{const e=function(t,e){t=se(t),Ws("push",t._path),Fs("push",e,t._path,!0);const n=Zs(t._repo),i=ba(n),r=Ta(t,i),o=Ta(t,i);let s;return s=null!=e?Ma(o,e).then((()=>o)):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}(Pa(Fa,"responses"));return await Ma(e,t),console.log("Response stored with ID:",e.key),e.key}catch(Xg){console.error("Error storing response:",Xg)}},qg=async t=>{console.log("repsonse id",t);try{const e=Pa(Fa,"responses/".concat(t));await function(t){return Ws("remove",t._path),Ma(t,null)}(e),console.log("Response removed with ID:",t)}catch(Xg){console.error("Error removing response:",Xg)}};function $g(t){return jg({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 2.04938V13H21.9506C21.4489 18.0533 17.1853 22 12 22C6.47715 22 2 17.5229 2 12C2 6.81465 5.94668 2.5511 11 2.04938ZM13 2.04938C17.7244 2.51845 21.4816 6.27559 21.9506 11H13V2.04938Z"},child:[]}]})(t)}const Yg=()=>{const[t,n]=(0,e.useState)({}),[i,r]=(0,e.useState)([]),[o,s]=(0,e.useState)(0),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(!1),h=J(),d=async()=>{var t;const e=await za(),n=null===(t=i[o])||void 0===t?void 0:t.id;if(n){const t=e.filter((t=>t.questionId===n)),i=t.filter((t=>"optionA"===t.choice)).length,r=t.filter((t=>"optionB"===t.choice)).length;l({optionA:i,optionB:r})}};(0,e.useEffect)((()=>{const t=[...Ct].sort((()=>Math.random()-.5));r(t)}),[Ct]),(0,e.useEffect)((()=>{d()}),[d,o]);const f=async(t,e)=>{const i=(t=>{let e=document.cookie;console.log("allCookies = document.cookie;",e);const n=e.split(";");let i=null;for(let r of n){r=r.trim();const[e,n]=r.split("=");if(e==t&&null!==n){i={name:e,value:n},console.log("foundCookie",i);break}}return i})(t);null!==i&&i.name==t&&null!=i.value&&(console.log("fc",i),document.cookie="".concat(i.name," = null"),console.log("removing",i.value),await qg(i.value));const r={questionId:t,choice:e,timestamp:(new Date).toISOString()},o=await Ug(r);document.cookie="".concat(t,"=").concat(o),n((e=>({...e,[t]:r}))),d(),u(!0)};return(0,bt.jsxs)("div",{children:[(0,bt.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,bt.jsx)($g,{id:"piecharticon",onClick:()=>h("/stats"),size:50,style:{color:"#FFF"}}),(0,bt.jsx)(xt,{})]}),(0,bt.jsx)("div",{id:"game",children:i.length>0&&o<i.length&&(0,bt.jsxs)("div",{children:[(0,bt.jsxs)("div",{id:"questionWrapper",children:[(0,bt.jsx)("button",{className:"arrow",onClick:()=>s((t=>Math.max(0,t-1))),disabled:0===o,children:(0,bt.jsx)(Vg,{size:30})}),(0,bt.jsx)(wt,{question:i[o],onRespond:t=>f(i[o].id,t),response:t[i[o].id]}),(0,bt.jsx)("button",{className:"arrow",onClick:()=>(s((t=>Math.max(0,t+1))),void u(!1)),disabled:o===i.length-1,children:(0,bt.jsx)(Hg,{size:30})})]}),(0,bt.jsx)("div",{children:c&&a&&(()=>{var e;const n=i[o];if(!n||!a)return null;const r=null===(e=t[n.id])||void 0===e?void 0:e.choice;let s;s="optionA"===r?["#ff6347","#36A2EB"]:"optionB"===r?["#36A2EB","#ff6347"]:["#ff6347","#36A2EB"];const l={labels:[n.optionAshort,n.optionBshort],datasets:[{data:[a.optionA,a.optionB],backgroundColor:s,borderWidth:0}]},c={plugins:{legend:{labels:{color:"white",display:"flex",flexDirection:"column",justifyContent:"flex-start",textAlign:"left"}},tooltip:{callbacks:{label:function(t){const e=t.label,i=e===n.optionAshort?n.optionA:n.optionB,r=e===n.optionAshort?a.optionA:a.optionB;return((t,e)=>{const n=t.split(" ");let i=[],r=n[0];return n.slice(1).forEach((t=>{r.length+t.length+1<e?r+=" ".concat(t):(i.push(r),r=t)})),i.push(r),i})(i,40).map((t=>" ".concat(t))).concat(["Responses: ".concat(r)])}}}}};return(0,bt.jsx)("div",{id:"ooop",style:{display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"center"},children:(0,bt.jsxs)("div",{className:"stat",children:[(0,bt.jsx)("h3",{children:n.text}),(0,bt.jsx)(Ig,{data:l,options:c})]},n.id)})})()}),(0,bt.jsx)("div",{className:"navigation-buttons"})]})})]})};function Kg(t){return jg({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 9.059v-2.559c0-.256-.098-.512-.293-.708-.195-.195-.451-.292-.707-.292s-.512.097-.707.292l-6.293 6.208 6.293 6.207c.195.195.451.293.707.293s.512-.098.707-.293.293-.452.293-.707v-2.489c2.75.068 5.755.566 8 3.989v-1c0-4.633-3.5-8.443-8-8.941z"},child:[]}]})(t)}const Qg=t=>{let{questions:n}=t;const[i,r]=(0,e.useState)([]),[o,s]=(0,e.useState)(!0),[a,l]=(0,e.useState)(n),c=J();(0,e.useEffect)((()=>{(async()=>{try{const t=await za();console.log("Fetched responses in Statistics:",t),r(t),s(!1)}catch(Tn){console.error("Error fetching responses:",Tn),s(!1)}})()}),[]);const u=t=>{const e=i.filter((e=>e.questionId===t));return{optionA:e.filter((t=>"optionA"===t.choice)).length,optionB:e.filter((t=>"optionB"===t.choice)).length}};return(0,bt.jsxs)("div",{children:[(0,bt.jsx)("button",{className:"arrow",style:{width:"auto",position:"fixed",top:"30px",left:"30px"},onClick:()=>{c("/")},children:(0,bt.jsx)(Kg,{size:60})}),(0,bt.jsx)(xt,{style:{width:"50vh"}}),(0,bt.jsx)("div",{style:{display:"flex",justifyContent:"right",marginRight:"16%"},children:(0,bt.jsxs)("select",{className:"sort-select",onChange:t=>{(t=>{let e=[...n];switch(t){case"closestTo50-50":e.sort(((t,e)=>{const n=u(t.id),i=u(e.id);return Math.abs(n.optionA-n.optionB)-Math.abs(i.optionA-i.optionB)}));break;case"farthestFrom50-50":e.sort(((t,e)=>{const n=u(t.id),i=u(e.id),r=Math.abs(n.optionA-n.optionB);return Math.abs(i.optionA-i.optionB)-r}));break;case"mostAnswered":e.sort(((t,e)=>{const n=u(t.id),i=u(e.id),r=n.optionA+n.optionB;return i.optionA+i.optionB-r}));break;case"leastAnswered":e.sort(((t,e)=>{const n=u(t.id),i=u(e.id);return n.optionA+n.optionB-(i.optionA+i.optionB)}));break;default:e=[...n]}l(e)})(t.target.value)},defaultValue:"",children:[(0,bt.jsx)("option",{value:"",disabled:!0,children:"Sort Graphs"}),(0,bt.jsx)("option",{value:"closestTo50-50",children:"Closest to 50-50"}),(0,bt.jsx)("option",{value:"farthestFrom50-50",children:"Farthest from 50-50"}),(0,bt.jsx)("option",{value:"mostAnswered",children:"Most Answered"}),(0,bt.jsx)("option",{value:"leastAnswered",children:"Least Answered"})]})}),(0,bt.jsx)("div",{className:"statistics",children:o?(0,bt.jsx)("p",{children:"Loading..."}):a.map((t=>{const e=u(t.id),n={labels:[t.optionAshort,t.optionBshort],datasets:[{data:[e.optionA,e.optionB],backgroundColor:["#ff6347","#36A2EB"],borderWidth:0}]},i={plugins:{legend:{labels:{color:"white",display:"flex",flexDirection:"column",justifyContent:"flex-start",textAlign:"left"}},tooltip:{callbacks:{label:function(n){const i=n.label,r=i===t.optionAshort?t.optionA:t.optionB,o=i===t.optionAshort?e.optionA:e.optionB;return((t,e)=>{const n=t.split(" ");let i=[],r=n[0];return n.slice(1).forEach((t=>{r.length+t.length+1<e?r+=" ".concat(t):(i.push(r),r=t)})),i.push(r),i})(r,40).map((t=>" ".concat(t))).concat(["Responses: ".concat(o)])}}}}};return(0,bt.jsxs)("div",{className:"stat",children:[(0,bt.jsx)("h3",{children:t.text}),(0,bt.jsx)(Ig,{data:n,options:i})]},t.id)}))})]})};const Gg=function(){return(0,bt.jsx)(yt,{children:(0,bt.jsxs)("div",{className:"App",children:[(0,bt.jsx)("header",{}),(0,bt.jsx)("main",{children:(0,bt.jsxs)(pt,{children:[(0,bt.jsx)(dt,{path:"/",element:(0,bt.jsx)(Yg,{questions:Ct})}),(0,bt.jsx)(dt,{path:"/stats",element:(0,bt.jsx)(Qg,{questions:Ct})})]})})]})})};r.createRoot(document.getElementById("root")).render((0,bt.jsx)(e.StrictMode,{children:(0,bt.jsx)(Gg,{})}))})()})();
//# sourceMappingURL=main.8131fe12.js.map